{"version":3,"sources":["router/PrivateRoute.js","router/PublicRoute.js","helpers/fetch.js","types/types.js","actions/auth.js","router/Loading.js","hooks/useForm.js","images/ee.png","components/auth/LoginScreen.js","actions/ui.js","components/eventos/EnviarMensajeCelu.js","components/eventos/EnviarMensajeCeluAll.js","components/auth/AdminScreen.js","actions/clientes.js","components/clientes/ClienteItems.js","actions/eventos.js","components/ui/Pagination.js","components/clientes/AsociarClienteModal.js","components/clientes/AsociarEventoModal.js","components/clientes/AsociarEventoClienteModal.js","components/clientes/AsociarReenviarWSPModal.js","components/clientes/AsociarEventoCeluModal.js","components/clientes/ClienteScreen.js","components/eventos/HomeScreen.js","components/ui/QRGenerator.js","hooks/useFormAuto.js","components/clientes/AddCliente.js","components/eventos/AddEvento.js","components/rpps/AddRpp.js","components/ui/Navbar.js","images/eee.png","components/ui/NotFoundScreen.js","components/eventos/PasswordModal.js","components/clientes/ClientesVerificadosItems.js","components/clientes/VerificarClientes.js","components/eventos/EventoElegir.js","components/eventos/EventoScreen.js","components/rpps/RppItems.js","components/rpps/AsociarModal.js","components/rpps/AsociarEventoRppModal.js","components/ui/ComprobanteDetalleRRPP.js","components/rpps/RppScreen.js","components/clientes/ClienteItemsDetalle.js","components/ui/ComprobanteDetalle.js","components/ui/ComprobanteDetalleClientes.js","components/eventos/EventoDetalle.js","components/eventos/EventoEditar.js","components/clientes/AddClientePuerta.js","components/clientes/ClienteEditar.js","components/rpps/RrppEditar.js","components/clientes/ClienteItemsFreeList.js","components/clientes/ClienteListaFreeScreen.js","components/clientes/ClienteTicketItems.js","components/clientes/ClienteTicketsGenerados.js","components/ui/ComprobanteDetalleClientesFree.js","components/clientes/GenerarTicketFree.js","components/clientes/ClientesAllItems.js","components/clientes/ClienteAllScreen.js","components/clientes/ClienteAdminEditar.js","components/clientes/AddClienteEspecial.js","router/DashboardRoutes.js","components/auth/ClienteFreeLogin.js","components/ui/QRGeneratorSinToken.js","components/clientes/ClienteFreeCarga.js","hooks/useFormAutoSinToken.js","components/clientes/ClienteDescargaPDF.js","router/AppRouter.js","reducers/authReducer.js","reducers/clienteReducer.js","reducers/eventoReducer.js","reducers/uiReducer.js","reducers/rootReducer.js","store/store.js","EventApp.js","index.js"],"names":["PrivateRoute","isAuthenticated","Component","component","rest","localStorage","setItem","location","pathname","props","to","PublicRoute","baseURL","process","fetchSinToken","endpoint","data","method","url","fetch","headers","body","JSON","stringify","fetchConToken","token","getItem","types","uiOpenModal","uiCloseModal","uiOpenModall","uiCloseModall","uiOpenModalll","uiCloseModalll","uiOpenModallll","uiCloseModallll","uiOpenModalllll","uiCloseModalllll","eventStartAddNew","eventAddNew","eventSetActive","eventClearActiveEvent","eventUpdate","eventDelete","eventosLoaded","eventosByRppLoaded","eventLogout","currentPage","authChecking","authCheckingFinish","authStartLogin","authLogin","authStartRegister","authStartTokenRenew","authLogout","userAsociar","startClearUserAsoc","clienteAsociar","startClearClienteAsoc","setPrice","setLoading","setClearLoading","setClientes","pasarBody","borrarBody","ClearisFilter","isFilter","waitQr","stopWaitQr","getEstadoWsp","startAsociar","uid","type","payload","checkingFinish","login","user","startLogout","dispatch","clear","logout","Loading","checking","div_dot","useRef","useEffect","divdotRef","cancelled","animate","element","className","current","classList","add","setTimeout","remove","ref","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","handleInput","valuemod","target2","valuemod2","target3","valuemod3","handleInput2","LoginScreen","useDispatch","lEmail","lPassword","formLoginValues","handleLoginInputChange","handleLogin","e","emaill","password","preventDefault","a","email","toLowerCase","resp","json","ok","Date","getTime","nombre","rol","maxFree","Swal","fire","msg","isMobile","style","color","src","eventIcon","alt","onSubmit","placeholder","onChange","startCheckingWsp","estado","console","log","customStyles","content","top","left","right","bottom","marginRight","transform","Modal","setAppElement","EnviarMensajeCelu","useLocation","idEvento","substring","lastIndexOf","useSelector","state","ui","modalOpen","estadoWsp","cText","formTextValues","handleTextInputChange","closeModal","isOpen","onRequestClose","closeTimeoutMS","ariaHideApp","id","onClick","getNumeros","respu","handleCelu","EnviarMensajeCeluAll","AdminScreen","title","getQr","document","write","pagina","startUpdateCliente","dni","celular","fecha","usuario","evento","tipo","dataUrl","eventoid","fileUploadd","text","icon","showConfirmButton","startSetActive","startAsociarCliente","cliente","asociarCliente","eventoo","tipoo","tipolabel","label","trim","importe","nombrevento","status","startDesasociarCliente","startDesasociarClienteSinEvento","ClienteItems","clientes","loading","history","useHistory","auth","handleGoDesasociar","cid","longitud","push","handleReenviarWsp","reenviar","confirmButtonText","then","result","isConfirmed","window","open","scope","map","item","apellido","entradas","entrada","usuarioRRPP","usuarios","i","length","handleGoEditar","event","eventIsFilter","eventClearIsFilter","setEventos","setEventosByRpp","getPrecios","setPrecios","precios","eventosRpp","eventos","paginaActual","page","Pagination","dataPerPage","totalData","setCurrentPage","pageNumbers","pageLimit","Math","ceil","pageNumber","li","getElementsByTagName","innerText","toString","getElementsByClassName","goToPreviousPage","start","floor","Array","fill","_","idx","getPaginationGroup","number","parentElement","select","maxPage","goToNextPage","AsociarClienteModal","clienteAsoc","eventoss","tipos","vip","general","preferencial","setEvento","setTipo","options","AsociarEventoModal","modalOpenn","closeModall","AsociarEventoClienteModal","modalOpennn","closeModalll","AsociarReenviarWSPModal","modalOpennnn","closeModallll","handleFiltrar","AsociarEventoCeluModal","modalOpennnnn","closeModalllll","ClienteScreen","activeEvent","ganTotal","setGanTotal","ganComision","setGanComision","ganClientes","setGanClientes","rrpps","setRRPPS","clientesPerPage","indexOfLastCliente","indexOfFirstCliente","currentClientes","slice","getClientesByRpp","clientess","getClientesByEventoAndRRPP","getGananciasByGeneral","ganclientes","gancomision","gantotal","getRRPPByEvento","rpps","cSearch","cSearchTar","valuesTar","setValuesTar","handleSearchInputChange","handleSearchTarInputChange","handleBuscar","searchCliente","handleBuscarPorTarjetero","searchClientePorTarjetero","handleGoFilter","handleGoLimpiar","handleFiltrarRRPP","filtrarRRP","rrpp","rrppss","setRRPP","handleRRPP","disabled","HomeScreen","isAdmin","setisAdmin","isRRPP","setisRRPP","isTarjetero","setisTarjetero","QRGenerator","hashed","setHashed","hashIt","hash","size","level","useFormAuto","tienePunto","includes","tieneComa","verificar","now","moment","AddCliente","disableInput","setDisableInput","actualizar","setActualizar","qrCodeCanvas","querySelector","toDataURL","cNombre","cApellido","formClienteValues","handleClienteInputChange","cDni","formAutoValues","handleAutoInputChange","cCelular","formCelularValues","handleCelularInputChange","reset1","format","tipos2","filter","getElementById","symbolsArr","startActualizar","free","ticket","fileUploaddd","reload","oki","toDate","startCargar","nombree","apellidoo","toUpperCase","maxLength","minLength","autoComplete","onKeyDown","key","AddEvento","date","setDate","eNombre","eUbicacion","eVip","ePreferencial","eGeneral","ePuerta","formEventoValues","handleEventoInputChange","ubicacion","puerta","AddRpp","setRol","rDni","rNombre","rApellido","rEmail","rPassword","rComision","rComisionTarjetero","rCantidadFree","formRegisterValues","handleRegisterInputChange","comisionEnt","roll","comisionRRPP","rrppp","rrppNombre","eventoNombre","rolEvento","passwordShow","getRppsByEvento","Navbar","role","href","NotFoundScreen","PasswordModal","pass","formPassValues","handlePassInputChange","handleQuitarPuerta","quitarPorPuerta","ClienteVerificadosItems","VerificarClientes","clientesPuerta","setClientesPuerta","vDni","setFormClienteValues","getClientesVerificados","getClientesPuerta","cantidad","btnveri","watching","setWatching","test","agregarPorPuerta","bodi","html","showCancelButton","cancelButtonColor","horarioent","indexOf","spliteado","split","startVerificarDni","replaceAll","dnii","verificarHash","autoFocus","QRScan","onFind","v","handleQRScan","EventoElegir","getEventos","handleEvento","EventoScreen","handleEliminar","startEliminarEvento","timer","clearTimeout","width","localName","RppItems","rid","handleGoEliminar","startEliminarRRPP","handleGoEliminarEvento","eid","startEliminarRRPPEvento","maxWidth","wordWrap","colSpan","deuda","deudaComision","totalEntradas","_id","AsociarModal","userAsoc","handleAsociar","Asociar","AsociarEventoRppModal","styles","StyleSheet","create","table","display","justifyContent","alignItems","row","flexDirection","borderTop","paddingTop","paddingBottom","rowRRPP","border","header","bold","fontWeight","ComprobanteDetalleRRPP","datos","backgroundColor","padding","fontSize","marginBottom","cantRrpp","fixed","wrap","flexWrap","totalDeuda","totalFavor","RppScreen","deuTotal","setDeuTotal","setTotalEntradas","setTotalFavor","planillaRrpp","setPlanillaRrpp","setCantidadRpps","setRpps","rppsPerPage","indexOfLastRpp","indexOfFirstRpp","currentRpps","getRpps","total","getRRPPsByEvento","getGananciasByAdmin","deutotal","totalentradas","getGananciasByEventoByAdmin","searchRpp","fileName","ClienteItemsDetalle","ComprobanteDetalle","marginTop","gan","ganPuerta","cantCli","row1","row2","row3","row4","row5","ComprobanteDetalleClientes","EventoDetalle","planilla","setPlanilla","setGanPuerta","cantidadClientes","setCantidadClientes","clienteCurrentPage","setClienteCurrentPage","getClientesByEvento","getGanDeuByEvento","ganpuerta","handleAbrir","setAbierto","handleFinalizar","setFinalizado","finalizado","limpiarFREE","handleLimpiarFREE","getResetIngresos","handleReset","EventoEditar","AddClientePuerta","idEvento2","startCargarClientePuerta","ClienteEditar","waitQR","handleUpdateCliente","ms","Promise","res","goBack","RrppEditar","formRrppValues","handleRrppInputChange","isOculto","setIsOculto","ClienteItemsFreeList","ClienteListaFreeScreen","getClientesFreeByEvento","ClienteTicketItems","ClienteTicketsGenerados","getTicketsFreeByEvento","ComprobanteDetalleClientesFree","GenerarTicketFree","eventoActual","setEventoActual","setUsuarios","getRRPPs","getEvento","usuarioss","setUsuario","cCantidad","handleVolver","startGenerarTicketFree","tickets","ClientesAllItems","esticket","ultComp","ClienteAllScreen","getClientesAll","ClienteAdminEditar","AddClienteEspecial","DashboardRoutes","exact","path","ClienteFreeLogin","cId","loginCliente","QRGeneratorSinToken","ClienteFreeCarga","idCliente","setUid","setEventoid","cargando","useFormAutoSinToken","getCliente","autoActualizarFree","respo","bodo","pdfurl","autoCargarFree","respp","ClienteDescargaPDF","setCliente","setURL","message","splitComienzo","splitEntero","urll","download","rel","AppRouter","rootReducer","combineReducers","action","events","rppLoaded","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","EventApp","ReactDOM","render"],"mappings":"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","file":"static/js/main.4d53f8dc.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect,Route } from \"react-router-dom\";\r\n\r\nexport const PrivateRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    \r\n    localStorage.setItem('lastPath', rest.location.pathname);\r\n\r\n    return (\r\n        <Route { ...rest }\r\n            component={ (props) => (\r\n                ( isAuthenticated )\r\n                    ? ( <Component { ...props } /> )\r\n                    : ( <Redirect to=\"/login\" /> )\r\n            )}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport { Redirect,Route } from \"react-router-dom\";\r\n\r\nexport const PublicRoute  = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    \r\n    //localStorage.setItem('lastPath', rest.location.pathname);\r\n\r\n    return (\r\n        <Route { ...rest }\r\n            component={ (props) => (\r\n                ( isAuthenticated )\r\n                    ? ( <Redirect to=\"/\" /> ) \r\n                    : ( <Component { ...props } /> )\r\n            )}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nPublicRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","const baseURL = process.env.REACT_APP_API_URL;\r\n\r\nexport const fetchSinToken = (endpoint, data, method = \"GET\") => {\r\n  const url = `${baseURL}/${endpoint}`;\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(url);\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\nexport const fetchConToken = (endpoint, data, method = \"GET\") => {\r\n  const url = `${baseURL}/${endpoint}`;\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-token\": token,\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n};\r\n\r\nexport const fetchPdfConToken = (endpoint, data, method = \"GET\") => {\r\n  const url = `${baseURL}/${endpoint}`;\r\n  const token = localStorage.getItem(\"token\") || \"\";\r\n  if (method === \"GET\") {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"x-token\": token,\r\n      },\r\n    });\r\n  } else {\r\n    return fetch(url, {\r\n      method,\r\n      headers: {\r\n        \"Content-type\": \"application/pdf\",\r\n        \"x-token\": token,\r\n      },\r\n      body: data,\r\n    });\r\n  }\r\n};\r\n","export const types = {\r\n  uiOpenModal: \"[UI] Open Modal\",\r\n  uiCloseModal: \"[UI] Close Modal\",\r\n\r\n  uiOpenModall: \"[UI] Open Modall\",\r\n  uiCloseModall: \"[UI] Close Modall\",\r\n\r\n  uiOpenModalll: \"[UI] Open Modal eliminar cliente\",\r\n  uiCloseModalll: \"[UI] Close Modal eliminar cliente\",\r\n\r\n  uiOpenModallll: \"[UI] Open Modal filter cliente screen\",\r\n  uiCloseModallll: \"[UI] Close Modal filter cliente screen\",\r\n\r\n  uiOpenModalllll: \"[UI] Open Modal filter celu\",\r\n  uiCloseModalllll: \"[UI] Close Modal filter celu\",\r\n\r\n  eventStartAddNew: \"[Calendar] Start add new\",\r\n  eventAddNew: \"[Calendar] Add new\",\r\n  eventSetActive: \"[Calendar] Set active\",\r\n  eventClearActiveEvent: \"[Calendar] Clear active event\",\r\n  eventUpdate: \"[Calendar] Update event\",\r\n  eventDelete: \"[Calendar] Delete event\",\r\n  eventosLoaded: \"[Eventos] Eventos cargados\",\r\n  eventosByRppLoaded: \"[Eventos] Eventos de RPP cargados\",\r\n  eventLogout: \"[Calendar] Events logout\",\r\n  currentPage: \"[Page] Current Page\",\r\n\r\n  authChecking: \"[Auth] Checking login state\",\r\n  authCheckingFinish: \"[Auth] Finish checking login state\",\r\n  authStartLogin: \"[Auth] Start login\",\r\n  authLogin: \"[Auth] Login\",\r\n  authStartRegister: \"[Auth] Start register\",\r\n  authStartTokenRenew: \"[Auth] Start token renew\",\r\n  authLogout: \"[Auth] Logout\",\r\n\r\n  userAsociar: \"[Usuario] Listo para asociar\",\r\n  startClearUserAsoc: \"[Usuario] Limpiando usuario\",\r\n\r\n  clienteAsociar: \"[Cliente] Listo para asociar\",\r\n  startClearClienteAsoc: \"[Cliente] Limpiando cliente\",\r\n  setPrice:\"[Evento] Cargando precios de evento\",\r\n  setLoading: \"[UI] Recargando\",\r\n  setClearLoading: \"[UI] Limpiando recarga\",\r\n  setClientes: \"[Clientes] Obteniendo clientes\",\r\n  pasarBody:\"[Clientes] Pasando resultado\",\r\n  borrarBody:\"[Clientes] Borrando resultado\",\r\n  ClearisFilter: \"[Evento] Limpiando filtro por evento\",\r\n  isFilter: \"[Evento] Filtrando por evento\",\r\n\r\n  waitQr: \"[Cliente] Esperando al QR\",\r\n  stopWaitQr: \"[Cliente] Parar de esperar al QR\",\r\n  getEstadoWsp: \"[UI] Obteniendo estado Wsp\",\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { fetchConToken, fetchSinToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const startLogin = (emaill, password) => {\r\n  return async (dispatch) => {\r\n    let email = emaill.toLowerCase();\r\n    const resp = await fetchSinToken(\"auth\", { email, password }, \"POST\");\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n      dispatch(login({ uid: body.uid, nombre: body.nombre, rol: body.rol, maxFree: body.maxFree }));\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\nexport const startRegister = (dni,email, password, nombree, apellidoo, comisionEnt,roll,comisionRRPP,rrppp,maxFree,eventoo) => {\r\n  return async (dispatch) => {\r\n    let rol;\r\n    if(roll.value===\"ESPECIAL\"){\r\n      rol = \"ESPECIAL\";\r\n    }else{\r\n      rol = \"RRPP\";\r\n    }\r\n    const estado = true;\r\n    const rrpp = rrppp.value;\r\n    const rrppNombre = rrppp.label;\r\n    const evento = eventoo.value;\r\n    const eventoNombre = eventoo.label;\r\n    const rolEvento = roll.value;\r\n    const passwordShow = password;\r\n    let apellido = apellidoo.toUpperCase();\r\n    let nombre = nombree.toUpperCase();\r\n    //const evento = eventoo.value;\r\n    const resp = await fetchConToken(\r\n      \"auth/new\",\r\n      { email, password,passwordShow, nombre, apellido, rol, dni ,estado, comisionEnt, comisionRRPP,rrpp,maxFree,evento,eventoNombre,rolEvento,rrppNombre},\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      // dispatch(Asociar(body.uid, evento));\r\n      Swal.fire(\"Exito\", \"RRPP Cargado con exito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startSetRrppActive = (id) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(`auth/edit/${id}`);\r\n    const body = await resp.json();\r\n    dispatch(startAsociar(body.usuario));\r\n  };\r\n};\r\n\r\nexport const startUpdateRrpp = (dni, email, nombree, passwordShow, apellidoo) => {\r\n  return async (dispatch) => {\r\n    let apellido = apellidoo.toUpperCase();\r\n    let nombre = nombree.toUpperCase();\r\n    const resp = await fetchConToken(\r\n      `auth/editt`,\r\n      {dni, email, nombre, passwordShow, apellido},\r\n      \"PUT\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Actualizado con xito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEliminar = (uid,evento) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      'auth/desasociar',\r\n      { uid, evento},\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"RPP Desasociado con exito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startChangePass = (pass) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      'auth/passch',\r\n      { pass },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"RPP Desasociado con exito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEliminarRRPP = (uid) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      `auth/${uid}`,\r\n      {},\r\n      \"DELETE\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"RPP eliminado con exito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEliminarRRPPEvento = (uid,eid) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      `auth/desasociarevento/${uid}/${eid}`,\r\n      {},\r\n      \"DELETE\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Evento desasociado con exito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const Asociar = (uid,eventoo,roll,rrppp,comisionEnt,comisionRRPP,maxFree) => {\r\n  return async (dispatch) => {\r\n    const rrpp = rrppp.value;\r\n    const rrppNombre = rrppp.label;\r\n    const eventoNombre = eventoo.label;\r\n    const rolEvento = roll.value;\r\n    const evento = eventoo.value;\r\n    const resp = await fetchConToken(\r\n      'auth/asociar',\r\n      { uid, evento,rolEvento,eventoNombre,rrppNombre,rrpp,comisionEnt,comisionRRPP,maxFree},\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (resp.status === 201) {\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startAsociar = (uid) => ({\r\n  type: types.userAsociar,\r\n  payload: uid,\r\n});\r\nexport const startClearUserAsoc = () => ({\r\n  type: types.startClearUserAsoc,\r\n  payload: null,\r\n});\r\n\r\nexport const startChecking = () => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\"auth/renew\");\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      localStorage.setItem(\"token\", body.token);\r\n      localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n      dispatch(login({ uid: body.uid, nombre: body.nombre, rol: body.rol }));\r\n    } else {\r\n      //Swal.fire(\"Error\", body.msg, \"error\");\r\n      dispatch(checkingFinish());\r\n    }\r\n  };\r\n};\r\nconst checkingFinish = () => ({\r\n  type: types.authCheckingFinish,\r\n});\r\n\r\nconst login = (user) => ({\r\n  type: types.authLogin,\r\n  payload: user,\r\n});\r\n\r\nexport const startLogout=()=>{\r\n  return(dispatch)=>{\r\n    localStorage.clear();\r\n    dispatch(logout());\r\n  }\r\n}\r\nconst logout = ()=>({\r\n  type:types.authLogout\r\n})\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nexport const Loading = ({ checking }) => {\r\n  //////Animacion de loading/////\r\n  const div_dot = useRef(null);\r\n  useEffect(() => {\r\n    if (!checking) return;\r\n    let divdotRef = div_dot;\r\n    let cancelled = false;\r\n    const animate = (element, className) => {\r\n      if(element.current){\r\n        element.current.classList.add(className);\r\n      }\r\n      setTimeout(() => {\r\n        if (!cancelled) {\r\n          element.current.classList.remove(className);\r\n          setTimeout(() => {\r\n            animate(element, className);\r\n          }, 500);\r\n        }\r\n      }, 2000);\r\n    };\r\n    animate(divdotRef, \"dots--animate\");\r\n    return () => {\r\n      if (divdotRef.current === null) {\r\n        cancelled = true;\r\n      }\r\n    };\r\n  }, [checking, div_dot]);\r\n  return (\r\n    <div className=\"body__loading\">\r\n      <h1>\r\n        Cargando\r\n        <div ref={div_dot} className=\"dots\">\r\n          <span className=\"dot z\"></span>\r\n          <span className=\"dot f\"></span>\r\n          <span className=\"dot s\"></span>\r\n          <span className=\"dot t\">\r\n            <span className=\"dot l\"></span>\r\n          </span>\r\n        </div>\r\n      </h1>\r\n    </div>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\n\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n\r\n  const reset = (newFormState=initialState) => {\r\n    setValues(newFormState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleInput = ( target,valuemod,target2,valuemod2,target3,valuemod3 ) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: valuemod ,\r\n      [target2.name]: valuemod2 ,\r\n      [target3.name]: valuemod3,\r\n    });\r\n  };\r\n  const handleInput2 = ( target,valuemod ) => {\r\n    setValues({\r\n      ...values,\r\n      [target.name]: valuemod ,\r\n    });\r\n  };\r\n  return [values, handleInputChange,reset,handleInput,handleInput2];\r\n};\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { startLogin } from \"../../actions/auth\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport eventIcon from '../../images/ee.png';\r\nimport \"./login.css\";\r\nimport {isMobile} from 'react-device-detect';\r\n\r\nexport const LoginScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const [formLoginValues, handleLoginInputChange] = useForm({\r\n    lEmail: \"\",\r\n    lPassword: \"\",\r\n  });\r\n  const { lEmail, lPassword } = formLoginValues;\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    dispatch(startLogin(lEmail, lPassword));\r\n  };\r\n  \r\n  return (\r\n    <>\r\n    { isMobile ?\r\n    <div className=\"login-container\">\r\n    <h2 className=\"d-flex align-items-center justify-content-center mt-4\" style={{ color: \"#0062cc\" }}><img src={eventIcon} alt=\"\" /></h2>\r\n    <div className=\"row \">\r\n      <div className=\"col-md-11 col-11 login-form-1 mt-5\">\r\n        <h3>Ingreso</h3>\r\n        <form onSubmit={handleLogin}>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control mb-2\"\r\n              placeholder=\"Correo\"\r\n              name=\"lEmail\"\r\n              value={lEmail}\r\n              onChange={handleLoginInputChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control mb-3\"\r\n              placeholder=\"Contrasea\"\r\n              name=\"lPassword\"\r\n              value={lPassword}\r\n              onChange={handleLoginInputChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group d-flex justify-content-center\">\r\n            <input type=\"submit\" className=\"btnSubmit\" value=\"Ingresar\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  </div> \r\n  : \r\n  <div className=\"login-container\">\r\n      <h2 className=\"d-flex align-items-center justify-content-center mt-4\" style={{ color: \"#0062cc\" }}><img src={eventIcon} alt=\"\" /></h2>\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-6 col-6 me-5 login-form-3\">\r\n          <h3>Ingreso</h3>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-2\"\r\n                placeholder=\"Correo\"\r\n                name=\"lEmail\"\r\n                value={lEmail}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"password\"\r\n                className=\"form-control mb-3\"\r\n                placeholder=\"Contrasea\"\r\n                name=\"lPassword\"\r\n                value={lPassword}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group d-flex justify-content-center\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Ingresar\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  }\r\n  </>\r\n  );\r\n};\r\n","import { fetchConToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const uiOpenModal=()=>({\r\n    type:types.uiOpenModal\r\n})\r\nexport const uiCloseModal=()=>({\r\n    type:types.uiCloseModal\r\n})\r\n\r\nexport const uiOpenModall=()=>({\r\n  type:types.uiOpenModall\r\n})\r\nexport const uiCloseModall=()=>({\r\n  type:types.uiCloseModall\r\n})\r\n\r\nexport const uiOpenModalll=()=>({\r\n  type:types.uiOpenModalll\r\n})\r\nexport const uiCloseModalll=()=>({\r\n  type:types.uiCloseModalll\r\n})\r\n\r\nexport const uiOpenModallll=()=>({\r\n  type:types.uiOpenModallll\r\n})\r\nexport const uiCloseModallll=()=>({\r\n  type:types.uiCloseModallll\r\n})\r\nexport const uiOpenModalllll=()=>({\r\n  type:types.uiOpenModalllll\r\n})\r\nexport const uiCloseModalllll=()=>({\r\n  type:types.uiCloseModalllll\r\n})\r\nexport const waitQr=()=>({\r\n  type:types.waitQr\r\n})\r\nexport const stopWaitQr=()=>({\r\n  type:types.stopWaitQr\r\n})\r\nexport const startCheckingWsp = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(\"wsp/auth/checkauth\");\r\n      const body = await resp.json();\r\n      dispatch(getEstadoWsp(body.estado))\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nconst getEstadoWsp = (estado) => ({\r\n  type: types.getEstadoWsp,\r\n  payload: estado,\r\n});","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport Select from 'react-select';\r\nimport \"../modal.css\";\r\nimport Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../../helpers/fetch\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const EnviarMensajeCelu = () => {\r\n  const dispatch = useDispatch();\r\n  // const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const { modalOpen,estadoWsp } = useSelector((state) => state.ui);\r\n  const [formTextValues, handleTextInputChange] = useForm({\r\n    cText:\"\",\r\n  });\r\n  const { cText } = formTextValues;\r\n\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n  };\r\n  const handleCelu= () => {\r\n    const getNumeros = async() =>{\r\n      const respu = await fetchConToken(`wsp/chat/sendmessages/${idEvento}/${cText}`);\r\n      const body = await respu.json();\r\n      if(body.ok){\r\n          Swal.fire('Exito',body.msg,'success');\r\n      }else{\r\n          Swal.fire('Error',body.msg,'error');\r\n      }\r\n    }\r\n    getNumeros();\r\n    closeModal();\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Ingrese el texto a enviar a los celulares asociados a este evento</h1>\r\n        <hr />\r\n        <div className=\"form-control\">\r\n        <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"Texto\"\r\n        name=\"cText\"\r\n        id=\"cText\"\r\n        value={cText}\r\n        onChange={handleTextInputChange}\r\n      />\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        {estadoWsp === \"Conectado\"&&<button onClick={()=>handleCelu()} className=\"btn btn-outline-success btn-block\">\r\n          <i className=\"fas fa-message\"></i>\r\n          <span> Enviar</span>\r\n        </button>}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useLocation } from 'react-router-dom';\r\nimport Select from 'react-select';\r\nimport \"../modal.css\";\r\nimport Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../../helpers/fetch\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const EnviarMensajeCeluAll = () => {\r\n  const dispatch = useDispatch();\r\n  // const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const { modalOpen,estadoWsp } = useSelector((state) => state.ui);\r\n  const [formTextValues, handleTextInputChange] = useForm({\r\n    cText:\"\",\r\n  });\r\n  const { cText } = formTextValues;\r\n\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n  };\r\n  const handleCelu= () => {\r\n    const getNumeros = async() =>{\r\n      const respu = await fetchConToken(`wsp/chat/sendmessages/${cText}`);\r\n      const body = await respu.json();\r\n      if(body.ok){\r\n          Swal.fire('Exito',body.msg,'success');\r\n      }else{\r\n          Swal.fire('Error',body.msg,'error');\r\n      }\r\n    }\r\n    getNumeros();\r\n    closeModal();\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Ingrese el texto a enviar a los celulares asociados a este evento</h1>\r\n        <hr />\r\n        <div className=\"form-control\">\r\n        <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"Texto\"\r\n        name=\"cText\"\r\n        id=\"cText\"\r\n        value={cText}\r\n        onChange={handleTextInputChange}\r\n      />\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        {estadoWsp === \"Conectado\"&&<button onClick={()=>handleCelu()} className=\"btn btn-outline-success btn-block\">\r\n          <i className=\"fas fa-message\"></i>\r\n          <span> Enviar</span>\r\n        </button>}\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startCheckingWsp, uiOpenModal } from '../../actions/ui';\r\nimport { EnviarMensajeCelu } from '../eventos/EnviarMensajeCelu';\r\nimport { EnviarMensajeCeluAll } from '../eventos/EnviarMensajeCeluAll';\r\n\r\n\r\nexport const AdminScreen = () => {\r\nconst { estadoWsp } = useSelector((state) => state.ui);\r\n  const handleConectarWsp = () => {\r\n    const getQr = async() =>{\r\n      const resp = await fetchConToken(\"wsp/auth/getqr\");\r\n      const body = await resp.json();\r\n      document.write(body.pagina);\r\n    }\r\n    getQr();\r\n  };\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    setTimeout(function(){\r\n      dispatch(startCheckingWsp());\r\n    }, 1000);\r\n    setTimeout(function(){\r\n      dispatch(startCheckingWsp());\r\n    }, 5000);\r\n  }, [dispatch]);\r\n//   const handleclientefalse = () => {\r\n//     const ticketfalse = async() =>{\r\n//         const respu = await fetchConToken(`clientes/agregarticketfalse`);\r\n//         const body = await respu.json();\r\n//     }\r\n//     ticketfalse();\r\n// };\r\n//   const handleresettodo = () => {\r\n//     const ticketfalse = async() =>{\r\n//         const respu = await fetchConToken(`clientes/resettodo`);\r\n//         const body = await respu.json();\r\n//         console.log(body)\r\n//     }\r\n//     ticketfalse();\r\n// };\r\nconst handleEnviarWSPALL = () => {\r\n  dispatch(uiOpenModal());\r\n};\r\n  return (\r\n    <div className='container text-center'>\r\n        <h2 className='mb-5 mt-2' style={{color:\"black\"}}>Administrar</h2>\r\n        <div className='d-flex flex-row justify-content-evenly align-items-center'>\r\n        {/* <button className=\"btn btn-primary\" onClick={()=>{handleclientefalse()}}><i className=\"fas fa-broom\"></i> Ticketfalse</button> */}\r\n        {/* <button className=\"btn btn-primary\" onClick={()=>{handleresettodo()}}><i className=\"fas fa-broom\"></i> RESET ALL</button> */}\r\n            <Link to=\"/controlrpp\">\r\n                <button className=\"btn btn-primary btn-lg\" title=\"Cargar un nuevo RPP\">\r\n                <i className=\"fas fa-user\"></i> Controlar RRPP\r\n                </button>\r\n            </Link>\r\n            <Link to=\"/controlclientes\">\r\n                <button className=\"btn btn-primary btn-lg\" title=\"Visualizar todos los clientes\">\r\n                <i className=\"fas fa-user\"></i> Visualizar todos los clientes en BD\r\n                </button>\r\n            </Link>\r\n            <Link to=\"/controlevento\">\r\n                <button className=\"btn btn-primary btn-lg\" title=\"Cargar un nuevo RPP\">\r\n                <i className=\"fas fa-calendar-alt\"></i> Controlar Eventos\r\n                </button>\r\n            </Link>\r\n            \r\n        </div>\r\n        <div className='d-flex flex-column justify-content-center align-items-center mt-5'>\r\n        <div className='d-flex justify-content-center mb-2'><span className='bg-light rounded'>Estado <i style={{\"fontSize\":\"1.1rem\",\"color\":\"green\",\"marginLeft\":\"-8px\",\"marginRight\":\"-5px\"}} className=\"py-3 px-2 fab fa-whatsapp fa-xs position-sticky\"></i>: <b className={estadoWsp===\"Conectado\"?'text-success':'text-danger'}>{estadoWsp}</b></span></div>\r\n        {estadoWsp === \"Desconectado\" && \r\n          <div className='mb-5'>\r\n            <div className=\"form-group d-flex justify-content-center align-items-center\">\r\n              <button className=\"btn btn-success mt-2 d-flex justify-content-center align-items-center\" onClick={handleConectarWsp}><i style={{\"fontSize\":\"1.5rem\"}} className=\"py-0 px-2 fab fa-whatsapp fa-xs position-sticky\"></i> Conectar WSP</button>\r\n            </div> \r\n          </div>\r\n        }\r\n        {estadoWsp === \"Conectado\"&&<button className=\"btn btn-success\" onClick={handleEnviarWSPALL}><i className=\"fas fa-arrow-up\"></i> Mandar WSP a todos</button>}\r\n        <EnviarMensajeCeluAll />\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n","// import { types } from \"../types/types\";\r\nimport Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport moment from \"moment\";\r\nimport { types } from \"../types/types\";\r\n\r\n\r\nexport const startCargarCliente = (dni,nombre,apellido,celular,fecha,estado,usuario,eventoo,tipoo,dataUrl) => {\r\n    return async (dispatch) => {\r\n      let tipo = tipoo.label;\r\n      let evento = eventoo.label;\r\n      const eventoid = eventoo.value;\r\n      const free = false;\r\n      const resp = await fetchConToken(\r\n        \"clientes\",\r\n        { dni,nombre,apellido,celular,fecha,estado,usuario,dataUrl,evento,tipo,free,eventoid },\r\n        \"POST\"\r\n      );\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        evento = eventoo;\r\n        tipo = tipoo;\r\n        dispatch(asociarCliente(body.cliente.uid, evento, tipo,usuario,celular));\r\n        Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n        \r\n      } else {\r\n        if(body.oki){\r\n          dispatch(asociarCliente(body.cliente.uid, evento, tipo,usuario,celular));\r\n          Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n          \r\n        }else{\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n        }\r\n      }\r\n    };\r\n};\r\n\r\nexport const startCargarClienteFree = (dni,nombre,apellido,celular,fecha,estado,usuario,eventoo,tipoo,dataUrl) => {\r\n  return async (dispatch) => {\r\n    let tipo = tipoo.label;\r\n    let evento = eventoo.label;\r\n    let eventoid = eventoo.value;\r\n    const free = true;\r\n    const resp = await fetchConToken(\r\n      \"clientes/free\",\r\n      { dni,nombre,apellido,celular,fecha,estado,usuario,dataUrl,evento,tipo,free,eventoid },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      evento = eventoo;\r\n      tipo = tipoo;\r\n      dispatch(asociarCliente(body.cliente.uid, evento, tipo,usuario,celular));\r\n      Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n      \r\n    } else {\r\n      if(body.oki){\r\n        dispatch(asociarCliente(body.cliente.uid, evento, tipo,usuario,celular));\r\n        Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n        \r\n      }else{\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const startCargarClientePuerta = (cantidad,evento ) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      \"clientes/puerta\",\r\n      { cantidad,evento },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n  };\r\n};\r\n\r\nexport const startVerificarHash = (hash,evento) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(`clientes/hash/${hash}/${evento}`);\r\n    const body = await resp.json();\r\n    if (resp.status === 200) {\r\n      let dni = `${body.cliente.dni}`;\r\n      let nombre = `${body.cliente.nombre.toUpperCase()} ${body.cliente.apellido.toUpperCase()}`;\r\n      let horarioent =`${moment(body.cliente.entrada).format('HH:mm')}`;\r\n      Swal.fire({title:\"INGRESO VERIFICADO\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Horario de entrada</b> <br/>'+ horarioent + '</pre>', icon:\"success\"}).then((result)=>{\r\n        if(result.isConfirmed){\r\n          const getClientesVerificados= async() =>{\r\n            setLoading(true);\r\n            const resp = await fetchConToken(`clientes/verificados/${evento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientes);\r\n            setLoading(false);\r\n          }\r\n          setTimeout(() => {\r\n            getClientesVerificados();\r\n          }, 500);\r\n        }\r\n      });\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startActualizarCliente = (dni,celular,fecha,usuario,eventoo,tipoo,dataUrl) => {\r\n  return async (dispatch) => {\r\n    const evento = eventoo.label;\r\n    const eventoid = eventoo.value;\r\n    const tipo = tipoo.label; \r\n    const free = false;\r\n    const resp = await fetchConToken(\r\n      \"clientes/update\",\r\n      { dni,celular,fecha,usuario,dataUrl,evento,tipo,free,eventoid },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    \r\n    if (body.ok) {\r\n      dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n      Swal.fire(\"Exito\", \"Cliente actualizado con xito\", \"success\");\r\n      \r\n    } else {\r\n      if(body.oki){\r\n        dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n        Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n        \r\n      }else{\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const startActualizarClienteFree = (dni,celular,fecha,usuario,eventoo,tipoo,dataUrl) => {\r\n  return async (dispatch) => {\r\n    const evento = eventoo.label;\r\n    const eventoid = eventoo.value;\r\n    const tipo = tipoo.label; \r\n    const free = true;\r\n    const resp = await fetchConToken(\r\n      \"clientes/updatefree\",\r\n      { dni,celular,fecha,usuario,dataUrl,evento,tipo,free,eventoid },\r\n      \"POST\"\r\n    );\r\n    console.log(resp)\r\n    const body = await resp.json();\r\n    console.log(body)\r\n    if (body.ok) {\r\n      dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n      Swal.fire(\"Exito\", \"Cliente actualizado con xito\", \"success\");\r\n    } else {\r\n      if(body.oki){\r\n        dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n        Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n      }else{\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const startUpdateCliente = (dni,celular,fecha,usuario,evento,tipo,dataUrl,eventoid) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      `clientes/editt`,\r\n      {dni,celular,fecha,usuario,evento,tipo,dataUrl,eventoid},\r\n      \"PUT\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Actualizado con xito\", \"success\");\r\n      const fileUploadd = async(dni,evento)=>{\r\n        const resp = await fetchConToken(\r\n          \"clientes/fileupload\",\r\n          { dni,evento },\r\n          \"POST\"\r\n        );\r\n        const body = await resp.json();\r\n        if(body.ok){\r\n          Swal.fire({title:\"Exito\",text:\"PDF subido\", icon:\"success\",showConfirmButton:false});\r\n        }\r\n      }\r\n      setTimeout(()=>{fileUploadd(dni,eventoid)},500);\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n    \r\n  };\r\n};\r\n\r\nexport const startUpdateClienteAdmin = (dni,nombre,apellido,celular) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      `clientes/edittadmin`,\r\n      {dni,nombre,apellido, celular },\r\n      \"PUT\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Actualizado con xito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startVerificarDni = (dni,evento) => {\r\n    return async (dispatch) => {\r\n      const resp = await fetchConToken(`clientes/dnisinupdate/${dni}/${evento}`);\r\n      const bodi = await resp.json();\r\n      if(bodi.ok){\r\n        let dni = `${bodi.cliente.dni}`;\r\n        let nombre = `${bodi.cliente.nombre.toUpperCase()} ${bodi.cliente.apellido.toUpperCase()}`;\r\n        let tipo = `${bodi.cliente.tipo}`;\r\n        Swal.fire({title:\"CLIENTE\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Tipo de entrada</b> <br/>'+tipo+ '</pre>', icon:\"info\",showCancelButton:true,cancelButtonColor: '#d33'}).then(async(result)=>{\r\n          if(result.isConfirmed){\r\n            const resp = await fetchConToken(`clientes/dni/${dni}/${evento}`);\r\n            const body = await resp.json();\r\n            if (resp.status === 201) {\r\n              let dni = `${body.cliente.dni}`;\r\n              let nombre = `${body.cliente.nombre.toUpperCase()} ${body.cliente.apellido.toUpperCase()}`;\r\n              let horarioent =`${moment(body.cliente.entrada).format('HH:mm')}`;\r\n              let tipo = `${body.cliente.tipo}`;\r\n              if(body.ok){\r\n                Swal.fire({title:\"INGRESO\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Horario de entrada</b> <br/>'+ horarioent + '<br/> <b>Tipo de entrada</b> <br/>'+ tipo + '</pre>', icon:\"success\"});\r\n              }else{\r\n                Swal.fire(\"Error\", body.msg, \"error\");\r\n              }\r\n              dispatch(setLoading());\r\n            } else {\r\n              Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n          }else{\r\n            Swal.fire(\"Atencion\", \"Cliente no ingreso\", \"error\");\r\n          }\r\n        });\r\n      }else{\r\n        Swal.fire(\"Error\", bodi.msg, \"error\");\r\n      }\r\n    };\r\n};\r\n\r\nexport const getClientes = () => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken('clientes');\r\n    const body = await resp.json();\r\n    dispatch(setClientes(body.clientes));\r\n  };\r\n};\r\n\r\nexport const startSetActive = (id) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(`clientes/edit/${id}`);\r\n    const body = await resp.json();\r\n    dispatch(startAsociarCliente(body.cliente));\r\n  };\r\n};\r\n\r\n\r\nexport const startAsociarCliente = (uid) => ({\r\n  type: types.clienteAsociar,\r\n  payload: uid,\r\n});\r\n\r\nexport const pasarBody = (body) => ({\r\n  type: types.pasarBody,\r\n  payload: body,\r\n});\r\n\r\nexport const borrarBody = () => ({\r\n  type: types.borrarBody,\r\n  payload: null,\r\n});\r\n\r\n\r\nexport const setClientes = (clientes) => ({\r\n  type: types.setClientes,\r\n  payload: clientes,\r\n});\r\n\r\nexport const startClearClienteAsoc = () => ({\r\n  type: types.startClearClienteAsoc,\r\n  payload: null,\r\n});\r\n\r\nexport const setLoading = () => ({\r\n  type: types.setLoading,\r\n  payload: null,\r\n});\r\n\r\nexport const setClearLoading = () => ({\r\n  type: types.setClearLoading,\r\n  payload: null,\r\n});\r\n\r\nexport const asociarCliente = (uid,eventoo,tipoo,usuario,celular) => {\r\n  return async (dispatch) => {\r\n    const tipolabel = tipoo.label.substring(tipoo.label.lastIndexOf('-') + 1);\r\n    const tipo = tipolabel.trim();\r\n    const importe = tipoo.value;\r\n    const evento = eventoo.value;\r\n    let nombrevento = eventoo.label;\r\n    const resp = await fetchConToken(\r\n      'clientes/asociar',\r\n      { uid, evento, tipo , importe, usuario,nombrevento,celular },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (resp.status === 201) {\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startDesasociarCliente = (id,evento) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      'clientes/desasociar',\r\n      { evento,id},\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (resp.status === 201) {\r\n      Swal.fire({title:\"Exito\", text:\"Desasociado con xito\", icon:\"success\",showConfirmButton:false});\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startDesasociarClienteSinEvento = (id,uid,eventoid) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      'clientes/desasociarsinevento',\r\n      { uid, id,eventoid },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (resp.status === 201) {\r\n      Swal.fire({title:\"Exito\", text:\"Eliminado con xito\", icon:\"success\",showConfirmButton:false});\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\nexport const startEliminar = (id) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      'clientes/delete',\r\n      {  id },\r\n      \"DELETE\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire({title:\"Exito\", text:\"Eliminado con xito\", icon:\"success\",showConfirmButton:false});\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startDesasociarClienteSinEvento, startSetActive } from '../../actions/clientes';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { uiOpenModalll, uiOpenModallll } from '../../actions/ui';\r\n\r\nexport const ClienteItems = ({clientes,loading}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { uid } = useSelector((state) => state.auth);\r\n  // const { activeEvent } = useSelector((state) => state.eventos);\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n    }\r\n    const handleGoDesasociar = (cid,evento,longitud) => {\r\n      if(longitud>1){\r\n        dispatch(uiOpenModalll())\r\n        dispatch(startSetActive(cid));\r\n      }else{\r\n        dispatch(startDesasociarClienteSinEvento(cid,uid,evento));\r\n        setTimeout(()=>{\r\n          history.push(`/`);\r\n        },500);\r\n      }\r\n  };\r\n  const handleReenviarWsp= (cid,evento,longitud) => {\r\n    if(longitud>1){\r\n      dispatch(uiOpenModallll())\r\n      dispatch(startSetActive(cid));\r\n    }else{\r\n      const reenviar = async()=>{\r\n        const resp = await fetchConToken(`clientes/reenviarwsp/${cid}/${evento}`);\r\n        const body = await resp.json();\r\n        if(body.ok){\r\n          Swal.fire({title:\"PDF a WSP\",text:\"Seguro que desea reenviar el PDF por WSP?\", icon:\"question\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n            if(result.isConfirmed){\r\n              window.open(`https://wa.me/549${body.celular}?text=https://event-a.herokuapp.com/descargapdf/${evento}/${cid}`);\r\n            }\r\n          });\r\n        }\r\n      }\r\n      reenviar();\r\n    }    \r\n};\r\n    const handleGoEditar = (uid) => {\r\n      dispatch(startSetActive(uid));\r\n      setTimeout(()=>{\r\n        history.push(`/editarcliente/${uid}`);\r\n      },4000);\r\n    };\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-bordered table-striped\":\"table table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Eventos</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Usuario</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Reenviar PDF</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Editar</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Eliminar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <tr key={item.uid}>\r\n            <td className=\"text-center small\">{ item.dni }</td>\r\n            <td className=\"text-center small\">{ item.nombre }</td>\r\n            <td className=\"text-center small\">{ item.apellido }</td>\r\n            <td className=\"text-center small\">{ item.celular }</td>\r\n            {/* <td className=\"text-center\"> */}\r\n            {/* {item.entradas.map(entrada => {\r\n                return entrada.usuario === uid && <pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n            })} */}\r\n            {/* </td> */}\r\n            <td className=\"text-center\">\r\n            {item.entradas.map(entrada => {\r\n              if((entrada.rol===\"TARJETERO\" || entrada.rol===\"ESPECIAL\") && entrada.usuarioRRPP===uid){\r\n                return  <pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n              }else{\r\n                if(entrada.usuario===uid){\r\n                  return  <pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n                }\r\n              }\r\n            })}\r\n            </td>\r\n            {/* entrada.usuario === uid && */}\r\n            {/* <td className=\"text-center\">\r\n            {item.entradas.map(entrada => {\r\n                return entrada.usuario===uid &&<pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n            })}\r\n            </td> */}\r\n            {/* usuario.usuario ===uid && */}\r\n            <td className=\"text-center\">\r\n            {item.usuarios.map(usuario => {\r\n              if((usuario.rol===\"TARJETERO\"  || usuario.rol===\"ESPECIAL\") && usuario.usuarioRRPP===uid){\r\n                return  <pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n              }else{\r\n                if(usuario.usuario===uid){\r\n                  return  <pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n                }\r\n              }\r\n            })}\r\n            </td>\r\n            {/* <td className=\"text-center\">\r\n            {item.usuarios.map(usuario => {\r\n                return usuario.usuario===uid &&<pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n            })}\r\n            </td> */}\r\n            {/* <td className=\"text-center small\">{ item.usuario.nombre+\" \"+item.usuario.apellido }</td> */}\r\n            {/* <td className=\"text-center\"> */}\r\n            {item.usuarios.map((usuario,i) => {\r\n                if(usuario.usuario === uid){\r\n                  return <td className=\"text-center small\"><button className='btn btn-success' onClick={()=>handleReenviarWsp(item.uid,usuario.evento,item.usuarios.length)}><i className=\"fa-brands fa-whatsapp\"></i></button></td>\r\n                }\r\n            })}\r\n            {/* </td> */}\r\n            {/* <td className=\"text-center\"> */}\r\n            {item.usuarios.map((usuario,i) => {\r\n              if(usuario.usuario === uid){\r\n                return <td className=\"text-center small\"><button className='btn btn-warning' onClick={()=>handleGoEditar(item.uid)}>Editar</button></td>\r\n              }\r\n            })}\r\n            {/* </td> */}\r\n            {/* <td className=\"text-center\"> */}\r\n            {item.usuarios.map((usuario,i) => {\r\n              if(usuario.usuario === uid){\r\n                return <td className=\"text-center small\"><button className='btn btn-danger' onClick={()=>handleGoDesasociar(item.uid,usuario.evento,item.usuarios.length)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n              }\r\n            })}\r\n            {/* </td> */}\r\n            {/* {item.usuario._id === uid ? <td className=\"text-center small\"><button className='btn btn-success' onClick={()=>handleReenviarWsp(item.uid)}><i className=\"fa-brands fa-whatsapp\"></i></button></td> : <td className=\"text-center\">-</td>} */}\r\n            {/* {item.usuario._id === uid ? <td className=\"text-center small\"><button className='btn btn-warning' onClick={()=>handleGoEditar(item.uid)}>Editar</button></td> : <td className=\"text-center\">-</td>} */}\r\n            {/* {item.usuario._id === uid ? <td className=\"text-center small\"><button className='btn btn-danger' onClick={()=>handleGoDesasociar(item.uid)}><i className=\"fas fa-trash-alt\"></i></button></td> : <td className=\"text-center\">-</td>} */}\r\n          </tr>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const eventStartAddNew = (event) => {\r\n  return async (dispatch, getState) => {\r\n    const { uid, name } = getState().auth;\r\n    try {\r\n      const resp = await fetchConToken(\"events\", event, \"POST\");\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        event.id = body.evento.id;\r\n        event.user = {\r\n          _id: uid,\r\n          name,\r\n        };\r\n        dispatch(eventAddNew(event));\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst eventAddNew = (event) => ({\r\n  type: types.eventAddNew,\r\n  payload: event,\r\n});\r\nconst eventUpdate = (event) => ({\r\n  type: types.eventUpdate,\r\n  payload: event,\r\n});\r\nexport const eventSetActive = (event) => ({\r\n  type: types.eventSetActive,\r\n  payload: event,\r\n});\r\nexport const eventIsFilter = () => ({\r\n  type: types.isFilter\r\n});\r\nexport const eventClearIsFilter = () => ({\r\n  type: types.ClearisFilter\r\n});\r\nexport const eventClearActiveEvent = () => ({\r\n  type: types.eventClearActiveEvent,\r\n});\r\n\r\nexport const eventStartUpdate = (event) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`events/${event.id}`, event, \"PUT\");\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(eventUpdate(event));\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startCargarEvento = (nombre, ubicacion, vip, preferencial, general, puerta,fecha,usuario,dataUrl ) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      \"eventos\",\r\n      { nombre, ubicacion, vip, preferencial, general, fecha, usuario,puerta,dataUrl },\r\n      \"POST\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Cargado con xito\", \"success\");\r\n      dispatch(eventSetActive( body.evento ));\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const startActualizarEvento = (id,ubicacion, vip, preferencial, general,puerta,fecha ) => {\r\n  return async (dispatch) => {\r\n    const resp = await fetchConToken(\r\n      `eventos/${id}`,\r\n      { ubicacion, vip, preferencial, general, fecha,puerta },\r\n      \"PUT\"\r\n    );\r\n    const body = await resp.json();\r\n    if (body.ok) {\r\n      Swal.fire(\"Exito\", \"Actualizado con xito\", \"success\");\r\n    } else {\r\n      Swal.fire(\"Error\", body.msg, \"error\");\r\n    }\r\n  };\r\n};\r\n\r\nexport const eventStartDelete = () => {\r\n  return async (dispatch, getState) => {\r\n    const { id } = getState().calendar.activeEvent;\r\n    try {\r\n      const resp = await fetchConToken(`events/${id}`, {}, \"DELETE\");\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        dispatch(eventDelete());\r\n        window.location.reload();\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nconst eventDelete = () => ({\r\n  type: types.eventDelete,\r\n});\r\n\r\nexport const eventStartLoading = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(\"events\");\r\n      const body = await resp.json();\r\n      // const eventos = prepareEvents(body.eventos);\r\n\r\n      // dispatch(eventosLoaded(eventos));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const startEliminarEvento = (evento) => {\r\n  return async (dispatch) => {\r\n      const resp = await fetchConToken(`eventos/${evento.id}`,{evento},'DELETE');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        Swal.fire(\"Exito\", \"Eliminado con xito\", \"success\");\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    \r\n  };\r\n};\r\n\r\nexport const setFinalizado = (evento) => {\r\n  return async (dispatch) => {\r\n      const resp = await fetchConToken(`eventos/finalizado`,{evento},'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        Swal.fire(\"Exito\", \"Evento cerrado con xito\", \"success\");\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n  };\r\n};\r\n\r\nexport const setAbierto = (evento) => {\r\n  return async (dispatch) => {\r\n      const resp = await fetchConToken(`eventos/abierto`,{evento},'POST');\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        Swal.fire(\"Exito\", \"Evento abierto con xito\", \"success\");\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n  };\r\n};\r\n\r\nexport const getRpps = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(\"auth/rpps\");\r\n      const body = await resp.json();\r\n      dispatch(rppsLoaded(body));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\nexport const setEventos = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(\"eventos\");\r\n      const body = await resp.json();\r\n      dispatch(eventosLoaded(body));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const setEventosByRpp = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`eventos/rpp/${id}`);\r\n      const body = await resp.json();\r\n      dispatch(eventosByRppLoaded(body));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getPrecios = (id) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const resp = await fetchConToken(`eventos/${id}/precios`);\r\n      const body = await resp.json();\r\n      dispatch(setPrecios(body));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n};\r\n\r\nconst setPrecios = (precios) => ({\r\n  type: types.setPrice,\r\n  payload: precios,\r\n});\r\n\r\nconst eventosByRppLoaded = (eventosRpp) => ({\r\n  type: types.eventosByRppLoaded,\r\n  payload: eventosRpp,\r\n});\r\nconst eventosLoaded = (eventos) => ({\r\n  type: types.eventosLoaded,\r\n  payload: eventos,\r\n});\r\nconst rppsLoaded = (rpps) => ({\r\n  type: types.rppsLoaded,\r\n  payload: rpps,\r\n});\r\nexport const eventLogout = () => ({\r\n  type: types.eventLogout,\r\n});\r\n\r\nexport const paginaActual = (page) => ({\r\n  type: types.currentPage,\r\n  payload: page,\r\n});\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { paginaActual } from '../../actions/eventos';\r\n\r\nexport const Pagination = ({dataPerPage,totalData,data,setCurrentPage}) => {\r\n    const dispatch = useDispatch();\r\n    const pageNumbers = [];\r\n    const [pageLimit, setPageLimit] = useState(10);\r\n    for(let i= 1;i<=Math.ceil(totalData/dataPerPage);i++){\r\n        pageNumbers.push(i);\r\n    }\r\n    const { currentPage } = useSelector((state) => state.eventos);\r\n\r\n    const paginate = (pageNumber) => {\r\n        const maxPage = Math.ceil(data.length/dataPerPage);\r\n        setCurrentPage(pageNumber);\r\n        dispatch(paginaActual(pageNumber));\r\n        var last = document.getElementsByClassName('last');\r\n        // last[0].classList.remove('disabled');\r\n        var first = document.getElementsByClassName('first');\r\n        // first[0].classList.remove('disabled');\r\n        if(pageNumber === maxPage){\r\n          // last[0].classList.add('disabled');\r\n        }\r\n        if(pageNumber===1){\r\n          // first[0].classList.add('disabled');\r\n        }\r\n    };\r\n    const select = (e) => {\r\n        var li = document.getElementsByTagName('li');\r\n        for (let i = 0; i < li.length; i++) {\r\n          li[i].classList.remove('active')\r\n        }\r\n        e.target.parentElement.classList.add('active');\r\n    };\r\n    const goToNextPage = pageNumber => {\r\n      console.log(pageNumber)\r\n        var li = document.getElementsByTagName('li');\r\n        for (let i = 0; i < li.length; i++) {\r\n          if(li[i].innerText===pageNumber.toString()){\r\n            // li[pageNumber+2].classList.add('active');\r\n          }else{\r\n            // li[pageNumber+1].classList.remove('active');\r\n          }\r\n        }\r\n        const maxPage = Math.ceil(data.length/dataPerPage);\r\n        var last = document.getElementsByClassName('last');\r\n        // last[0].classList.remove('disabled');\r\n        var first = document.getElementsByClassName('first');\r\n        // first[0].classList.remove('disabled');\r\n        if(pageNumber !== maxPage){\r\n          setCurrentPage((pageNumber)=>pageNumber+1);\r\n          dispatch(paginaActual(pageNumber+1));\r\n        }\r\n        if(pageNumber === maxPage-1){\r\n          // last[0].classList.add('disabled');\r\n        }\r\n    };\r\n    const goToPreviousPage = pageNumber => {\r\n      \r\n        var li = document.getElementsByTagName('li');\r\n        for (let i = 0; i < li.length; i++) {\r\n          if(li[i].innerText===pageNumber.toString()){\r\n            // li[pageNumber].classList.add('active');\r\n          }else{\r\n            // li[pageNumber+1].classList.remove('active');\r\n          }\r\n        }\r\n        var first = document.getElementsByClassName('first');\r\n        // first[0].classList.remove('disabled');\r\n        // var last = document.getElementsByClassName('last');\r\n        // last[0].classList.remove('disabled');\r\n        if(pageNumber!==1){\r\n          setCurrentPage((pageNumber)=>pageNumber-1);\r\n          dispatch(paginaActual(pageNumber-1));\r\n        }\r\n        if(pageNumber===2){\r\n          // first[0].classList.add('disabled');\r\n        }\r\n    };\r\n    const getPaginationGroup = () => {\r\n      let start = Math.floor((currentPage - 1) / pageLimit) * pageLimit;\r\n      let paginas = new Array(pageLimit).fill().map((_, idx) => start + idx + 1);\r\n      \r\n      return paginas;\r\n    };\r\n\r\n\r\n    return (\r\n    <nav>\r\n        <ul className=\"pagination\">\r\n        <li className=\"page-item first\">\r\n                <span onClick={()=>goToPreviousPage(currentPage)} className=\"page-link\">\r\n                <i className=\"fas fa-arrow-circle-left\"></i>\r\n                </span>\r\n            </li>\r\n            {getPaginationGroup().map(number=>(\r\n            <li onClick={(e)=>select(e)} key={number} className={number===1 ? \"page-item active\":\"page-item\"}>\r\n                <span onClick={()=>paginate(number)} className=\"page-link\">\r\n                    {number}\r\n                </span>\r\n            </li>\r\n            ))}\r\n            <li className=\"page-item last\">\r\n                <span onClick={()=>goToNextPage(currentPage)} className=\"page-link\">\r\n                <i className=\"fas fa-arrow-circle-right\"></i>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n);\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { getPrecios, setEventos} from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport { asociarCliente, startClearClienteAsoc } from \"../../actions/clientes\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarClienteModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { modalOpen } = useSelector((state) => state.ui);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { clienteAsoc } = useSelector((state) => state.clientes);\r\n  const { eventos, precios } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  let tipos = [];\r\n  if(precios){\r\n    tipos = [\r\n      { value: precios[0].vip, label: `$${precios[0].vip} - VIP` },\r\n      { value: precios[0].general, label: `$${precios[0].general} - General` },\r\n      { value: precios[0].preferencial, label: `$${precios[0].preferencial} - Preferencial` },\r\n    ];\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventos());\r\n    // dispatch(setEventosByRpp(uid));\r\n  }, [dispatch,uid]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n    dispatch(getPrecios(e.value));\r\n  };\r\n  const handleTipo = (e) => {\r\n    setTipo(e);\r\n  };\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n    dispatch(startClearClienteAsoc());\r\n  };\r\n  const handleAsociar = () => {\r\n    dispatch(asociarCliente(clienteAsoc, evento,tipo));\r\n    closeModal();\r\n    // window.location.reload();\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento</h1>\r\n        <hr />\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        {precios&&<div className=\"form-control mb-5\">\r\n           <Select options={tipos} value={tipo} onChange={handleTipo}/>\r\n        </div>}\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleAsociar()} className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fas fa-link\"></i>\r\n          <span> Asociar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModall } from \"../../actions/ui\";\r\nimport {  eventIsFilter, eventSetActive, setEventos } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { startDesasociarClienteSinEvento } from \"../../actions/clientes\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarEventoModal = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { modalOpenn } = useSelector((state) => state.ui);\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventos());\r\n  }, [dispatch]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n  };\r\n  const closeModall = () => {\r\n    dispatch(uiCloseModall());\r\n    // dispatch(eventClearIsFilter());\r\n  };\r\n  const handleFiltrar = () => {\r\n    dispatch(eventIsFilter());\r\n    dispatch(eventSetActive(evento));\r\n    closeModall();\r\n    \r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpenn}\r\n        onRequestClose={closeModall}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento a filtrar</h1>\r\n        <hr />\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleFiltrar()} className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fas fa-filter\"></i>\r\n          <span>Filtrar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModalll } from \"../../actions/ui\";\r\nimport { setEventosByRpp } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { startDesasociarClienteSinEvento } from \"../../actions/clientes\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarEventoClienteModal = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { modalOpennn } = useSelector((state) => state.ui);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  const { clienteAsoc } = useSelector((state) => state.clientes);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventosByRpp(uid));\r\n  }, [dispatch,uid]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n  };\r\n  const closeModalll = () => {\r\n    dispatch(uiCloseModalll());\r\n    // dispatch(eventClearIsFilter());\r\n  };\r\n  const handleFiltrar = () => {\r\n    // dispatch(eventIsFilter());\r\n    // dispatch(eventSetActive(evento));\r\n    closeModalll();\r\n    dispatch(startDesasociarClienteSinEvento(clienteAsoc.uid,uid,evento.value));\r\n    setTimeout(()=>{\r\n      history.push(`/`);\r\n    },500);\r\n    \r\n    \r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpennn}\r\n        onRequestClose={closeModalll}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento de la entrada a eliminar</h1>\r\n        <hr />\r\n        <div className=\"form-control\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleFiltrar()} className=\"btn btn-outline-danger btn-block\">\r\n          <i className=\"fas fa-trash-alt\"></i>\r\n          <span>Eliminar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModallll } from \"../../actions/ui\";\r\nimport { setEventosByRpp } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport Swal from \"sweetalert2\";\r\nimport { fetchConToken } from \"../../helpers/fetch\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarReenviarWSPModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { modalOpennnn } = useSelector((state) => state.ui);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  const { clienteAsoc } = useSelector((state) => state.clientes);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventosByRpp(uid));\r\n  }, [dispatch,uid]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n  };\r\n  const closeModallll = () => {\r\n    dispatch(uiCloseModallll());\r\n  };\r\n  const handleFiltrar = () => {\r\n    closeModallll();\r\n    const reenviar = async()=>{\r\n      const resp = await fetchConToken(`clientes/reenviarwsp/${clienteAsoc.uid}/${evento.value}`);\r\n      const body = await resp.json();\r\n      if(body.ok){\r\n        Swal.fire({title:\"PDF a WSP\",text:\"Seguro que desea reenviar el PDF por WSP?\", icon:\"question\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n          if(result.isConfirmed){\r\n            window.open(`https://wa.me/549${body.celular}?text=https://event-a.herokuapp.com/descargapdf/${evento.value}/${clienteAsoc.uid}`);\r\n          }\r\n        });\r\n      }\r\n    }\r\n    reenviar();\r\n    \r\n    \r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpennnn}\r\n        onRequestClose={closeModallll}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento de la entrada a reenviar WSP</h1>\r\n        <hr />\r\n        <div className=\"form-control\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleFiltrar()} className=\"btn btn-outline-success btn-block\">\r\n          <i className=\"fa-brands fa-whatsapp\"></i>\r\n          <span> Reenviar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModalll, uiCloseModalllll } from \"../../actions/ui\";\r\nimport { eventSetActive, setEventosByRpp } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { startDesasociarClienteSinEvento } from \"../../actions/clientes\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarEventoCeluModal = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { modalOpennnnn } = useSelector((state) => state.ui);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  const { clienteAsoc } = useSelector((state) => state.clientes);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventosByRpp(uid));\r\n  }, [dispatch,uid]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n  };\r\n  const closeModalllll = () => {\r\n    dispatch(uiCloseModalllll());\r\n    // dispatch(eventClearIsFilter());\r\n  };\r\n  const handleCelu= () => {\r\n    // dispatch(eventIsFilter());\r\n    dispatch(eventSetActive(evento.value));\r\n    closeModalllll();\r\n    // dispatch(startDesasociarClienteSinEvento(clienteAsoc.uid,uid,evento.value));\r\n    // setTimeout(()=>{\r\n    //   history.push(`/`);\r\n    // },500);\r\n    \r\n    \r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpennnnn}\r\n        onRequestClose={closeModalllll}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento a cambiar numero de celular</h1>\r\n        <hr />\r\n        <div className=\"form-control\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleCelu()} className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fas fa-arrow\"></i>\r\n          <span>Cambiar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { ClienteItems } from './ClienteItems';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { useSelector } from 'react-redux';\r\nimport { AsociarClienteModal } from './AsociarClienteModal';\r\nimport { useDispatch } from 'react-redux';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { AsociarEventoModal } from './AsociarEventoModal';\r\nimport { uiOpenModall } from '../../actions/ui';\r\nimport { eventClearIsFilter } from '../../actions/eventos';\r\nimport { AsociarEventoClienteModal } from './AsociarEventoClienteModal';\r\nimport { AsociarReenviarWSPModal } from './AsociarReenviarWSPModal';\r\nimport { AsociarEventoCeluModal } from './AsociarEventoCeluModal';\r\nimport Select from 'react-select';\r\n\r\nexport const ClienteScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const { uid, rol } = useSelector((state) => state.auth);\r\n  const { isFilter } = useSelector((state) => state.eventos);\r\n  const { activeEvent } = useSelector((state) => state.eventos);\r\n  const [ganTotal, setGanTotal] = useState(0);\r\n  const [ganComision, setGanComision] = useState(0);\r\n  const [ganClientes, setGanClientes] = useState(0);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [rrpps, setRRPPS] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientesPerPage, setClientesPerPage] = useState(10);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getClientesByRpp = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/${uid}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n      setLoading(false);\r\n    }\r\n    \r\n    const getClientesByEventoAndRRPP = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/rrpp/${uid}/evento/${activeEvent.value}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n      setLoading(false);\r\n    }\r\n    // const getGananciasByOperativo = async() =>{\r\n    //   const resp = await fetchConToken(`auth/rpps/gananciaop/${uid}`);\r\n    //   const body = await resp.json();\r\n    //   setGanClientes(body.ganclientes);\r\n    // }\r\n    const getGananciasByGeneral = async() =>{\r\n      const resp = await fetchConToken(`auth/rpps/ganancia/${uid}`);\r\n      const body = await resp.json();\r\n      setGanClientes(body.ganclientes);\r\n      setGanComision(body.gancomision);\r\n      setGanTotal(body.gantotal);\r\n    }\r\n    // const getClientesFreeByRRPP = async() =>{\r\n    //   const resp = await fetchConToken(`clientes/getfree/${uid}`);\r\n    //   const body = await resp.json();\r\n    // }\r\n    if(rol===\"RRPP\"){\r\n      getGananciasByGeneral();\r\n    }\r\n    // else{\r\n    //   // getGananciasByOperativo();\r\n    // }\r\n    if(isFilter){\r\n      getClientesByEventoAndRRPP();\r\n    }else{\r\n      getClientesByRpp();\r\n    }\r\n    // getClientesFreeByRRPP();\r\n  }, [rol,uid,isFilter,activeEvent]);\r\n  useEffect(() => {\r\n    const getRRPPByEvento = async() =>{\r\n      const resp = await fetchConToken(`auth/rrpps/byrrpp/${uid}`);\r\n      const body = await resp.json();\r\n      setRRPPS(body.rpps);\r\n    }\r\n    getRRPPByEvento();\r\n  }, [uid]);\r\n  // const [formSearchValues] = useForm({\r\n  //   cSearch:\"\"\r\n  // });\r\n  const [values, setValues] = useState({cSearch:\"\"});\r\n  const [valuesTar, setValuesTar] = useState({cSearchTar:\"\"});\r\n  const handleSearchInputChange = ({ target }) => {\r\n    const getClientesByRpp = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/${uid}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n      setLoading(false);\r\n    }\r\n    const getGananciasByGeneral = async() =>{\r\n      const resp = await fetchConToken(`auth/rpps/ganancia/${uid}`);\r\n      const body = await resp.json();\r\n      setGanClientes(body.ganclientes);\r\n      setGanComision(body.gancomision);\r\n      setGanTotal(body.gantotal);\r\n    }\r\n    if(target.value===\"\"){\r\n      getClientesByRpp();\r\n      getGananciasByGeneral();\r\n    }\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const handleSearchTarInputChange = ({ target }) => {\r\n    const getClientesByRpp = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/${uid}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n      setLoading(false);\r\n    }\r\n    const getGananciasByGeneral = async() =>{\r\n      const resp = await fetchConToken(`auth/rpps/ganancia/${uid}`);\r\n      const body = await resp.json();\r\n      setGanClientes(body.ganclientes);\r\n      setGanComision(body.gancomision);\r\n      setGanTotal(body.gantotal);\r\n    }\r\n    if(target.value===\"\"){\r\n      getClientesByRpp();\r\n      getGananciasByGeneral();\r\n    }\r\n    setValuesTar({\r\n      ...valuesTar,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const { cSearch } = values;\r\n  const { cSearchTar } = valuesTar;\r\n  const handleBuscar = (e) => {\r\n    e.preventDefault();\r\n    const searchCliente = async() =>{\r\n      const resp = await fetchConToken(`clientes/search/${cSearch}/${uid}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n      setGanClientes(body.ganclientes);\r\n      setGanComision(body.gancomision);\r\n      setGanTotal(body.gantotal);\r\n    }\r\n    searchCliente();\r\n  };\r\n  const handleBuscarPorTarjetero = (e) => {\r\n    e.preventDefault();\r\n    const searchClientePorTarjetero = async() =>{\r\n      const resp = await fetchConToken(`clientes/searchportar/${cSearchTar}/${uid}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n      setGanClientes(body.ganclientes);\r\n      setGanComision(body.gancomision);\r\n      setGanTotal(body.gantotal);\r\n    }\r\n    searchClientePorTarjetero();\r\n  };\r\n  const handleGoFilter = () => {\r\n    dispatch(uiOpenModall());\r\n  };\r\n  const handleGoLimpiar= () => {\r\n    dispatch(eventClearIsFilter());\r\n  };\r\n  const handleFiltrarRRPP = (e) => {\r\n    e.preventDefault();\r\n    const filtrarRRP = async() =>{\r\n        const resp = await fetchConToken(`clientes/${rrpp.value}`);\r\n        const body = await resp.json();\r\n        // console.log(body)\r\n        setClientes(body.clientess);\r\n    }\r\n    filtrarRRP();\r\n};\r\n\r\n  let rrppss = [];\r\n  for (let i = 0; i < rrpps.length; i++) {\r\n  const evento = {\r\n    value:rrpps[i].uid,\r\n    label:rrpps[i].nombre +\" - \"+rrpps[i].apellido,\r\n  }\r\n  rrppss.push(evento);\r\n  }\r\n  const [rrpp, setRRPP] = useState(\"\");\r\n  const handleRRPP = (e) => {\r\n      setRRPP(e);\r\n  };\r\n\r\n  return ( \r\n    <div className=\"container\">\r\n      {isMobile\r\n      ?\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n      <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n        <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido del cliente...' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n        <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n      </form>\r\n      <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscarPorTarjetero}>\r\n        <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido del tarjetero...' type=\"text\" name=\"cSearchTar\" value={cSearchTar} onChange={handleSearchTarInputChange}/>\r\n        <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n      </form>\r\n      {rol===\"TARJETERO\"&&<div className='d-flex justify-content-center align-items-center mb-2'>\r\n        <div className='form-group text-center mb-2'>\r\n          <label><b>Ganancia</b></label>\r\n          <input disabled={true} className='form-control'  type=\"text\" value={`$ ${ganClientes?ganClientes:0}`}/>\r\n        </div>\r\n      </div>}\r\n      <div className='d-flex flex-row justify-content-center align-items-center'>\r\n      {rol===\"ESPECIAL\"?<Link className=' d-flex justify-content-end text-decoration-none' to=\"/addclienteespecial\">\r\n        <button className=\"btn btn-success\" title=\"Cargar un nuevo Cliente especial\">\r\n          <i className=\"fas fa-user-plus\"></i> Cliente especial\r\n        </button>\r\n      </Link>\r\n      :<Link className=' d-flex justify-content-end text-decoration-none' to=\"/addcliente\">\r\n        <button className=\"btn btn-success\" title=\"Cargar un nuevo Cliente\">\r\n          <i className=\"fas fa-user-plus\"></i> Cliente\r\n        </button>\r\n      </Link>}\r\n      </div>\r\n      </div>\r\n      :\r\n      <div className=\"d-flex flex-column justify-content-between align-items-center\">\r\n      <div className='form-group d-flex flex-row justify-content-center align-items-center mb-2 w-100'>\r\n      <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n        <input className='form-control me-2 text-center' title='Busqueda de cliente por apellido' placeholder='Ingrese el apellido...' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n        <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n      </form>\r\n      <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscarPorTarjetero}>\r\n        <input className='form-control me-2 text-center' title='Busqueda de cliente por apellido de Tarjetero' placeholder='Ingrese el apellido del tarjetero...' type=\"text\" name=\"cSearchTar\" value={cSearchTar} onChange={handleSearchTarInputChange}/>\r\n        <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n      </form>\r\n      </div>\r\n      {rol===\"TARJETERO\"&&<div className='d-flex justify-content-center align-items-center'>\r\n        <div className='form-group text-center mb-2'>\r\n          <label><b>Ganancia</b></label>\r\n          <input disabled={true} className='form-control'  type=\"text\" value={`$ ${ganClientes?ganClientes:0}`}/>\r\n        </div>\r\n      </div>}\r\n      <div className='d-flex flex-row justify-content-center align-items-center'>\r\n      {rol===\"ESPECIAL\"?<Link className=' d-flex justify-content-end text-decoration-none' to=\"/addclienteespecial\">\r\n        <button className=\"btn btn-success\" title=\"Cargar un nuevo Cliente especial\">\r\n          <i className=\"fas fa-user-plus\"></i> Cliente especial\r\n        </button>\r\n      </Link>\r\n      :<Link className=' d-flex justify-content-end text-decoration-none' to=\"/addcliente\">\r\n        <button className=\"btn btn-success\" title=\"Cargar un nuevo Cliente\">\r\n          <i className=\"fas fa-user-plus\"></i> Cliente\r\n        </button>\r\n      </Link>}\r\n      </div>\r\n      </div>\r\n      }\r\n      \r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n      {rol===\"RRPP\"&& <div className='d-flex justify-content-center align-items-center mb-2'>\r\n        <div className='form-group text-center me-2'>\r\n          <label><b>Ganancia total</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={`$ ${ganTotal?ganTotal:0}`}/>\r\n        </div>\r\n        <div className='form-group text-center me-2'>\r\n          <label><b>Ganancia de comision</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={`$ ${ganComision?ganComision:0}`}/>\r\n        </div>\r\n        <div className='form-group text-center'>\r\n          <label><b>Ganancia de clientes propios</b></label>\r\n          <input disabled={true} className='form-control'  type=\"text\" value={`$ ${ganClientes?ganClientes:0}`}/>\r\n        </div>\r\n      </div>}\r\n        <h4>Cantidad de Clientes</h4>\r\n        <h3 className='border p-2 mb-3 '>{clientes.length}</h3>\r\n        {isMobile\r\n        ?\r\n        <div className='d-flex w-100 flex-column'>\r\n        <button className=\"btn btn-primary mb-2 me-2\" onClick={handleGoFilter} title=\"Filtrar por Evento\">\r\n          <i className=\"fas fa-filter\"></i> Filtrar por Evento\r\n        </button>\r\n        <div className='d-flex justify-content-lg-end'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleFiltrarRRPP}>\r\n                <Select className='w-100 me-2' options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n        {isFilter &&<button className=\"btn btn-outline-danger mb-2 ms-2\" onClick={handleGoLimpiar} title=\"Sacar filtro\">\r\n          <i className=\"fas fa-close\"></i> Filtrado por evento: {activeEvent.label}\r\n        </button>}\r\n        </div>\r\n        :\r\n        <div className='d-flex w-100 flex-row'>\r\n        <div className='d-flex justify-content-lg-end w-25'></div>\r\n        <div className='d-flex justify-content-lg-end w-25'></div>\r\n        <div className='d-flex justify-content-lg-end w-25'></div>\r\n        <button className=\"btn btn-primary mb-2 me-2 w-75\" onClick={handleGoFilter} title=\"Filtrar por Evento\">\r\n          <i className=\"fas fa-filter\"></i> Filtrar por Evento\r\n        </button>\r\n        <div className='d-flex justify-content-lg-end w-75'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleFiltrarRRPP}>\r\n                <Select className='w-100 me-2' options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n        {isFilter &&<button className=\"btn btn-outline-danger mb-2 ms-2\" onClick={handleGoLimpiar} title=\"Sacar filtro\">\r\n          <i className=\"fas fa-close\"></i> Filtrado por evento: {activeEvent.label}\r\n        </button>}\r\n        </div>\r\n        }\r\n        <ClienteItems clientes={currentClientes} loading={loading}/>\r\n        <AsociarClienteModal />\r\n        <AsociarEventoModal />\r\n        <AsociarEventoClienteModal />\r\n        <AsociarReenviarWSPModal />\r\n        <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { AdminScreen } from \"../auth/AdminScreen\";\r\nimport { ClienteScreen } from \"../clientes/ClienteScreen\";\r\n\r\nexport const HomeScreen = () => {\r\n  const { rol } = useSelector((state) => state.auth);\r\n  const [isAdmin, setisAdmin] = useState(false);\r\n  const [isRRPP, setisRRPP] = useState(false);\r\n  const [isTarjetero, setisTarjetero] = useState(false);\r\n  useEffect(() => {\r\n    if(rol === 'ADMIN'){\r\n      setisAdmin(true);\r\n    }\r\n    if(rol === 'RRPP'){\r\n      setisRRPP(true);\r\n    }\r\n    if(rol === 'TARJETERO'|| rol === 'ESPECIAL'){\r\n      setisTarjetero(true);\r\n    }\r\n  }, [setisAdmin, setisRRPP, setisTarjetero,rol]);\r\n  return (\r\n    <div className=\"container\">\r\n      {isAdmin && <AdminScreen />}\r\n      {isRRPP && <ClienteScreen />}\r\n      {isTarjetero && <ClienteScreen />}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport QRCode from \"qrcode.react\";\r\nimport { useEffect } from 'react';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setHasheo } from '../../actions/clientes';\r\nimport { stopWaitQr, waitQr } from '../../actions/ui';\r\n\r\nexport const QRGenerator = ({uid,dni,celular}) => {\r\n  const [hashed, setHashed] = useState(\"\");\r\n  const dispatch = useDispatch();  \r\n  useEffect(() => {\r\n    const hashIt = async()=>{\r\n      dispatch(waitQr());\r\n      const resp = await fetchConToken(`clientes/sethash`,{uid,dni,celular},'POST');\r\n      const body = await resp.json();\r\n      setHashed(dni+celular+body.hash);\r\n      setTimeout(()=>{\r\n        dispatch(stopWaitQr());\r\n      },2000);\r\n     \r\n    }\r\n    hashIt();\r\n  }, [uid,dni,celular,dispatch]);\r\n  return (\r\n  <div>\r\n      <QRCode className='d-none' value={`${hashed}`} size={128} level=\"H\" />\r\n  </div>\r\n  );\r\n};\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { pasarBody } from \"../actions/clientes\";\r\nimport { fetchConToken } from \"../helpers/fetch\";\r\n\r\nexport const useFormAuto = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n  const dispatch = useDispatch();\r\n  \r\n  const reset = (newFormState=initialState) => {\r\n    setValues(newFormState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    let tienePunto = target.value.includes(\".\") ? true : false;\r\n    let tieneComa = target.value.includes(\",\") ? true : false;\r\n    if(tienePunto||tieneComa){\r\n      return Swal.fire('Error','El DNI ingresado no puede contener caracteres como: . o ,','error');\r\n    }\r\n    if(target.value.length===8){\r\n      const verificar = async() =>{\r\n        const resp = await fetchConToken(`clientes/verificardb/${target.value}`);\r\n        const body = await resp.json();\r\n        dispatch(pasarBody(body));\r\n      }\r\n      verificar();\r\n    }\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value\r\n    });\r\n  };\r\n\r\n  // const handleInput = ( target,valuemod,target2,valuemod2,target3,valuemod3 ) => {\r\n  //   setValues({\r\n  //     ...values,\r\n  //     [target.name]: valuemod ,\r\n  //     [target2.name]: valuemod2 ,\r\n  //     [target3.name]: valuemod3,\r\n  //   });\r\n  // };\r\n  // const handleInput2 = ( target,valuemod ) => {\r\n  //   setValues({\r\n  //     ...values,\r\n  //     [target.name]: valuemod ,\r\n  //   });\r\n  // };\r\n  return [values, handleInputChange,reset];\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { asociarCliente, borrarBody } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport moment from \"moment\";\r\nimport Select from 'react-select';\r\nimport { useEffect } from 'react';\r\nimport { getPrecios, setEventos, setEventosByRpp } from '../../actions/eventos';\r\nimport { QRGenerator } from '../ui/QRGenerator';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport Swal from 'sweetalert2';\r\nimport { useFormAuto } from '../../hooks/useFormAuto';\r\n\r\nconst now = moment();\r\n\r\nexport const AddCliente = () => {\r\n  const [disableInput, setDisableInput] = useState(false);\r\n  const [actualizar, setActualizar] = useState(false);\r\n  const qrCodeCanvas = document.querySelector('canvas');\r\n  const dataUrl = qrCodeCanvas&&qrCodeCanvas.toDataURL('image/jpg', 0.3);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { body } = useSelector((state) => state.clientes);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [formClienteValues, handleClienteInputChange,reset,handleInput] = useForm({\r\n      cNombre:\"\",\r\n      cApellido:\"\"\r\n  });\r\n  const [formAutoValues, handleAutoInputChange] = useFormAuto({\r\n    cDni:\"\",\r\n  });\r\n  const [formCelularValues, handleCelularInputChange,reset1,handleInput1,handleInput2] = useForm({\r\n    cCelular: \"\",\r\n  });\r\n  const {cCelular} = formCelularValues;\r\n  const { cNombre, cApellido } = formClienteValues;\r\n  const { cDni } = formAutoValues;\r\n  const { eventos, precios } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre +\" - \"+moment(eventos[i].fecha).format('DD/MM/YYYY'),\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n\r\n  let tipos = [];\r\n  if(precios){\r\n    tipos = [\r\n      { value: precios[0].vip, label: `$${precios[0].vip} - VIP`},\r\n      { value: precios[0].general, label: `$${precios[0].general} - General` },\r\n      { value: precios[0].preferencial, label: `$${precios[0].preferencial} - General+Consumicin`},\r\n    ];\r\n  }\r\n  let tipos2 = tipos.filter(value=>{\r\n      if(value.value!==0){\r\n        return value;\r\n      }\r\n  });\r\n  const [evento, setEvento] = useState(\"\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventosByRpp(uid));\r\n    if(body){\r\n      if(body.status===\"error\"){\r\n        reset();\r\n        reset1();\r\n        dispatch(borrarBody());\r\n        setDisableInput(false);\r\n      }else{\r\n        const nombre = document.getElementById('cNombre');\r\n        const apellido = document.getElementById('cApellido');\r\n        const celular = document.getElementById('cCelular');\r\n        handleInput(apellido,body.cliente.apellido,nombre,body.cliente.nombre,celular,body.cliente.celular);\r\n        handleInput2(celular,body.cliente.celular);\r\n        setDisableInput(true);\r\n        setActualizar(true);\r\n        dispatch(borrarBody());\r\n      }\r\n    }\r\n  }, [uid,dispatch,body,handleInput,handleInput2,reset,reset1]);\r\n  const handleCargar = (e) => {\r\n      e.preventDefault();\r\n      if (cCelular === \"\" || cDni === \"\" || cApellido === \"\" || cNombre === \"\" || evento ===\"\" || tipo === \"\") {\r\n        return Swal.fire(\r\n          \"Error\",\r\n          \"Debes de rellenar todos los campos\",\r\n          \"error\"\r\n        );\r\n      }\r\n      // if (cDni.length!==8) {\r\n      //   return Swal.fire(\r\n      //     \"Error\",\r\n      //     \"El DNI debe tener 8 digitos para ser vlido\",\r\n      //     \"error\"\r\n      //   );\r\n      // }\r\n      if(actualizar){\r\n        const startActualizar = async(dni,celular,fecha,usuario,eventoo,tipoo,dataUrl)=>{\r\n          const evento = eventoo.label;\r\n          const eventoid = eventoo.value;\r\n          const tipo = tipoo.label; \r\n          const free = false;\r\n          const ticket = false;\r\n          const resp = await fetchConToken(\r\n            \"clientes/update\",\r\n            { dni,celular,fecha,usuario,dataUrl,evento,tipo,free,eventoid,ticket },\r\n            \"POST\"\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n            Swal.fire(\"Exito\", \"Cliente actualizado con xito\", \"success\");\r\n            const fileUploaddd = async(dni,evento)=>{\r\n              const resp = await fetchConToken(\r\n                \"clientes/fileupload\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                  if(result.isConfirmed){\r\n                    window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                    // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                    setTimeout(()=>{window.location.reload(false);},1000);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploaddd(cDni.trim(),eventoo.value)},1000);\r\n          } else {\r\n            if(body.oki){\r\n              dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n              Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n              const fileUploadd = async(dni,evento)=>{\r\n                const resp = await fetchConToken(\r\n                  \"clientes/fileupload\",\r\n                  { dni,evento },\r\n                  \"POST\"\r\n                );\r\n                const body = await resp.json();\r\n                if(body.ok){\r\n                  Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                      window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                      // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                      setTimeout(()=>{window.location.reload(false);},1000);\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n            }else{\r\n              Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n          }        \r\n        }\r\n        startActualizar(cDni.trim(), cCelular, now.toDate(), uid,evento,tipo,dataUrl);\r\n        setDisableInput(false);\r\n        setActualizar(false);\r\n      }else{\r\n        const startCargar = async(dni,nombree,apellidoo,celular,fecha,estado,usuario,eventoo,tipoo,dataUrl)=>{\r\n          let tipo = tipoo.label;\r\n          let evento = eventoo.label;\r\n          const eventoid = eventoo.value;\r\n          const free = false;\r\n          const ticket = false;\r\n          const nombre = nombree.toUpperCase();\r\n          const apellido = apellidoo.toUpperCase();\r\n          const resp = await fetchConToken(\r\n            \"clientes\",\r\n            { dni,nombre,apellido,celular,fecha,estado,usuario,dataUrl,evento,tipo,free,eventoid,ticket },\r\n            \"POST\"\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo,usuario,celular));\r\n            Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n            const fileUploadd = async(dni,evento)=>{\r\n              const resp = await fetchConToken(\r\n                \"clientes/fileupload\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                // Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",showConfirmButton:false});\r\n                // setTimeout(()=>{window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)},1500);\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                  if(result.isConfirmed){\r\n                    window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                    // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                    setTimeout(()=>{window.location.reload(false);},1000);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n          } else {\r\n            if(body.oki){\r\n              dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo,usuario,celular));\r\n              Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n              const fileUploadd = async(dni,evento)=>{\r\n                const resp = await fetchConToken(\r\n                  \"clientes/fileupload\",\r\n                  { dni,evento },\r\n                  \"POST\"\r\n                );\r\n                const body = await resp.json();\r\n                if(body.ok){\r\n                  Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                      window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                      // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                      setTimeout(()=>{window.location.reload(false);},1000);\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n            }else{\r\n            Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n          }\r\n        }\r\n        startCargar(cDni.trim(), cNombre.trim(), cApellido.trim(), cCelular, now.toDate(), true, uid,evento,tipo,dataUrl);\r\n        setDisableInput(false);\r\n        setActualizar(false);\r\n      }\r\n  };\r\n  const handleVolver = (e) => {\r\n    history.push('/');\r\n  };\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n    dispatch(getPrecios(e.value));\r\n  };\r\n  const handleTipo = (e) => {\r\n    setTipo(e);\r\n  };\r\n  //BLOQUEA LOS SIMBOLOS EN EL DNI\r\n  const [symbolsArr] = useState([\"e\", \"E\", \"+\", \"-\", \".\",\",\"]);\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2 mb-4\">\r\n  <h3>Cargar cliente</h3>\r\n  <hr style={{color:\"white\"}}/>\r\n  <form onSubmit={handleCargar}>\r\n    <div className=\"form-group mb-3\">\r\n    <label style={{\"color\":\"white\"}}>Ingresar DNI sin puntos ni espacios</label>\r\n      <input\r\n        type=\"number\"\r\n        maxLength={8}\r\n        minLength={7}\r\n        title=\"Debe poner 7 digitos como minimo o 8 digitos como maximo\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"DNI\"\r\n        name=\"cDni\"\r\n        value={cDni}\r\n        autoComplete=\"off\"\r\n        onChange={(e)=>handleAutoInputChange(e)}\r\n        onKeyDown={e => symbolsArr.includes(e.key) && e.preventDefault()}\r\n      />\r\n      \r\n    </div>\r\n    <div className=\"form-group\">\r\n    <div className='text-center'>\r\n    <label style={{\"color\":\"white\"}}>Cod.rea+N Celular</label>\r\n    <br/>\r\n      <label style={{\"color\":\"white\"}}>Ejemplo: 3482012345</label>\r\n      </div>\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"Celular\"\r\n        name=\"cCelular\"\r\n        id=\"cCelular\"\r\n        value={cCelular}\r\n        onChange={handleCelularInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder=\"Nombre\"\r\n        name=\"cNombre\"\r\n        id=\"cNombre\"\r\n        value={cNombre}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder=\"Apellido\"\r\n        name=\"cApellido\"\r\n        id=\"cApellido\"\r\n        value={cApellido}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n        <h3>Elegir evento</h3>\r\n        <hr style={{color:\"white\"}}/>\r\n        <div className='text-center'>\r\n        <label className='form-label' style={{color:\"white\"}}><b>Evento</b></label>\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <label className='form-label' style={{color:\"white\"}}><b>Entrada</b></label>\r\n        {precios&&<div className=\"form-control mb-5\">\r\n           <Select options={tipos2} value={tipo} onChange={handleTipo}/>\r\n        </div>}\r\n        </div>\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar cliente\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n  <QRGenerator uid={uid} dni={cDni} celular={cCelular}/>\r\n</div>);\r\n \r\n};\r\n","import moment from 'moment';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { startCargarEvento } from '../../actions/eventos';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { QRPuerta } from '../ui/QRPuerta';\r\nimport { PDFDownloadLink } from '@react-pdf/renderer';\r\nimport { Comprobante } from '../ui/Comprobante';\r\nconst now = moment();\r\n\r\nexport const AddEvento = () => {\r\n    // const qrCodeCanvas = document.querySelector('canvas');\r\n    // const dataUrl = qrCodeCanvas&&qrCodeCanvas.toDataURL('image/png', 0.3);\r\n    const { uid } = useSelector((state) => state.auth);\r\n    const [date, setDate] = useState(now.toDate());\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const [formEventoValues, handleEventoInputChange] = useForm({\r\n        eNombre:\"\",\r\n        eUbicacion: \"\",\r\n        eVip:\"\",\r\n        ePreferencial:\"\", \r\n        eGeneral:\"\", \r\n        ePuerta:\"\"\r\n    });\r\n    const { eNombre,eUbicacion, eVip, ePreferencial, eGeneral, ePuerta } = formEventoValues;\r\n    const handleAddEvento = (e) => {\r\n        e.preventDefault();\r\n        if (eUbicacion === \"\" || eNombre === \"\") {\r\n          return Swal.fire(\r\n            \"Error\",\r\n            \"Debes de rellenar todos los campos\",\r\n            \"error\"\r\n          );\r\n        }\r\n        dispatch(startCargarEvento(eNombre, eUbicacion, eVip, ePreferencial, eGeneral, ePuerta, date, uid));\r\n    };\r\n    const handleVolver = () => {\r\n        history.push('/controlevento');\r\n    };\r\n    const handleDateChange = (e) => {\r\n        setDate(e);\r\n    };\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2\">\r\n  <h3>Cargar Evento</h3>\r\n  <form onSubmit={handleAddEvento}>\r\n    \r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"Nombre\"\r\n        name=\"eNombre\"\r\n        value={eNombre}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"Ubicacion\"\r\n        name=\"eUbicacion\"\r\n        value={eUbicacion}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n            <DateTimePicker\r\n              onChange={handleDateChange}\r\n              value={date}\r\n              className=\"form-control mb-2 text-center\"\r\n              format='dd-MM-yyyy'\r\n            />\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center\" style={{color:\"white\"}}>\r\n      <label className='h5'>Precios por entrada anticipada</label>\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"Vip\"\r\n        name=\"eVip\"\r\n        value={eVip}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"General+Consumicin\"\r\n        name=\"ePreferencial\"\r\n        value={ePreferencial}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-3 text-center\"\r\n        placeholder=\"General\"\r\n        name=\"eGeneral\"\r\n        value={eGeneral}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center\" style={{color:\"white\"}}>\r\n      <label className='h5'>Precio por entrada por puerta</label>\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-3 text-center\"\r\n        placeholder=\"Precio\"\r\n        name=\"ePuerta\"\r\n        value={ePuerta}\r\n        onChange={handleEventoInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n  {/* <QRPuerta evento={eNombre} dataUrl={dataUrl} />\r\n  {dataUrl&&<PDFDownloadLink\r\n        document={ <Comprobante datos={{uri:dataUrl,evento:eNombre}}/>}\r\n        fileName={`qr-${eNombre}.pdf`}\r\n        className=\"text-decoration-none downloadpdfwsp\"\r\n      >\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n          <button className=\"btnSubmit mt-2\">Descargar QR</button>\r\n        </div>\r\n  </PDFDownloadLink>} */}\r\n</div>);\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Swal from 'sweetalert2';\r\nimport { startRegister } from '../../actions/auth';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport \"./../auth/login.css\";\r\nimport Select from 'react-select';\r\nimport { useState } from 'react';\r\nimport { setEventos } from '../../actions/eventos';\r\nimport { useEffect } from 'react';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport moment from 'moment';\r\n\r\nexport const AddRpp = () => {\r\n  const [rrpps, setRRPPS] = useState();\r\n  const [rrpp, setRRPP] = useState(\"\");\r\n  const [rol, setRol] = useState(\"\");\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre+\" - \"+moment(eventos[i].fecha).format('DD/MM/YYYY')\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  let rrppss = [];\r\n  if(rrpps){\r\n    for (let i = 0; i < rrpps.length; i++) {\r\n      const rrpp = {\r\n        value:rrpps[i].uid,\r\n        label:rrpps[i].nombre+\" \"+rrpps[i].apellido\r\n      }\r\n      rrppss.push(rrpp);\r\n    }\r\n  }\r\n  let roles = [\r\n    { value: \"RRPP\", label: \"RRPP\" },\r\n    { value: \"TARJETERO\", label: \"TARJETERO\" },\r\n    { value: \"ESPECIAL\", label: \"ESPECIAL\" }\r\n  ];\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [formRegisterValues, handleRegisterInputChange] = useForm({\r\n        rDni:\"\",\r\n        rNombre: \"\",\r\n        rApellido: \"\",\r\n        rEmail: \"\",\r\n        rPassword: \"\",\r\n        rComision:\"\",\r\n        rComisionTarjetero:\"\",\r\n        rCantidadFree:\"\"\r\n    });\r\n  const { rDni,rNombre, rApellido, rEmail, rPassword,rComision,rComisionTarjetero,rCantidadFree } = formRegisterValues;\r\n\r\n  useEffect(() => {\r\n    dispatch(setEventos());\r\n  }, [dispatch]);\r\n\r\n  const handleRegister = (e) => {\r\n        e.preventDefault();\r\n        if (rDni === \"\" || rNombre === \"\" || rApellido === \"\" || rEmail === \"\" || rPassword === \"\" || rComision===\"\" || rCantidadFree===\"\") {\r\n          return Swal.fire(\r\n            \"Error\",\r\n            \"Debes de rellenar todos los campos\",\r\n            \"error\"\r\n          );\r\n        }\r\n        if (rDni.length <7 || rDni.length >8) {\r\n          return Swal.fire(\r\n            \"Error\",\r\n            \"El DNI tiene que tener entre 7 y 8 digitos\",\r\n            \"error\"\r\n          );\r\n        }\r\n        dispatch(startRegister(rDni, rEmail, rPassword, rNombre, rApellido, rComision,rol,rComisionTarjetero,rrpp,rCantidadFree,evento));\r\n  };\r\n  const handleVolver = (e) => {\r\n        history.push('/controlrpp');\r\n  };\r\n  const handleRol = (e) => {\r\n        setRol(e);\r\n  };\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n    const getRppsByEvento = async() =>{\r\n      const resp = await fetchConToken(`auth/rrppsparaasociar/${e.value}`);\r\n      const body = await resp.json();\r\n      setRRPPS(body.rpps);\r\n    }\r\n    getRppsByEvento();\r\n  };\r\n  const handleRRPP = (e) => {\r\n    setRRPP(e);\r\n};\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2\">\r\n  <h3>Cargar RPP</h3>\r\n  <form onSubmit={handleRegister}>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        maxLength={8}\r\n        minLength={7}\r\n        title=\"Debe poner 7 digitos como minimo o 8 digitos como maximo\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"DNI\"\r\n        name=\"rDni\"\r\n        value={rDni}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Nombre\"\r\n        name=\"rNombre\"\r\n        value={rNombre}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Apellido\"\r\n        name=\"rApellido\"\r\n        value={rApellido}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"email\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Correo\"\r\n        name=\"rEmail\"\r\n        value={rEmail}\r\n        autoComplete=\"new-password\"\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"password\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Contrasea\"\r\n        name=\"rPassword\"\r\n        value={rPassword}\r\n        autoComplete=\"new-password\"\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group text-center\">\r\n    <label className='form-label' style={{color:\"white\"}}><b>Evento</b></label>\r\n    <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Comision\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Comision de Entradas de cada RRPP o TARJETERO\"\r\n        name=\"rComision\"\r\n        value={rComision}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Cantidad Free\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Cantidad de clientes FREE de este usuario\"\r\n        name=\"rCantidadFree\"\r\n        value={rCantidadFree}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    \r\n    <div className=\"form-group text-center\">\r\n    <label className='form-label' style={{color:\"white\"}}><b>Rol para evento</b></label>\r\n      <Select className=\"form-control mb-2\" options={roles} value={rol} onChange={handleRol}/>\r\n    </div>\r\n    {rol.value===\"RRPP\"&&\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Comision\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Comision que cobra el RRPP a los TARJETEROS\"\r\n        name=\"rComisionTarjetero\"\r\n        value={rComisionTarjetero}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>}\r\n    {rol.value!==\"RRPP\" && <div className=\"form-group text-center\">\r\n    <label className='form-label' style={{color:\"white\"}}><b>Elegir RRPP para este TARJETERO</b></label>\r\n      <Select className=\"form-control mb-2\" options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n    </div>}\r\n\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n</div>);\r\n};\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { eventLogout } from \"../../actions/eventos\";\r\nimport eventIcon from '../../images/eee.png';\r\n\r\nexport const Navbar = () => {\r\n  const { nombre,rol } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const [isAdmin, setisAdmin] = useState(false);\r\n  useEffect(() => {\r\n    if(rol === 'ADMIN'){\r\n      setisAdmin(true);\r\n    }\r\n  }, [setisAdmin,rol]);\r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n    dispatch(eventLogout());\r\n  };\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark mb-3\">\r\n      <Link className=\"text-decoration-none\" to=\"/\"><span role=\"button\" className=\"navbar-brand ms-4 text-decoration-none\"><img src={eventIcon} alt=\"Event App\" /></span></Link>\r\n      {/* <Link className=\"text-decoration-none\" to=\"/\"><span role=\"button\" className=\"navbar-brand ms-4 text-decoration-none\" style={{ color: \"white\" }}>EventApp</span></Link> */}\r\n      {isAdmin && <Link className=\"text-decoration-none me-3\" to=\"/verificar\"><span role=\"button\" className=\"navbar-brand ms-4 text-decoration-none\" style={{ color: \"white\" }}> <i className=\"fas fa-check-circle    \"></i> Verificar</span></Link>}\r\n      <div className=\"nav-item dropdown me-3\">\r\n        <a style={{ color: \"white\" }} className=\"nav-link dropdown-toggle\" href=\"!#\" id=\"userDropdown\" role=\"button\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">{nombre}</a>\r\n        <ul className=\"dropdown-menu dropdown-pull-right\" aria-labelledby=\"userDropdown\">\r\n          {/* <li><Link className=\"text-decoration-none dropdown-item\" to=\"/perfil\">Perfil</Link></li> */}\r\n          {/* <li><Link className=\"text-decoration-none\" to={`/${uid}/clientes`}><a className=\"dropdown-item\" href=\"/clientes\">Mis clientes</a></Link></li> */}\r\n          {/* <li><hr className=\"dropdown-divider\" /></li> */}\r\n          <li><button onClick={handleLogout} className=\"dropdown-item active bg-danger\">Cerrar sesion</button></li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASxSURBVFiFtZdbbBRlFMd/55spsPRCS4HaUjXcBCVBE4gJBRVvMSEhxBeiJIIaIsiDvmiiDxgfjFFjYtT4otTE+KCBBDFEwYRYEZEQg0SjVaBImwqWti6lu9st253v+DCzu7PXbgFPMpnv+3LmnP/5n8vMCNcie/oj09zaRSlja/FE8CRBZPwcG9rGpmpKqtJSlfqDsQ613mNW5UFPdZlnVTwFtQqqYFWxegb1vsXq52xuPYqIXjeAeQdHV6fRNz3VezyrWAVPwbNKAQD/Uhvc9TfUvsQT7V9dE4D5h0eb0552WnSjZ3NOpwAArAXVr5GrT7Fl8WApP6aM89tU9RjCxskYmlSU9dhpJ/mob2VVABZ2jawyoj8BS6/beQ5EO4YjdJ5bWxHArd8nWj01XwANN8x5TmpRs5+P+xaWBLCuS13HevsF2v8H5xlpJu3t472z0zMHbmZxwYlvw3J3uSfvc6K8ftcsfyN+7fo9FsSQLWfh0QNn6YnML2fqTmrMTuCdLIAV3wzUJlVfqQS9wViWt86upJKVGdF+MOPQsqC0grCL3b9/wrblUQOQmlm3HWitaFWqm1m+roFL5+FSbzmNJlI1OyHDn+rW6q1XIcbxr+F+GP67DEjZAuAu/SHRhrUrJrdazMC697+ke2jUj1gcwAEjRJNpMK7PWvSif28sIngJH/Qsdl2xHV41UZVIweWrHkNjE360WDDW1xMnABVcI4OgAo3zCix4Ha5UO3BKlMCza+5gMJEKwAmIcLw/yqGzgwGoEJhYFIyBuuaQTbPUVWVOVQBKTO0dq5cVnb17vIdDf0Vz0WNyrIxd8fczG31lq3NcYHqRlVJSbRNkHBsnYCZYE+zH4/5ZpA6MRlwRHavKerVtKAKOGwAR33EmHSZgZCLpr6dF4q5iLmZm2iSWi04e33uCnsvJgGLf+KVkUJThIsx0SYYRDKRTgA64WLqrC61YuocT/DoUDyLMUB9QbsI14IQYyewBlW43LcljojPShN4LpQkoZuCRJS3cflNTKDIBI5z4J07v6AS5LgjfDagBYxQz84h7eu3c2LKjsS6Uh6cK4K2HlpdUffLgGXq7hwuK0OTvRX7kuSVDBkAtuys6n6qIAScoPsfNjebs3oArnRA09+l76/YKcvKGAcjWQRnnYk4zOPgpZPIuorYr9gJCVzmb58eFD3/uRcWgCCqCkpuA4fufV1K+c8gfy9macF/k1fvTUNBbC78b7bSWpz1VMl/CNrRODw/gDfRhjYMnBisOKk4ox6FCC09Cky08EPMZzyzanCUrDKCprn4HcKQcCzK7BWlbkMur4+avTZncS0bXOYVGtuVlK7w5uUomnAnZBPJLWRCz5sLc9gLnQd/ngSnMvfMHNTUb2J7/+1b0hjn3SP1gKj22RpB9ZUE0NCPNbSHnTmXnjjmEox1svflCka1yTlCVlsOjz6vVXWnL7JJ/RokYGh/JFRpOEFK28EZA3qD2lrfZJCU/OyZ9wzR2XW50kvJyGnZ4VhuKfs2SCRiL5xecmBiYTsR5ja3t/1ayX/WXZvue/shIbf16qzyQVrvSerrAU2lSq8LV5Aip8T4wpxA5zPj0A4W5Lif/ARuG3wLaAVD7AAAAAElFTkSuQmCC\"","import React from \"react\";\r\n\r\nexport const NotFoundScreen = () => {\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"alert alert-danger d-flex flex-column justify-content-center align-items-center mt-5\">\r\n        <h1 style={{color:\"red\"}}>Error</h1>\r\n        <h3>No existe ninguna pagina aqu</h3>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport \"../modalEliminar.css\";\r\nimport {  startClearClienteAsoc } from \"../../actions/clientes\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { fetchConToken } from \"../../helpers/fetch\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const PasswordModal = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const { modalOpen } = useSelector((state) => state.ui);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const [formPassValues, handlePassInputChange] = useForm({pass:\"\"});\r\n  const { pass } = formPassValues;\r\n\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n    dispatch(startClearClienteAsoc());\r\n    window.location.reload();\r\n  };\r\n  const handlePass = () => {\r\n    handleQuitarPuerta(uid,pass);\r\n    closeModal();\r\n  };\r\n\r\n  const handleQuitarPuerta = (uid,pass) => {\r\n    if(idEvento){\r\n      const quitarPorPuerta= async() =>{\r\n        const resp = await fetchConToken('eventos/delpuerta',{evento:idEvento,pass,uid},'POST');\r\n        const body = await resp.json();\r\n        if(body.ok){\r\n        }\r\n      }\r\n      quitarPorPuerta();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black mt-5\">Verifique su identidad</h1>\r\n        <hr />\r\n        <div className=\" mb-2\">\r\n        <input\r\n        type=\"password\"\r\n        autoComplete=\"new-password\"\r\n        className=\"form-control mb-3 text-center\"\r\n        placeholder=\"Contrasea\"\r\n        name=\"pass\"\r\n        value={pass}\r\n        onChange={handlePassInputChange}\r\n      />\r\n        </div>\r\n        <div>\r\n        <button onClick={()=>handlePass()} className=\"btn btn-outline-danger btn-block\">\r\n          <i className=\"fas fa-trash\"></i>\r\n          <span> Eliminar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport {isMobile} from 'react-device-detect';\r\n\r\nexport const ClienteVerificadosItems = ({clientes,loading}) => {\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n      }\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-bordered table-striped\":\"table table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n        <th className=\"text-center align-middle\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Fecha de compra</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Horario ingreso</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <tr key={item.uid}>\r\n            <td className=\"text-center\">{ item.dni }</td>\r\n            <td className=\"text-center\">{ item.nombre }</td>\r\n            <td className=\"text-center\">{ item.apellido }</td>\r\n            <td className=\"text-center\">{ item.celular }</td>\r\n            <td className=\"text-center\">{ moment(item.fecha).format('DD/MM/YYYY') }</td>\r\n            <td className=\"text-center\">{ moment(item.entrada).format('HH:mm') }</td>\r\n          </tr>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import React from 'react';\r\nimport { useRef } from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { startVerificarDni, startVerificarHash } from '../../actions/clientes';\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { PasswordModal } from '../eventos/PasswordModal';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { ClienteVerificadosItems } from './ClientesVerificadosItems';\r\nimport {isMobile} from 'react-device-detect';\r\nimport moment from \"moment\";\r\nimport QRScan from 'qrscan';\r\n// import BarcodeScannerComponent from '../../helpers/BarcodeScannerComponent';\r\n\r\n\r\nexport const VerificarClientes = () => {\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const dispatch = useDispatch();\r\n  const [clientesPuerta, setClientesPuerta] = useState(0);\r\n  // const [formClienteValues, handleClienteInputChange,reset] = useForm({vDni:\"\"});\r\n  const [formClienteValues, setFormClienteValues] = useState({vDni:\"\"});\r\n\r\n  const reset = (newFormState={vDni:\"\"}) => {\r\n    setFormClienteValues(newFormState);\r\n  };\r\n\r\n  const handleClienteInputChange = ({ target }) => {\r\n    setFormClienteValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const { vDni } = formClienteValues;\r\n  const { activeEvent } = useSelector((state) => state.eventos);\r\n  const dni = useRef();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientesPerPage] = useState(50);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getClientesVerificados= async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/verificados/${idEvento}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n      setLoading(false);\r\n    }\r\n    getClientesVerificados();\r\n    const getClientesPuerta= async() =>{\r\n      const resp = await fetchConToken(`eventos/puerta/${idEvento}`);\r\n      const body = await resp.json();\r\n      setClientesPuerta(body.cantidad);\r\n    }\r\n    getClientesPuerta();\r\n  }, [idEvento]);\r\n  const handleVerificar = (e) => {\r\n    e.preventDefault();\r\n    // setWatching(false);\r\n    let isnum = /^\\d+$/.test(vDni);\r\n    if(!isnum){\r\n      if (vDni.indexOf('\"') >= 0) {\r\n        const spliteado = vDni.split('\"');\r\n        if(idEvento){\r\n          dispatch(startVerificarDni(spliteado[4],idEvento));\r\n          const getClientesVerificados= async() =>{\r\n            setLoading(true);\r\n            const resp = await fetchConToken(`clientes/verificados/${idEvento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientes);\r\n            setLoading(false);\r\n          }\r\n          getClientesVerificados();\r\n          setTimeout(() => {\r\n            getClientesVerificados();\r\n          }, 1000);\r\n          reset();\r\n          \r\n        }\r\n      }else{\r\n        if (vDni.indexOf('$') >= 0) {\r\n          if(idEvento){\r\n            let d = vDni.replaceAll('/','-');\r\n            let a = d.replaceAll('$','@');\r\n            let dnii = vDni.substring(0,8);\r\n            const verificarHash= async(hash,evento) =>{\r\n              const resp = await fetchConToken(`clientes/dnisinupdate/${dnii.trim()}/${idEvento}`);\r\n              const bodi = await resp.json();\r\n              if(bodi.ok){\r\n                let dni = `${bodi.cliente.dni}`;\r\n                let nombre = `${bodi.cliente.nombre.toUpperCase()} ${bodi.cliente.apellido.toUpperCase()}`;\r\n                let tipo = `${bodi.cliente.tipo}`;\r\n                Swal.fire({title:\"CLIENTE\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Tipo de entrada</b> <br/>'+tipo+ '</pre>', icon:\"info\",showCancelButton:true,cancelButtonColor: '#d33'}).then(async(result)=>{\r\n                  if(result.isConfirmed){\r\n                    const resp = await fetchConToken(`clientes/hash/${hash}/${evento}`);\r\n                    const body = await resp.json();\r\n                    if (resp.status === 200) {\r\n                      let dni = `${body.cliente.dni}`;\r\n                      let nombre = `${body.cliente.nombre.toUpperCase()} ${body.cliente.apellido.toUpperCase()}`;\r\n                      let horarioent =`${moment(body.cliente.entrada).format('HH:mm')}`;\r\n                      Swal.fire({title:\"INGRESO VERIFICADO\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Horario de entrada</b> <br/>'+ horarioent + '</pre>', icon:\"success\"}).then((result)=>{\r\n                        if(result.isConfirmed){\r\n                          const getClientesVerificados= async() =>{\r\n                            setLoading(true);\r\n                            const resp = await fetchConToken(`clientes/verificados/${evento}`);\r\n                            const body = await resp.json();\r\n                            setClientes(body.clientes);\r\n                            setLoading(false);\r\n                          }\r\n                          setTimeout(() => {\r\n                            getClientesVerificados();\r\n                            window.location.reload(false);\r\n                          }, 500);\r\n                        }\r\n                      });\r\n                    } else {\r\n                      Swal.fire(\"Error\", body.msg, \"error\");\r\n                      window.location.reload();\r\n                    }\r\n                  }else{\r\n                    Swal.fire(\"Atencion\", \"Cliente no ingreso\", \"error\");\r\n                    window.location.reload();\r\n                  }\r\n                });\r\n              }else{\r\n                Swal.fire(\"Error\", bodi.msg, \"error\");\r\n                window.location.reload();\r\n              }\r\n            }\r\n            verificarHash(a.trim(),idEvento);\r\n            reset();\r\n          }\r\n        }\r\n      }\r\n    }else{\r\n      if(idEvento){\r\n        if(vDni === \"111\"){\r\n          const agregarPorPuerta= async() =>{\r\n            const resp = await fetchConToken('eventos/addpuerta',{evento:idEvento},'POST');\r\n            const body = await resp.json();\r\n            if(body.ok){\r\n              window.location.reload();\r\n              Swal.fire('Exito','Cliente por puerta cargado','success')\r\n            }\r\n          }\r\n          agregarPorPuerta();\r\n        }else{\r\n          const verificar= async() =>{\r\n                const resp = await fetchConToken(`clientes/dnisinupdate/${vDni.trim()}/${idEvento}`);\r\n                const bodi = await resp.json();\r\n                if(bodi.ok){\r\n                  let dni = `${bodi.cliente.dni}`;\r\n                  let nombre = `${bodi.cliente.nombre.toUpperCase()} ${bodi.cliente.apellido.toUpperCase()}`;\r\n                  let tipo = `${bodi.cliente.tipo}`;\r\n                  Swal.fire({title:\"CLIENTE\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Tipo de entrada</b> <br/>'+tipo+ '</pre>', icon:\"info\",showCancelButton:true,cancelButtonColor: '#d33'}).then(async(result)=>{\r\n                    if(result.isConfirmed){\r\n                      const resp = await fetchConToken(`clientes/dni/${vDni.trim()}/${idEvento}`);\r\n                      const body = await resp.json();\r\n                      if (resp.status === 201) {\r\n                        let dni = `${body.cliente.dni}`;\r\n                        let nombre = `${body.cliente.nombre.toUpperCase()} ${body.cliente.apellido.toUpperCase()}`;\r\n                        let horarioent =`${moment(body.cliente.entrada).format('HH:mm')}`;\r\n                        let tipo = `${body.cliente.tipo}`;\r\n                        Swal.fire({title:\"INGRESO\", html:'<pre> <b>DNI</b> <br/>' + dni +'<br/> <b>Nombre completo</b> <br/>'+ nombre +'<br/> <b>Horario de entrada</b> <br/>'+ horarioent + '<br/> <b>Tipo de entrada</b> <br/>'+ tipo + '</pre>', icon:\"success\"}).then((result)=>{\r\n                          if(result.isConfirmed){\r\n                            const getClientesVerificados= async() =>{\r\n                              setLoading(true);\r\n                              const resp = await fetchConToken(`clientes/verificados/${idEvento}`);\r\n                              const body = await resp.json();\r\n                              setClientes(body.clientes);\r\n                              setLoading(false);\r\n                            }\r\n                            setTimeout(() => {\r\n                              getClientesVerificados();\r\n                              window.location.reload();\r\n                            }, 500);\r\n                            \r\n                          }\r\n                        });\r\n                      } else {\r\n                        Swal.fire(\"Error\", body.msg, \"error\");\r\n                        window.location.reload();\r\n                      }\r\n                    }else{\r\n                      Swal.fire(\"Atencion\", \"Cliente no ingreso\", \"error\");\r\n                      window.location.reload();\r\n                    }\r\n                  });\r\n                }else{\r\n                  Swal.fire(\"Error\", bodi.msg, \"error\");\r\n                  window.location.reload();\r\n                }\r\n        }\r\n        verificar();\r\n      }\r\n      }\r\n    }\r\n  };\r\n  const handleGoEliminar = () => {\r\n    dispatch(uiOpenModal());\r\n  };\r\n  const btnveri = useRef();\r\n  const [watching, setWatching] = useState(false);\r\n  const handleQRScan = (v) => {\r\n      setWatching(false);\r\n      setFormClienteValues({...values,vDni:v})\r\n      // btnveri.current.click();   \r\n  };\r\n  const handleWatching = () => {\r\n    setWatching(true);\r\n  };\r\n  const handleUpdate = (data) => {\r\n    console.log(data)\r\n  };\r\n  //BUSQUEDA\r\n  const [values, setValues] = useState({cSearch:\"\"});\r\n  const handleSearchInputChange = ({target}) => {\r\n      const getClientesVerificados= async() =>{\r\n        setLoading(true);\r\n        const resp = await fetchConToken(`clientes/verificados/${idEvento}`);\r\n        const body = await resp.json();\r\n        setClientes(body.clientes);\r\n        setLoading(false);\r\n      }\r\n      if(target.value===\"\"){\r\n        getClientesVerificados();\r\n      }\r\n      setValues({\r\n        ...values,\r\n        [target.name]: target.value,\r\n      });\r\n  };\r\n  const { cSearch } = values;\r\n  const handleBuscar = (e) => {\r\n      e.preventDefault();\r\n      const searchCliente = async() =>{\r\n          const resp = await fetchConToken(`clientes/searchv/${cSearch}/${idEvento}`);\r\n          const body = await resp.json();\r\n          setClientes(body.clientess);\r\n      }\r\n      searchCliente();\r\n  };\r\n\r\n\r\n  return (\r\n  <div>\r\n    <div className='d-flex justify-content-center mb-3 mt-1'>\r\n    {activeEvent && <span className='h1'>{activeEvent.nombre}</span>}\r\n    </div>\r\n    <div className='d-flex flex-column justify-content-center align-items-center'>\r\n          <h4>Clientes que ingresaron por <b>PUERTA</b></h4>\r\n          <h4 className='border p-2 mb-3 '>{clientesPuerta}</h4>  \r\n    </div>\r\n    <div className='d-flex justify-content-center align-items-center'>\r\n      <div className='form-group text-center mb-2'>\r\n        <button onClick={handleGoEliminar} className=\"btn btn-danger ms-1\" title=\"Eliminar un Cliente\">\r\n          <i className=\"fas fa-user-minus\"></i> Cliente por Puerta\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <h2 className='d-flex justify-content-center'>INGRESE EL CDIGO</h2>\r\n    <form className='mb-2' onSubmit={handleVerificar}>\r\n    <div className=\"form-group\">\r\n      <input\r\n      ref={dni}\r\n        autoFocus\r\n        autoComplete=\"off\"\r\n        type=\"text\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder='CDIGO...'\r\n        name=\"vDni\"\r\n        value={vDni || \"\"}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center flex-column\">\r\n      <button ref={btnveri} type=\"submit\" className=\"btn btn-success btn-lg px-5\" title=\"Verificar\">\r\n          <i className=\"fas fa-check\"></i> Verificar\r\n      </button>\r\n      \r\n    </div>\r\n    </form>\r\n    <div className=\"form-group d-flex justify-content-center flex-column mb-2\">\r\n    {watching \r\n    ?\r\n      <QRScan onFind={(v)=>{handleQRScan(v)}} />\r\n      // \r\n    :\r\n      <button className='btn btn-primary' onClick={() => handleWatching()}><i className=\"fas fa-barcode\"></i> Scanear</button>\r\n    }\r\n    </div>\r\n    {/* <BarcodeScannerComponent width={500} height={500} onUpdate={(v)=>{handleUpdate(v)}}/> */}\r\n    <div className=\"container\">\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n      {isMobile ?<h5>Clientes que ingresaron con <b>ANTICIPADA</b></h5> : <h4>Clientes que ingresaron con <b>ANTICIPADA</b></h4>}\r\n      <h4 className='border p-2 mb-3 '>{clientes.length}</h4>\r\n      <div className='w-50'>\r\n        <form className='form-group d-flex justify-content-center align-items-center mb-2' onSubmit={handleBuscar}>\r\n            <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido o DNI completo' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n            <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n        </form>\r\n      </div>\r\n      <ClienteVerificadosItems clientes={currentClientes} loading={loading}/>\r\n      <PasswordModal />\r\n      <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n","import moment from 'moment';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport {  useHistory } from 'react-router-dom';\r\nimport { eventSetActive } from '../../actions/eventos';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\n\r\nexport const EventoElegir = () => {\r\n    const { rol } = useSelector((state) => state.auth);\r\n    const history = useHistory();\r\n    const [eventos, setEventos] = useState([]);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const getEventos = async() =>{\r\n            const resp = await fetchConToken(`eventos`);\r\n            const body = await resp.json();\r\n            setEventos(body.eventos);\r\n        }\r\n        getEventos();\r\n    }, []);\r\n\r\n    const handleEvento = (evento) => {\r\n        dispatch(eventSetActive(evento));\r\n        history.push(`/verificar/${evento.id}`);\r\n    };\r\n    const handleVolver = (e) => {\r\n        history.push('/');\r\n    };\r\n    return (\r\n    <div className='container'>\r\n        <div className='d-flex justify-content-center align-items-center flex-row mb-5'>\r\n        {eventos.map(evento => {\r\n        return ( \r\n                <div role=\"button\" key={evento.id} onClick={()=>handleEvento(evento)}>\r\n                    <div className=\"card me-3\">\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\">{evento.nombre}</h5>\r\n                            <p className=\"card-text\">{evento.ubicacion}</p>\r\n                            <p className=\"card-text\">{moment(evento.fecha).format('DD/MM/YYYY')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n        })}\r\n        </div>\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n            <button className=\"btn btn-primary mt-2\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n    </div>\r\n    );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { eventSetActive, startEliminarEvento } from '../../actions/eventos';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport moment from 'moment';\r\n\r\nexport const EventoScreen = () => {\r\n    const history = useHistory();\r\n    const [eventos, setEventos] = useState([]);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        const getEventos = async() =>{\r\n            const resp = await fetchConToken(`eventos`);\r\n            const body = await resp.json();\r\n            setEventos(body.eventos);\r\n        }\r\n        getEventos();\r\n    }, []);\r\n\r\n    const handleEvento = (e,evento) => {\r\n        if(e.target.localName !== \"button\" && e.target.localName !== \"i\"){\r\n            dispatch(eventSetActive(evento));\r\n            history.push(`/detalle/${evento.id}`);\r\n        }\r\n    };\r\n    const handleVolver = (e) => {\r\n        history.push('/');\r\n    };\r\n    const handleEliminar = (evento) => {\r\n        dispatch(startEliminarEvento(evento));\r\n        const timer = setTimeout(() => {\r\n            window.location.reload();\r\n          }, 500);\r\n        return () => clearTimeout(timer);\r\n    };\r\n  return (\r\n  <div className='container-fluid d-flex justify-content-center align-items-center flex-column'>\r\n      <Link className=\"mb-3\" to=\"/addevento\">\r\n        <button className=\"btn btn-success\" title=\"Cargar un nuevo RPP\">\r\n          <i className=\"fas fa-plus-circle\"></i> Evento\r\n        </button>\r\n      </Link>\r\n      <div>\r\n        <div className='row m-auto'>\r\n        {eventos.map(evento => {\r\n        return ( \r\n                <div className='col d-flex justify-content-center align-items-center mb-2' role=\"button\" key={evento.id} >\r\n                    <div className=\"card d-flex justify-content-center align-items-center\" style={{width: \"12rem\"}} onClick={(e)=>handleEvento(e,evento)}>\r\n                    <button className=\"btn btn-danger btn-sm align-self-baseline\" onClick={()=>handleEliminar(evento)}><i className=\"fas fa-times fa-xs\"></i></button>\r\n                        <div className=\"card-body\">\r\n                            <h5 className=\"card-title\"><b>{evento.nombre}</b></h5>\r\n                            <p className=\"card-text\">{evento.ubicacion}</p>\r\n                            <p className=\"card-text\">{moment(evento.fecha).format('DD/MM/YYYY')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n        })}\r\n        </div>\r\n        <div className=\"d-flex justify-content-center align-items-center\">\r\n            <button className=\"btn btn-primary mt-2\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { startAsociar, startEliminarRRPP, startEliminarRRPPEvento, startSetRrppActive } from '../../actions/auth';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { uiOpenModal } from '../../actions/ui';\r\n\r\nexport const RppItems = ({rpps,loading}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  if(loading){\r\n    return <h2>Cargando...</h2>\r\n  }\r\n  const handleGoAsociar = (uid) => {\r\n      dispatch(startAsociar(uid));\r\n      dispatch(uiOpenModal());\r\n  };\r\n  const handleGoEditar = (rid) => {\r\n    dispatch(startSetRrppActive(rid));\r\n    setTimeout(()=>{\r\n      history.push(`/editarrrpp/${rid}`);\r\n    },500);\r\n  };\r\n  const handleGoEliminar = (uid) => {\r\n    dispatch(startEliminarRRPP(uid));\r\n    history.push('/controlrpp');\r\n  };\r\n  const handleGoEliminarEvento = (uid,eid) => {\r\n    dispatch(startEliminarRRPPEvento(uid,eid));\r\n    history.push('/controlrpp');\r\n  };\r\n  return(\r\n  <>\r\n    {rpps && <table className={isMobile ? \"d-block overflow-scroll table table-bordered table-striped\":\"table table-bordered table-striped\"}>\r\n  <thead className=\"bg-dark text-light\">\r\n    <tr>\r\n      <th className=\"text-center small\" scope=\"col\">DNI</th>\r\n      <th className=\"text-center small\" scope=\"col\">Nombre</th>\r\n      <th className=\"text-center small\" scope=\"col\">Apellido</th>\r\n      <th className=\"text-center small\" scope=\"col\">Estado</th>\r\n      <th className=\"text-center small\" scope=\"col\">Email</th>\r\n      <th className=\"text-center small\" scope=\"col\">Password</th>\r\n      {/* <th className=\"text-center small\" scope=\"col\">Rol</th> */}\r\n      {/* <th className=\"text-center small\" scope=\"col\">C. RRPP</th>\r\n      <th className=\"text-center small\" scope=\"col\">C. Propia Vta.</th>\r\n      <th className=\"text-center small\" scope=\"col\">Total Entradas</th>\r\n      <th className=\"text-center small\" scope=\"col\">Total Favor</th> */}\r\n      <th className=\"text-center small\" scope=\"col\">Editar</th>\r\n      <th className=\"text-center small\" scope=\"col\">Eliminar</th>\r\n      <th className=\"text-center small\" scope=\"col\">Asociar Evento</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n  {rpps.map(item => {\r\n      return (\r\n        <>\r\n        <tr key={item.uid} data-bs-toggle=\"collapse\" href={'#'+item.apellido+item.nombre} role=\"button\" aria-expanded=\"false\" aria-controls={item.uid}>\r\n          <td className=\"text-center small\">{ item.dni }</td>\r\n          <td className=\"text-center small\">{ item.nombre }</td>\r\n          <td className=\"text-center small\">{ item.apellido }</td>\r\n          <td className=\"text-center small\">{ item.estado ? <i className=\"fas fa-check\"></i> : <i className=\"fas fa-close\"></i>  }</td>\r\n          <td className=\"text-center small\" style={{maxWidth:\"150px\",wordWrap:\"break-word\"}}>{ item.email }</td>\r\n          <td className=\"text-center small\">{ item.passwordShow ? item.passwordShow : \"-\" }</td>\r\n          {/* <td className=\"text-center small\">{ item.rol }</td> */}\r\n          {/* <td className=\"text-center small\">{ item.deuda?item.deuda:\"-\" }</td> */}\r\n          {/* <td className=\"text-center small\">{ item.deuda?item.deuda:\"-\" }</td> */}\r\n          {/* {item.eventos.length>0?item.eventos.map(evento => {\r\n              return  <td key={item.uid} className=\"text-center small\">{ evento.totalEntradas?evento.totalEntradas:\"-\" }</td>\r\n          })\r\n          :<td className=\"text-center small\">-</td>} */}\r\n          {/* {item.eventos.length>0? item.eventos.map(evento => {\r\n              return  <td key={item.uid} className=\"text-center small\">{ evento.totalEntradas-evento.deuda }</td>\r\n          })\r\n          :<td className=\"text-center small\">-</td>} */}\r\n          <td className=\"text-center small\"><button className='btn btn-warning btn-sm' onClick={()=>handleGoEditar(item.uid)}><i className=\"fas fa-pen-to-square\"></i></button></td>\r\n          <td className=\"text-center small\"><button className='btn btn-danger btn-sm' onClick={()=>handleGoEliminar(item.uid)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n          <td className=\"text-center small\"><button className='btn btn-primary btn-sm' onClick={()=>handleGoAsociar(item.uid)}><i className=\"fas fa-link\"></i></button></td>\r\n          \r\n        </tr>\r\n        <tr >\r\n        <td colSpan=\"12\" className=\"p-0\">\r\n          <div className=\"collapse\" id={item.apellido+item.nombre}> \r\n            <table className=\"table table-bordered table-striped\">\r\n                <thead className=\"bg-dark text-light\">\r\n                  <tr>\r\n                    <th className=\"text-center small\">Evento</th>\r\n                    <th className=\"text-center small\">Rol en Evento</th>\r\n                    <th className=\"text-center small\">Usuario a Cargo</th>\r\n                    <th className=\"text-center small\">Comision por entrada</th>\r\n                    <th className=\"text-center small\">Sub-comision por entrada</th>\r\n                    <th className=\"text-center small\">Entradas FREE por Evento</th>\r\n                    <th className=\"text-center small\">Deuda a RRPP Venta propia</th>\r\n                    <th className=\"text-center small\">Deuda a RRPP por Comision</th>\r\n                    <th className=\"text-center small\">Valor entradas vendidas</th>\r\n                    <th className=\"text-center small\">Ganancia del ADMIN</th>\t\t\r\n                    <th className=\"text-center small\">Eliminar</th>\t\t\r\n                  </tr>\r\n                </thead>\t\r\n                <tbody>\r\n                  {item.eventos.length>0&&item.eventos.map(evento => {\r\n                    return(  \r\n                    <tr key={evento._id}>\r\n                        <td className=\"text-center small\">{ evento.eventoNombre }</td>\r\n                        <td className=\"text-center small\">{ evento.rolEvento }</td>\r\n                        <td className=\"text-center small\">{ evento.rrppNombre?evento.rrppNombre:\"-\"}</td>\r\n                        <td className=\"text-center small\">{ \"$ \"+evento.comisionEnt}</td>\r\n                        <td className=\"text-center small\">{ evento.comisionRRPP?\"$ \"+evento.comisionRRPP:\"-\"}</td>\r\n                        <td className=\"text-center small\">{ evento.maxFree }</td>\r\n                        <td className=\"text-center small\">{ \"$ \"+evento.deuda }</td>\r\n                        <td className=\"text-center small\">{ \"$ \"+evento.deudaComision }</td>\r\n                        <td className=\"text-center small\">{ \"$ \"+evento.totalEntradas }</td>\r\n                        {evento.rolEvento===\"RRPP\"\r\n                        ?\r\n                          <td className=\"text-center small\">{ evento.totalEntradas&&evento.deuda||evento.deudaComision?\"$ \"+(evento.totalEntradas-evento.deuda-evento.deudaComision):\"-\"}</td>\r\n                        :\r\n                          <td className=\"text-center small\">{ evento.totalEntradas&&evento.deuda?\"$ \"+(evento.totalEntradas-evento.deuda):\"-\"}</td>\r\n                        }\r\n                        <td className=\"text-center small\"><button className='btn btn-danger btn-sm' onClick={()=>handleGoEliminarEvento(item.uid,evento.evento)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n                    </tr>\r\n                    \r\n                    );\r\n                  })}\r\n                </tbody>\r\n            </table>\r\n          </div> \r\n        </td>\r\n      </tr>\r\n      </>\r\n      );\r\n    })}\r\n  </tbody>\r\n</table>}\r\n</> );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModal } from \"../../actions/ui\";\r\nimport { Asociar, startClearUserAsoc } from \"../../actions/auth\";\r\nimport { setEventos, setEventosByRpp } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport moment from 'moment';\r\nimport { fetchConToken } from \"../../helpers/fetch\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { modalOpen } = useSelector((state) => state.ui);\r\n  const { userAsoc,uid } = useSelector((state) => state.auth);\r\n  const [rrpps, setRRPPS] = useState();\r\n  const [rrpp, setRRPP] = useState(\"\");\r\n  const [rol, setRol] = useState(\"\");\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre+\" - \"+moment(eventos[i].fecha).format('DD/MM/YYYY')\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  let rrppss = [];\r\n  if(rrpps){\r\n    for (let i = 0; i < rrpps.length; i++) {\r\n      const rrpp = {\r\n        value:rrpps[i].uid,\r\n        label:rrpps[i].nombre+\" \"+rrpps[i].apellido\r\n      }\r\n      rrppss.push(rrpp);\r\n    }\r\n  }\r\n  let roles = [\r\n    { value: \"RRPP\", label: \"RRPP\" },\r\n    { value: \"TARJETERO\", label: \"TARJETERO\" },\r\n    { value: \"ESPECIAL\", label: \"ESPECIAL\" }\r\n  ];\r\n  // const { eventos } = useSelector((state) => state.eventos);\r\n  // let eventoss = [];\r\n  // for (let i = 0; i < eventos.length; i++) {\r\n  //   const evento = {\r\n  //     value:eventos[i].id,\r\n  //     label:eventos[i].nombre\r\n  //   }\r\n  //   eventoss.push(evento);\r\n  // }\r\n  // const [evento, setEvento] = useState(\"\");\r\n\r\n  const [formRegisterValues, handleRegisterInputChange] = useForm({\r\n    rComision:\"\",\r\n    rComisionTarjetero:\"\",\r\n    rCantidadFree:\"\"\r\n});\r\nconst { rComision,rComisionTarjetero,rCantidadFree } = formRegisterValues;\r\n\r\n  useEffect(() => {\r\n    dispatch(setEventos());\r\n  }, [dispatch]);\r\n  // useEffect(() => {\r\n  //   dispatch(setEventosByRpp(uid));\r\n  // }, [dispatch,uid]);\r\n\r\n  const handleRol = (e) => {\r\n    setRol(e);\r\n};\r\nconst handleEvento = (e) => {\r\nsetEvento(e);\r\nconst getRppsByEvento = async() =>{\r\n  const resp = await fetchConToken(`auth/rrppsparaasociar/${e.value}`);\r\n  const body = await resp.json();\r\n  setRRPPS(body.rpps);\r\n}\r\ngetRppsByEvento();\r\n};\r\nconst handleRRPP = (e) => {\r\nsetRRPP(e);\r\n};\r\n  const closeModal = () => {\r\n    dispatch(uiCloseModal());\r\n    dispatch(startClearUserAsoc());\r\n  };\r\n  const handleAsociar = () => {\r\n    dispatch(Asociar(userAsoc, evento,rol,rrpp,rComision,rComisionTarjetero,rCantidadFree));\r\n    closeModal();\r\n    // window.location.reload();\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpen}\r\n        onRequestClose={closeModal}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black d-flex justify-content-center\">Elegir evento</h1>\r\n        <div className=\"form-group text-center mb-2\">\r\n    <label className='form-label'><b>Evento</b></label>\r\n    <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n    </div>\r\n    <div className=\"form-group mb-2\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Comision\"\r\n        className=\"form-control\"\r\n        placeholder=\"Comision de Entradas de cada RRPP o TARJETERO\"\r\n        name=\"rComision\"\r\n        value={rComision}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group mb-2\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Cantidad Free\"\r\n        className=\"form-control\"\r\n        placeholder=\"Cantidad de clientes FREE de este usuario\"\r\n        name=\"rCantidadFree\"\r\n        value={rCantidadFree}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>\r\n    \r\n    <div className=\"form-group text-center mb-2\">\r\n    <label className='form-label mb-2'><b>Rol para evento</b></label>\r\n      <Select className=\"form-control mb-2\" options={roles} value={rol} onChange={handleRol}/>\r\n    </div>\r\n    {rol.value===\"RRPP\"&&\r\n    <div className=\"form-group mb-2\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Comision\"\r\n        className=\"form-control\"\r\n        placeholder=\"Comision que cobra el RRPP a los TARJETEROS\"\r\n        name=\"rComisionTarjetero\"\r\n        value={rComisionTarjetero}\r\n        onChange={handleRegisterInputChange}\r\n      />\r\n    </div>}\r\n    {rol.value!==\"RRPP\"&&<div className=\"form-group text-center\">\r\n    <label className='form-label'><b>Elegir RRPP para este TARJETERO</b></label>\r\n      <Select className=\"form-control mb-2\" options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n    </div>}\r\n        <button onClick={()=>handleAsociar()} className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fas fa-link\"></i>\r\n          <span> Asociar</span>\r\n        </button>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Select from 'react-select';\r\nimport { uiCloseModall } from \"../../actions/ui\";\r\nimport {  eventIsFilter, eventSetActive, setEventos } from \"../../actions/eventos\";\r\nimport \"../modal.css\";\r\n\r\n\r\nconst customStyles = {\r\n  content: {\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    right: \"auto\",\r\n    bottom: \"auto\",\r\n    marginRight: \"-50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n};\r\nif (process.env.NODE_ENV !== \"test\") {\r\n  Modal.setAppElement(\"#root\");\r\n}\r\n\r\nexport const AsociarEventoRppModal = () => {\r\n  const dispatch = useDispatch();\r\n  const { modalOpenn } = useSelector((state) => state.ui);\r\n  const { eventos } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n  const [evento, setEvento] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventos());\r\n  }, [dispatch]);\r\n\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n  };\r\n  const closeModall = () => {\r\n    dispatch(uiCloseModall());\r\n    // dispatch(eventClearIsFilter());\r\n  };\r\n  const handleFiltrar = () => {\r\n    dispatch(eventIsFilter());\r\n    dispatch(eventSetActive(evento));\r\n    closeModall();\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <Modal\r\n        isOpen={modalOpenn}\r\n        onRequestClose={closeModall}\r\n        style={customStyles}\r\n        closeTimeoutMS={200}\r\n        className=\"modal\"\r\n        // overlayClassName=\"modal-fondo\"\r\n        ariaHideApp={process.env.NODE_ENV===\"test\"}\r\n      > \r\n        <h1 className=\"black\">Elegir evento a filtrar</h1>\r\n        <hr />\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <div className=\"mt-5\">\r\n        <button onClick={()=>handleFiltrar()} className=\"btn btn-outline-primary btn-block\">\r\n          <i className=\"fas fa-filter\"></i>\r\n          <span>Filtrar</span>\r\n        </button>\r\n        </div>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Page, Text, View, Document,StyleSheet} from '@react-pdf/renderer';\r\n\r\nconst styles = StyleSheet.create({\r\n  table: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent:'center',\r\n    alignItems:'center',\r\n\r\n  },\r\n  row: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    borderTop: '1px solid #EEE',\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  rowRRPP: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    border: '2px solid #676767',\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  header: {\r\n    borderTop: 'none',\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n})\r\n\r\nexport const ComprobanteDetalleRRPP = ({datos,rrpps}) => {  \r\n    return (\r\n      <Document>\r\n        <Page\r\n          size=\"A4\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"start\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\", \r\n            padding: 25\r\n          }}\r\n        >\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"start\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"white\",\r\n              padding: 5,\r\n            }}\r\n          > \r\n            {/* <Text style={{ marginTop:\"35px\",fontSize: \"30px\" }}>Evento</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"30px\",marginBottom:\"10px\" }}>{datos.evento ? datos.evento : \"\"}</Text> */}\r\n            <Text style={{ fontSize: \"20px\" }}>Fecha</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"5px\" }}>{datos.fecha ? datos.fecha : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\", marginBottom:\"5px\" }}>Planilla</Text>\r\n            <Text style={{ fontSize: \"15px\" }}>Cantidad de RRPPs</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"15px\",marginBottom:\"10px\" }}>{datos.cantRrpp ? datos.cantRrpp : \"\"}</Text>\r\n            <View style={styles.table}>\r\n              <View style={[styles.row, styles.bold, styles.header]} fixed>\r\n                <Text style={{width: '50%', border:\"1px solid black\"}}>DNI</Text>\r\n                <Text style={{width: '50%', border:\"1px solid black\"}}>NOMBRE</Text>\r\n              </View>\r\n              {rrpps.map(rrpp => (\r\n                <>\r\n                <View key={rrpp.dni} style={rrpp.rol===\"RRPP\"?styles.rowRRPP:styles.row} wrap={false}>\r\n                  <Text style={{width: '50%'}} >{rrpp.dni}</Text>\r\n                  <Text style={{width: '50%'}} >{rrpp.nombre} {rrpp.apellido}</Text>\r\n                  </View>\r\n                  <View style={styles.table}>\r\n                    <View style={[styles.row, styles.bold, styles.header]} fixed>\r\n                      <Text style={{width: '15%',fontSize: \"10px\", border:\"1px solid black\"}}>EVENTO</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>ROL</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>USUARIO</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>DEUDA</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>DEUDA COMISION</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>TOTAL ENTRADAS</Text>\r\n                      <Text style={{width: '14%',fontSize: \"10px\", border:\"1px solid black\"}}>GANANCIA ADMIN</Text>\r\n                    </View>\r\n                    {rrpp.eventos.map(evento => (\r\n                      <View key={evento.evento} style={styles.row} wrap={false}>\r\n                        <Text style={{width: '15%',fontSize: \"10px\"}} >{evento.eventoNombre}</Text>\r\n                        <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.rolEvento}</Text>\r\n                        <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.rrppNombre?evento.rrppNombre:\"-\"}</Text>\r\n                        <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.deuda}</Text>\r\n                        <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.deudaComision}</Text>\r\n                        <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.totalEntradas}</Text>\r\n                        {\r\n                          evento.rolEvento===\"RRPP\"\r\n                          ?\r\n                          <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.totalEntradas&&evento.deuda||evento.deudaComision?evento.totalEntradas-evento.deuda:\"-\"}</Text>\r\n                          :\r\n                          <Text style={{width: '14%',fontSize: \"10px\"}} >{evento.totalEntradas&&evento.deuda?evento.totalEntradas-evento.deuda:\"-\"}</Text>\r\n                        }\r\n                      </View>\r\n                    ))}\r\n                  </View>\r\n                  {/* {rrpp.eventos.map(evento => (\r\n                    <Text key={evento._id} style={{width: '15%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{evento.deuda}</Text>\r\n                  ))}\r\n                  {rrpp.eventos.map(evento => (\r\n                    <Text key={evento._id} style={{width: '20%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{evento.totalEntradas}</Text>\r\n                  ))}\r\n                  {rrpp.eventos.map(evento => (\r\n                    <Text key={evento._id} style={{width: '15%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{evento.totalEntradas-evento.deuda}</Text>\r\n                  ))} */}\r\n                </>\r\n              ))}\r\n            </View>\r\n            <View style={styles.table}>\r\n              <View style={styles.row} wrap={false}>\r\n                  <Text style={{width: '20%'}} >TOTALES</Text>\r\n                  <Text style={{width: '30%'}} >-</Text>\r\n                  <Text style={{width: '15%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{datos.totalDeuda}</Text>\r\n                  <Text style={{width: '20%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{datos.totalEntradas}</Text>\r\n                  <Text style={{width: '15%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{datos.totalFavor}</Text>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { RppItems } from './RppItems';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { AsociarModal } from './AsociarModal';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { uiOpenModall } from '../../actions/ui';\r\nimport { eventClearIsFilter } from '../../actions/eventos';\r\nimport { AsociarEventoRppModal } from './AsociarEventoRppModal';\r\nimport { PDFDownloadLink } from '@react-pdf/renderer';\r\nimport { ComprobanteDetalleRRPP } from '../ui/ComprobanteDetalleRRPP';\r\nimport moment from 'moment';\r\n\r\nexport const RppScreen = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const [deuTotal, setDeuTotal] = useState(0);\r\n  const [totalEntradas, setTotalEntradas] = useState(0);\r\n  const [totalFavor, setTotalFavor] = useState(0);\r\n  const { isFilter } = useSelector((state) => state.eventos);\r\n  const { activeEvent } = useSelector((state) => state.eventos);\r\n  const [planillaRrpp, setPlanillaRrpp] = useState(false);\r\n  const [cantidadRpps, setCantidadRpps] = useState(0);\r\n  //PAGINACION\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [rpps, setRpps] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [rppsPerPage, setRppsPerPage] = useState(10);\r\n  const indexOfLastRpp = currentPage * rppsPerPage;\r\n  const indexOfFirstRpp = indexOfLastRpp - rppsPerPage;\r\n  const currentRpps = rpps.slice(indexOfFirstRpp,indexOfLastRpp);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getRpps = async() =>{\r\n      const resp = await fetchConToken(\"auth/rpps\");\r\n      const body = await resp.json();\r\n      setRpps(body.rpps);\r\n      setPlanillaRrpp(true);\r\n      setCantidadRpps(body.total);\r\n    }\r\n    const getRRPPsByEvento = async() =>{\r\n      const resp = await fetchConToken(`auth/rrpps/${activeEvent.value}`);\r\n      const body = await resp.json();\r\n      setRpps(body.rpps);\r\n    }\r\n    const getGananciasByAdmin = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`auth/rpps/deudad/${uid}`);\r\n      const body = await resp.json();\r\n      setDeuTotal(body.deutotal);\r\n      setTotalEntradas(body.totalentradas);\r\n      setTotalFavor(body.totalentradas-body.deutotal);\r\n      if(!isFilter){\r\n        getRpps();\r\n      }\r\n      setLoading(false);\r\n    }\r\n    // getGananciasByAdmin();\r\n    const getGananciasByEventoByAdmin = async() =>{\r\n      const resp = await fetchConToken(`auth/rpps/deudabyevento/${activeEvent.value}`);\r\n      const body = await resp.json();\r\n      setDeuTotal(body.deutotal);\r\n      setTotalEntradas(body.totalentradas);\r\n      setTotalFavor(body.totalentradas-body.deutotal);\r\n      if(isFilter){\r\n        getRRPPsByEvento();\r\n      }\r\n    }\r\n    // if(isFilter){\r\n    //   getRRPPsByEvento();\r\n    // }else{\r\n    //   getRpps();\r\n    // }\r\n    if(isFilter){\r\n      getRRPPsByEvento();\r\n      getGananciasByEventoByAdmin();\r\n    }else{\r\n      getGananciasByAdmin();\r\n    }\r\n    \r\n  }, [uid,activeEvent,isFilter]);\r\n  const handleVolver = (e) => {\r\n    history.push('/');\r\n  };\r\n\r\n  // const [formSearchValues, handleSearchInputChange] = useForm({\r\n  //   cSearch:\"\"\r\n  // });\r\n  // const { cSearch } = formSearchValues;\r\n  const [values, setValues] = useState({cSearch:\"\"});\r\n  const handleSearchInputChange = ({ target }) => {\r\n    const getRpps = async() =>{\r\n      const resp = await fetchConToken(\"auth/rpps\");\r\n      const body = await resp.json();\r\n      setRpps(body.rpps);\r\n      setPlanillaRrpp(true);\r\n      setCantidadRpps(body.total);\r\n    }\r\n      if(target.value===\"\"){\r\n        getRpps();\r\n      }\r\n      setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n      });\r\n  };\r\n  const { cSearch } = values;\r\n  const handleBuscar = (e) => {\r\n    e.preventDefault();\r\n    const searchRpp = async() =>{\r\n      const resp = await fetchConToken(`auth/search/${cSearch}`);\r\n      const body = await resp.json();\r\n      setRpps(body.rpps);\r\n    }\r\n    searchRpp();\r\n  };\r\n  const handleGoFilter = () => {\r\n    dispatch(uiOpenModall());\r\n  };\r\n  const handleGoLimpiar= () => {\r\n    dispatch(eventClearIsFilter());\r\n  };\r\n\r\n  return ( \r\n    <div id=\"rpp\" className=\"container\">\r\n      {isMobile \r\n      ?\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center mb-3\">\r\n        <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n          <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido...' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n          <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n        </form>\r\n        { planillaRrpp &&<PDFDownloadLink\r\n                    document={ <ComprobanteDetalleRRPP rrpps={rpps} datos={{  fecha:moment().format('DD-MM-yyyy'),cantRrpp:rpps.length,totalDeuda:deuTotal,totalEntradas:totalEntradas,totalFavor:totalFavor}}/>}\r\n                    fileName=\"planilla-rrpps.pdf\"\r\n                    className=\"text-decoration-none\"\r\n                >\r\n                    <div className=\"form-group d-flex justify-content-center\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" type=\"submit\"><i className=\"fas fa-print\"></i> Imprimir planilla RRPPs</button>\r\n                    </div>\r\n                </PDFDownloadLink>}\r\n        <div className='d-flex justify-content-center align-items-center mb-3'>\r\n          <div className='form-group text-center me-2'>\r\n            <label><b>Deuda total a todos los rrpps</b></label>\r\n            <input disabled={true} className='form-control' type=\"text\" value={ loading ? 'Cargando...' : `$ ${deuTotal?deuTotal:0}`}/>\r\n          </div>\r\n        </div>\r\n        <Link className=\"w-25 d-flex justify-content-end text-decoration-none\" to=\"/addrpp\">\r\n          <button className=\"btn btn-success\" title=\"Cargar un nuevo RPP\">\r\n            <i className=\"fas fa-user-plus\"></i> RRPP\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      : \r\n      <div className=\"d-flex flex-column justify-content-between align-items-center mb-3\">\r\n        <div className=\"d-flex flex-row justify-content-between align-items-center mb-3 w-100\">\r\n        <form className='form-group d-flex justify-content-center align-items-center mb-2' onSubmit={handleBuscar}>\r\n          <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido...' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n          <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n        </form>\r\n        \r\n        <div className='d-flex justify-content-center align-items-center w-25'>\r\n          <div className='form-group text-center me-2'>\r\n            <label><b>Deuda total a todos los rrpps</b></label>\r\n            <input disabled={true} className='form-control' type=\"text\" value={ loading ? 'Cargando...' : `$ ${deuTotal?deuTotal:0}`}/>\r\n          </div>\r\n        </div>\r\n        <Link className=\"w-25 d-flex justify-content-end text-decoration-none\" to=\"/addrpp\">\r\n          <button className=\"btn btn-success\" title=\"Cargar un nuevo RPP\">\r\n            <i className=\"fas fa-user-plus\"></i> RRPP\r\n          </button>\r\n        </Link>\r\n        </div>\r\n        { planillaRrpp &&<PDFDownloadLink\r\n                    document={ <ComprobanteDetalleRRPP rrpps={rpps} datos={{ fecha:moment().format('DD-MM-yyyy'),cantRrpp:rpps.length,totalDeuda:deuTotal,totalEntradas:totalEntradas,totalFavor:totalFavor}}/>}\r\n                    fileName=\"planilla-rrpps.pdf\"\r\n                    className=\"text-decoration-none\"\r\n                >\r\n                    <div className=\"form-group d-flex justify-content-center\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" type=\"submit\"><i className=\"fas fa-print\"></i> Imprimir planilla RRPPs</button>\r\n                    </div>\r\n                </PDFDownloadLink>}\r\n      </div>\r\n      }\r\n      \r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h4>Cantidad de RRPP</h4>\r\n        <h3 className='border p-2 mb-3 '>{rpps.length}</h3>\r\n        <div className='d-flex flex-row'>\r\n        <button className=\"btn btn-primary mb-2 me-2\" onClick={handleGoFilter} title=\"Filtrar por Evento\">\r\n          <i className=\"fas fa-filter\"></i> Filtrar por Evento\r\n        </button>\r\n        {isFilter &&<button className=\"btn btn-outline-danger mb-2 ms-2\" onClick={handleGoLimpiar} title=\"Sacar filtro\">\r\n          <i className=\"fas fa-close\"></i> Filtrado por evento: {activeEvent.label}\r\n        </button>}\r\n        </div>\r\n        <RppItems rpps={currentRpps} loading={loading}/>\r\n        <AsociarModal />\r\n        <AsociarEventoRppModal />\r\n        <Pagination dataPerPage={rppsPerPage} totalData={rpps.length} data={rpps} setCurrentPage={setCurrentPage}/>\r\n        <div className=\"d-flex justify-content-center align-items-center mb-3\">\r\n              <button className=\"btn btn-primary mt-2\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useLocation,useHistory } from 'react-router-dom';\r\nimport { startDesasociarCliente, startSetActive } from '../../actions/clientes';\r\nimport {isMobile} from 'react-device-detect';\r\n\r\nexport const ClienteItemsDetalle = ({clientes,loading}) => {\r\n  const dispatch = useDispatch();\r\n  // const { uid } = useSelector((state) => state.auth);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n    }\r\n    const handleGoDesasociar = (cid) => {\r\n        dispatch(startDesasociarCliente(cid,idEvento));\r\n        setTimeout(()=>{\r\n          history.push(`/detalle/${idEvento}`);\r\n        },500);\r\n    };\r\n    const handleGoEditar = (cid) => {\r\n      dispatch(startSetActive(cid));\r\n      setTimeout(()=>{\r\n        history.push(`/editarcliente/${cid}`);\r\n      },500);\r\n    };\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-sm table-bordered table-striped\":\"table table-sm table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n        <th className=\"text-center align-middle\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Fecha</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Entrada</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Tipo entrada</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Usuario</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Desasociar</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Editar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <tr key={item.uid}>\r\n            <td className=\"text-center\">{ item.dni }</td>\r\n            <td className=\"text-center\">{ item.nombre }</td>\r\n            <td className=\"text-center\">{ item.apellido }</td>\r\n            <td className=\"text-center\">{ moment(item.fecha).format(\"DD/MM/YYYY HH:mm\") }</td>\r\n            <td className=\"text-center\">{ item.celular }</td>\r\n            {item.entradas.map(entrada => {\r\n                return entrada.evento===idEvento &&( <td key={item.uid} className=\"text-center\">$ { entrada.importe }</td>)\r\n            })}\r\n            {item.entradas.map(entrada => {\r\n                return entrada.evento===idEvento &&( <td key={item.uid} className=\"text-center\">{ entrada.tipo }</td>)\r\n            })}\r\n            <td className=\"text-center\">\r\n            {item.usuarios.map(usuario => {\r\n                return usuario.evento===idEvento && <pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n            })}\r\n            </td>\r\n            {/* <td className=\"text-center\">{ item.usuario.nombre+\" \"+item.usuario.apellido }</td> */}\r\n            <td className=\"text-center\"><button className='btn btn-danger' onClick={()=>handleGoDesasociar(item.uid)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n            <td className=\"text-center\"><button className='btn btn-warning' onClick={()=>handleGoEditar(item.uid)}>Editar</button></td>\r\n          </tr>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import React from 'react';\r\nimport { Page, Text, View, Document, Image} from '@react-pdf/renderer';\r\n\r\nexport const ComprobanteDetalle = ({datos}) => {\r\n    return (\r\n      <Document>\r\n        <Page\r\n          size=\"A4\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"start\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\",\r\n          }}\r\n        >\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"start\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"white\",\r\n              padding: 5,\r\n            }}\r\n          > \r\n            <Text style={{ marginTop:\"35px\",fontSize: \"45px\" }}>Evento</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"45px\",marginBottom:\"10px\" }}>{datos.evento ? datos.evento : \"\"}</Text>\r\n            <Text style={{ fontSize: \"35px\" }}>Fecha</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"35px\",marginBottom:\"5px\" }}>{datos.fecha ? datos.fecha : \"\"}</Text>\r\n            <Text style={{ fontSize: \"30px\", marginBottom:\"5px\" }}>Detalle</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Ganancia Total</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.gan ? datos.gan : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Deuda Total</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.deuTotal ? datos.deuTotal : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Ganancia anticipadas</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.ganTotal ? datos.ganTotal : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Ganancia puerta</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.ganPuerta ? datos.ganPuerta : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Cantidad de Clientes</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.cantCli ? datos.cantCli : \"\"}</Text>\r\n            {/* <Text style={{ fontSize: \"20px\" }}>Cantidad de RRPP</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"10px\" }}>{datos.cantRrpp ? datos.cantRrpp : \"\"}</Text> */}\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport { Page, Text, View, Document,StyleSheet} from '@react-pdf/renderer';\r\n\r\nconst styles = StyleSheet.create({\r\n  table: {\r\n    width: '100%'\r\n  },\r\n  row: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    borderTop: '1px solid #EEE',\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  header: {\r\n    borderTop: 'none',\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n  // So Declarative and unDRY \r\n  row1: {\r\n    width: '20%',\r\n  },\r\n  row2: {\r\n    width: '20%',\r\n  },\r\n  row3: {\r\n    width: '20%',\r\n  },\r\n  row4: {\r\n    width: '20%',\r\n  },\r\n  row5: {\r\n    width: '20%',\r\n  },\r\n})\r\n\r\nexport const ComprobanteDetalleClientes = ({datos,clientes,evento}) => {  \r\n    return (\r\n      <Document>\r\n        <Page\r\n          size=\"A4\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"start\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\", \r\n            padding: 25\r\n          }}\r\n        >\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"start\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"white\",\r\n              padding: 5,\r\n            }}\r\n          > \r\n            <Text style={{ marginTop:\"35px\",fontSize: \"30px\" }}>Evento</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"30px\",marginBottom:\"10px\" }}>{datos.evento ? datos.evento : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Fecha</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"5px\" }}>{datos.fecha ? datos.fecha : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\", marginBottom:\"5px\" }}>Planilla</Text>\r\n            <Text style={{ fontSize: \"15px\" }}>Cantidad de Clientes</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"15px\",marginBottom:\"10px\" }}>{datos.cantCli ? datos.cantCli : \"\"}</Text>\r\n            <View style={styles.table}>\r\n              <View style={[styles.row, styles.bold, styles.header]} fixed>\r\n                <Text style={{width: '20%', border:\"1px solid black\"}}>DNI</Text>\r\n                <Text style={{width: '20%', border:\"1px solid black\"}}>NOMBRE</Text>\r\n                <Text style={{width: '20%', border:\"1px solid black\"}}>APELLIDO</Text>\r\n                <Text style={{width: '20%', border:\"1px solid black\"}}>USUARIO</Text>\r\n                <Text style={{width: '20%', border:\"1px solid black\"}}>ENTRADA</Text>\r\n              </View>\r\n              {clientes.map(cliente => (\r\n                <View key={cliente.uid} style={styles.row} wrap={false}>\r\n                  <Text style={{width: '20%'}} >{cliente.dni}</Text>\r\n                  <Text style={{width: '20%'}} >{cliente.nombre}</Text>\r\n                  <Text style={{width: '20%'}} >{cliente.apellido}</Text>\r\n                  {cliente.usuarios.map(usuario => (\r\n                    usuario.evento===evento && <Text key={usuario.usuario+cliente.dni} style={{width: '20%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{usuario.nombre} {usuario.apellido}</Text>\r\n                  ))}\r\n                  {cliente.entradas.map(entrada => (\r\n                    entrada.evento===evento && <Text key={entrada.evento+cliente.dni} style={{width: '20%',fontSize: \"15px\",flexWrap:\"wrap\"}}>$ {entrada.importe} - {entrada.tipo}</Text>\r\n                  ))}\r\n                  {/* <Text style={{width: '20%',fontSize: \"15px\",flexWrap:\"wrap\"}}>{cliente.tipo}</Text> */}\r\n                </View>\r\n              ))}\r\n            </View>\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    );\r\n};\r\n","import { PDFDownloadLink, PDFViewer } from '@react-pdf/renderer';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { ClienteItemsDetalle } from '../clientes/ClienteItemsDetalle';\r\nimport { ComprobanteDetalle } from '../ui/ComprobanteDetalle';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport moment from 'moment';\r\nimport Swal from 'sweetalert2';\r\nimport { ComprobanteDetalleClientes } from '../ui/ComprobanteDetalleClientes';\r\nimport { setAbierto, setFinalizado } from '../../actions/eventos';\r\nimport { isMobile } from 'react-device-detect';\r\nimport { EnviarMensajeCelu } from './EnviarMensajeCelu';\r\nimport { uiOpenModal } from '../../actions/ui';\r\nimport Select from 'react-select';\r\n\r\nexport const EventoDetalle = () => {\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n    const { uid } = useSelector((state) => state.auth);\r\n    const { estadoWsp } = useSelector((state) => state.ui);\r\n    const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n    const [planilla, setPlanilla] = useState(false);\r\n    const [deuTotal, setDeuTotal] = useState(0);\r\n    const [ganTotal, setGanTotal] = useState(0);\r\n    const [ganPuerta, setGanPuerta] = useState(0);\r\n    const { activeEvent } = useSelector((state) => state.eventos);\r\n    const [cantidadClientes, setCantidadClientes] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [clienteCurrentPage, setClienteCurrentPage] = useState(1);\r\n    const [clientes, setClientes] = useState([]);\r\n    const [rrpps, setRRPPS] = useState([]);\r\n    const [clientesPerPage, setClientesPerPage] = useState(10);\r\n    const indexOfLastCliente = clienteCurrentPage * clientesPerPage;\r\n    const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n    const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n    //FETCHING\r\n    useEffect(() => {\r\n        const getClientesByEvento = async() =>{\r\n            const resp = await fetchConToken(`clientes/evento/${idEvento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientes);\r\n            setPlanilla(true);\r\n            setCantidadClientes(body.total);\r\n        }\r\n        getClientesByEvento();\r\n        const getRRPPByEvento = async() =>{\r\n            const resp = await fetchConToken(`auth/rrpps/${idEvento}`);\r\n            const body = await resp.json();\r\n            setRRPPS(body.rpps);\r\n        }\r\n        getRRPPByEvento();\r\n        const getGanDeuByEvento = async() =>{\r\n            const resp = await fetchConToken(`auth/eventos/deugan/${idEvento}`);\r\n            const body = await resp.json();\r\n            setDeuTotal(body.deutotal);\r\n            setGanTotal(body.gantotal);\r\n            setGanPuerta(body.ganpuerta);\r\n        }\r\n        getGanDeuByEvento();\r\n        \r\n    }, [idEvento]);\r\n    const handleVolver = (e) => {\r\n        history.push('/controlevento');\r\n    };\r\n    //ACCIONES\r\n    const handleEditar = (evento) => {\r\n        history.push(`/editar/${idEvento}`);\r\n    };\r\n    const handleListaFREE = (evento) => {\r\n        history.push(`/listafree/${idEvento}`);\r\n    };\r\n    const handleAbrir = () => {\r\n        dispatch(setAbierto(idEvento));\r\n        setTimeout(()=>{\r\n            history.push(`/controlevento`);\r\n        },1000)\r\n    };\r\n    const handleFinalizar = () => {\r\n        dispatch(setFinalizado(idEvento));\r\n        setTimeout(()=>{\r\n            history.push(`/controlevento`);\r\n        },1000)\r\n    };\r\n    const handleLimpiarFREE = () => {\r\n        const limpiarFREE = async() =>{\r\n            const respu = await fetchConToken(`clientes/resetfree`,{uid},'POST');\r\n            const body = await respu.json();\r\n            if(body.ok){\r\n                Swal.fire('Exito','Clientes FREE desasociados con exito','success');\r\n            }\r\n        }\r\n        limpiarFREE();\r\n    };\r\n    const handleReset = () => {\r\n        const getResetIngresos = async() =>{\r\n            const respu = await fetchConToken(`clientes/resetingresos`);\r\n            const body = await respu.json();\r\n            if(body.ok){\r\n                Swal.fire('Exito','Ingresos de clientes reseteados con exito','success');\r\n            }\r\n        }\r\n        getResetIngresos();\r\n    };\r\n    const handlePasarPago = () => {\r\n        const getPasarPago = async() =>{\r\n            const respu = await fetchConToken(`clientes/pagotofree`);\r\n            const body = await respu.json();\r\n            if(body.ok){\r\n                Swal.fire('Exito','Clientes pago pasados a Free exito','success');\r\n            }\r\n        }\r\n        getPasarPago();\r\n    };\r\n    const handleEnviarWSPALL = () => {\r\n        dispatch(uiOpenModal());\r\n    };\r\n\r\n\r\n    //BUSQUEDA\r\n    const [values, setValues] = useState({cSearch:\"\"});\r\n    const handleSearchInputChange = ({ target }) => {\r\n        const getClientesByEvento = async() =>{\r\n            const resp = await fetchConToken(`clientes/evento/${idEvento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientes);\r\n            setPlanilla(true);\r\n            setCantidadClientes(body.total);\r\n        }\r\n        if(target.value===\"\"){\r\n            getClientesByEvento();\r\n        }\r\n        setValues({\r\n        ...values,\r\n        [target.name]: target.value,\r\n        });\r\n    };\r\n    const { cSearch } = values;\r\n    const handleBuscar = (e) => {\r\n        e.preventDefault();\r\n        const searchCliente = async() =>{\r\n            const resp = await fetchConToken(`clientes/searcht/${cSearch}/${idEvento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientess);\r\n        }\r\n        searchCliente();\r\n    };\r\n    const handleFiltrarRRPP = (e) => {\r\n        e.preventDefault();\r\n        const filtrarRRP = async() =>{\r\n            const resp = await fetchConToken(`clientes/rrpp/${rrpp.value}/evento/${idEvento}`);\r\n            const body = await resp.json();\r\n            setClientes(body.clientes);\r\n        }\r\n        filtrarRRP();\r\n    };\r\n\r\n    let rrppss = [];\r\n    for (let i = 0; i < rrpps.length; i++) {\r\n    const evento = {\r\n      value:rrpps[i].uid,\r\n      label:rrpps[i].nombre +\" - \"+rrpps[i].apellido,\r\n    }\r\n    rrppss.push(evento);\r\n  }\r\n    const [rrpp, setRRPP] = useState(\"\");\r\n    const handleRRPP = (e) => {\r\n        setRRPP(e);\r\n    };\r\n  return (\r\n    <div className='container-fluid'>\r\n        <div>\r\n            <div className=\"form-group d-flex justify-content-center\">\r\n                {activeEvent && <h3 className='text-dark'><b>{activeEvent.nombre}</b></h3>}\r\n            </div>\r\n            <div className=\"d-flex flex-row justify-content-evenly align-items-center\">\r\n                {activeEvent &&<PDFDownloadLink\r\n                    document={ <ComprobanteDetalle datos={{gan:ganTotal+ganPuerta-deuTotal,deuTotal:deuTotal, ganTotal:ganTotal, ganPuerta:ganPuerta, evento:activeEvent.nombre, fecha:moment(activeEvent.fecha).format('DD-MM-yyyy'),cantCli:clientes.length}}/>}\r\n                    fileName=\"detalle.pdf\"\r\n                    className=\"text-decoration-none\"\r\n                >\r\n                    <div className=\"form-group d-flex justify-content-center\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" type=\"submit\"><i className=\"fas fa-print\"></i> Imprimir detalle</button>\r\n                    </div>\r\n                </PDFDownloadLink>}\r\n                {activeEvent && planilla &&<PDFDownloadLink\r\n                    document={ <ComprobanteDetalleClientes evento={idEvento} clientes={clientes} datos={{ evento:activeEvent.nombre, fecha:moment(activeEvent.fecha).format('DD-MM-yyyy')}}/>}\r\n                    fileName=\"planilla-clientes.pdf\"\r\n                    className=\"text-decoration-none\"\r\n                >\r\n                    <div className=\"form-group d-flex justify-content-center\">\r\n                        <button className=\"btn btn-outline-primary mt-2 mb-2\" type=\"submit\"><i className=\"fas fa-print\"></i> Imprimir planilla clientes</button>\r\n                    </div>\r\n                </PDFDownloadLink>}\r\n                 {/* {activeEvent && planillaRrpp &&<PDFViewer width={500} height={500}>\r\n                    <ComprobanteDetalleRRPP rrpps={rpps} datos={{ evento:activeEvent.nombre, fecha:moment(activeEvent.fecha).format('DD-MM-yyyy'),cantRrpp:rpps.length}}/>\r\n                </PDFViewer>} */}\r\n                </div>\r\n                <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n                <div className=\"dropdown\">\r\n                    <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\r\n                        <i className=\"fas fa-cog\"></i> Acciones\r\n                    </button>\r\n                    <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\r\n                        <div className='d-grid gap-1'>\r\n                            {activeEvent&&activeEvent.finalizado?<button className=\"btn btn-success\" onClick={()=>{handleAbrir()}}><i className=\"fas fa-unlock\"></i> Abrir Evento</button>\r\n                            :<button className=\"btn btn-danger\" onClick={()=>{handleFinalizar()}}><i className=\"fas fa-lock\"></i> Cerrar Evento</button>}\r\n                            <button className=\"btn btn-primary\" onClick={()=>{handleLimpiarFREE()}}><i className=\"fas fa-broom\"></i> Limpiar FREE</button>\r\n                            {/* <button className=\"btn btn-primary\" onClick={()=>{handlePasarPago()}}><i className=\"fas fa-arrow-right\"></i> Pagos a FREE</button> */}\r\n                            <button className=\"btn btn-primary\" onClick={()=>{handleReset()}}><i className=\"fas fa-arrow-rotate-left\"></i> Reset Ingreso</button>\r\n                            <button className=\"btn btn-success\" onClick={handleListaFREE}><i className=\"fas fa-list\"></i> Lista FREE</button>\r\n                            <button className=\"btn btn-warning\" onClick={handleEditar}><i className=\"fas fa-edit\"></i> Editar</button>\r\n                            {estadoWsp === \"Conectado\"&&<button className=\"btn btn-success\" onClick={handleEnviarWSPALL}><i className=\"fas fa-arrow-up\"></i> Mandar WSP a todos</button>}\r\n                        </div>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    <div className=\"d-flex flex-row justify-content-between align-items-center mb-3\">\r\n        <div className='form-group text-center me-2 w-25'>\r\n          <label><b>Deuda a RRPPs</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={loading?'Cargando...':`$ ${deuTotal?deuTotal:0}`}/>\r\n        </div>\r\n        <div className='form-group text-center me-2 w-25'>\r\n          <label><b>Ingreso de anticipadas</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={loading?'Cargando...':`$ ${ganTotal}`}/>\r\n        </div>\r\n        <div className='form-group text-center me-2 w-25'>\r\n          <label><b>Ingreso por puerta</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={loading?'Cargando...':`$ ${ganPuerta}`}/>\r\n        </div>\r\n    </div>\r\n    <div className='d-flex justify-content-center mb-2'>\r\n        <div className='form-group text-center me-2 w-25 form-group'>\r\n          <label><b>Ganancia total</b></label>\r\n          <input disabled={true} className='form-control' type=\"text\" value={loading?'Cargando...':`$ ${ganTotal+ganPuerta-deuTotal}`}/>\r\n        </div>\r\n    </div>\r\n    \r\n    {isMobile\r\n    ?\r\n    <div className='d-flex flex-column'>\r\n        <div className='d-flex'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n                <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese apellido o DNI completo' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n        <div className='d-flex'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleFiltrarRRPP}>\r\n            {/* <label className='form-label me-2'><b>Filtro por RRPP</b></label> */}\r\n                <Select className='w-50 me-2' options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    :\r\n    <div className='d-flex'>\r\n    <div className='d-flex justify-content-lg-end w-25'></div>\r\n        <div className='d-flex justify-content-lg-end w-100'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-50' onSubmit={handleBuscar}>\r\n                <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese apellido o DNI completo' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n        <div className='d-flex justify-content-lg-end w-75'>\r\n            <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleFiltrarRRPP}>\r\n            {/* <label className='form-label me-2'><b>Filtro por RRPP</b></label> */}\r\n                <Select className='w-50 me-2' options={rrppss} value={rrpp} onChange={handleRRPP}/>\r\n                <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    }\r\n    \r\n    {isMobile?<div>\r\n                <div className='d-flex justify-content-end align-items-center flex-column'>\r\n                    <h3 className='text-dark'><b>Clientes</b></h3>\r\n                    <h4>{cantidadClientes}</h4>\r\n                </div>\r\n                    <ClienteItemsDetalle clientes={currentClientes} loading={loading}/>\r\n                    <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setClienteCurrentPage}/>\r\n                \r\n    </div>\r\n    :<div className='form-group d-flex justify-content-center align-items-start flex-row mb-1'>\r\n                <div className='col-9 d-flex justify-content-end align-items-center flex-column'>\r\n                    <h3 className='text-dark'><b>Clientes</b></h3>\r\n                    <h4>{cantidadClientes}</h4>\r\n                    <ClienteItemsDetalle clientes={currentClientes} loading={loading}/>\r\n                    <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setClienteCurrentPage}/>\r\n                </div>\r\n    </div>}\r\n    <EnviarMensajeCelu />\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n        <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n    </div>\r\n</div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport DateTimePicker from 'react-datetime-picker';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { startActualizarEvento } from '../../actions/eventos';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const EventoEditar = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { activeEvent } = useSelector((state) => state.eventos);\r\n    const [date, setDate] = useState(activeEvent.fecha);\r\n    const [formEventoValues, handleEventoInputChange] = useForm({\r\n        eUbicacion: activeEvent ? activeEvent.ubicacion:\"\",\r\n        eVip: activeEvent ? activeEvent.vip:\"\",\r\n        ePreferencial:activeEvent ? activeEvent.preferencial:\"\",\r\n        eGeneral:activeEvent ? activeEvent.general:\"\",\r\n        ePuerta:activeEvent ? activeEvent.puerta:\"\",\r\n    });\r\n    const { eUbicacion, eVip, ePreferencial, eGeneral,ePuerta } = formEventoValues;\r\n    const handleDateChange = (e) => {\r\n        setDate(e);\r\n    };\r\n    const handleUpdateEvento = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startActualizarEvento(activeEvent.id, eUbicacion, eVip, ePreferencial, eGeneral,ePuerta, date));\r\n    };\r\n    const handleVolver = (e) => {\r\n        history.push('/controlevento');\r\n    };\r\n  return (\r\n  <div>\r\n    \r\n    <div className='container'>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n            <label className='form-label h3'><b>Nombre del evento</b></label>\r\n            {activeEvent && <h3 className='text-dark'>{activeEvent.nombre}</h3>}\r\n        </div>\r\n        <form onSubmit={handleUpdateEvento}>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Ubicacion</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"eUbicacion\" type=\"text\" value={eUbicacion} onChange={handleEventoInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Fecha</b></label>\r\n            <DateTimePicker\r\n              onChange={handleDateChange}\r\n              value={date}\r\n              className=\"border rounded-pill text-center form-control\"\r\n              format='dd-MM-yyyy'\r\n            />\r\n        </div>\r\n        <div className='form-group'>\r\n            <h4>Precios de las entradas</h4>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>VIP</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"eVip\" type=\"number\" value={eVip} onChange={handleEventoInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>General+Consumicin</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"ePreferencial\" type=\"number\" value={ePreferencial} onChange={handleEventoInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-3'>\r\n        <label className='form-label h5'><b>General</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"eGeneral\" type=\"number\" value={eGeneral} onChange={handleEventoInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-3'>\r\n        <label className='form-label h5'><b>Puerta</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"ePuerta\" type=\"number\" value={ePuerta} onChange={handleEventoInputChange}/></div>\r\n        </div>\r\n        <div className=\"form-group d-flex justify-content-center mb-2\">\r\n            <button type=\"submit\" className=\"btn btn-success\" ><i className=\"fas fa-check\"></i> Actualizar</button>\r\n        </div>\r\n        </form>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n  </div>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { startCargarClientePuerta } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport moment from \"moment\";\r\nimport DateTimePicker from \"react-datetime-picker\";\r\nimport Select from 'react-select';\r\nimport { useEffect } from 'react';\r\nimport { getPrecios} from '../../actions/eventos';\r\n\r\nconst now = moment();\r\n\r\nexport const AddClientePuerta = () => {\r\n  const location = useLocation();\r\n  const initialCantidad = 0;\r\n  const [cantidad, setCantidad] = useState(initialCantidad);\r\n  // const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const idEvento2 = location.pathname.split('/');\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const [date, setDate] = useState(now.toDate());\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [formClienteValues, handleClienteInputChange] = useForm({\r\n      cDni:\"\",\r\n      cNombre:\"\",\r\n      cApellido:\"\"\r\n  });\r\n  const { cDni, cCelular, cNombre, cApellido } = formClienteValues;\r\n  const { precios } = useSelector((state) => state.eventos);\r\n  let tipos = [];\r\n  if(precios){\r\n    tipos = [\r\n      { value: precios[0].vip, label: `$${precios[0].vip} - VIP` },\r\n      { value: precios[0].general, label: `$${precios[0].general} - General` },\r\n      { value: precios[0].preferencial, label: `$${precios[0].preferencial} - Preferencial` },\r\n    ];\r\n  }\r\n  const [tipo, setTipo] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(getPrecios(idEvento2[2]));\r\n  }, []);\r\n  const handleCargar = (e) => {\r\n      e.preventDefault();\r\n      if(idEvento2[2]){\r\n        dispatch(startCargarClientePuerta(cantidad,idEvento2[2]));\r\n      }\r\n  };\r\n  const handleVolver = (e) => {\r\n    history.push('/verificar/'+idEvento2[2]);\r\n  };\r\n  const handleDateChange = (e) => {\r\n    setDate(e);\r\n  };\r\n  const handleTipo = (e) => {\r\n    setTipo(e);\r\n  };\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2 mb-4\">\r\n  <h3>Cargar cliente por puerta</h3>\r\n  <hr style={{color:\"white\"}}/>\r\n  <form onSubmit={handleCargar}>\r\n    <div className=\"form-group mb-2\">\r\n      <input\r\n        type=\"text\"\r\n        title=\"Debe poner 7 digitos como minimo o 8 digitos como maximo\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"DNI\"\r\n        name=\"cDni\"\r\n        value={cDni}\r\n        autoComplete=\"off\"\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"Nombre\"\r\n        name=\"cNombre\"\r\n        id=\"cNombre\"\r\n        value={cNombre}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"Apellido\"\r\n        name=\"cApellido\"\r\n        id=\"cApellido\"\r\n        value={cApellido}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n            <DateTimePicker\r\n              onChange={handleDateChange}\r\n              value={date}\r\n              className=\"form-control mb-3 text-center\"\r\n              format='dd-MM-yyyy HH:mm:ss'\r\n            />\r\n    </div>\r\n    <hr style={{color:\"white\"}}/>\r\n    <div className='text-center'>\r\n      <label className='form-label' style={{color:\"white\"}}><b>Entrada</b></label>\r\n        {precios&&<div className=\"form-control mb-5\">\r\n           <Select options={tipos} value={tipo} onChange={handleTipo}/>\r\n        </div>}\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar cliente\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n</div>);\r\n \r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport {  startUpdateCliente } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { QRGenerator } from '../ui/QRGenerator';\r\nimport moment from \"moment\";\r\nimport { AsociarEventoCeluModal } from './AsociarEventoCeluModal';\r\nimport { uiOpenModalllll } from '../../actions/ui';\r\n\r\nconst now = moment();\r\n\r\nexport const ClienteEditar = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const qrCodeCanvas = document.querySelector('canvas');\r\n    const dataUrl = qrCodeCanvas&&qrCodeCanvas.toDataURL('image/jpg', 0.3);\r\n    const { uid } = useSelector((state) => state.auth);\r\n    const { waitQR } = useSelector((state) => state.ui);\r\n    const { clienteAsoc } = useSelector((state) => state.clientes);\r\n    const { activeEvent } = useSelector((state) => state.eventos);\r\n    const [formClienteValues, handleClienteInputChange] = useForm({\r\n        cNombre: clienteAsoc ? clienteAsoc.nombre:\"\",\r\n        cApellido: clienteAsoc ? clienteAsoc.apellido:\"\",\r\n        cCelular:clienteAsoc ? clienteAsoc.celular:\"\",\r\n    });\r\n    const { cNombre, cApellido, cCelular } = formClienteValues;\r\n    const handleUpdateCliente = async(e) => {\r\n        e.preventDefault();\r\n        const timer = ms => new Promise(res => setTimeout(res, ms))\r\n        dispatch(uiOpenModalllll());\r\n        for (let i = 0; i < clienteAsoc.entradas.length; i++) {\r\n            await timer(5000);\r\n            if(clienteAsoc.entradas[i].evento===activeEvent){\r\n                dispatch(startUpdateCliente(clienteAsoc.dni, cCelular,now.toDate(), uid,clienteAsoc.entradas[i].nombre,clienteAsoc.entradas[i].tipo+\" - $\"+clienteAsoc.entradas[i].importe,dataUrl,clienteAsoc.entradas[i].evento));\r\n            }\r\n            // setTimeout(()=>{ dispatch(startUpdateCliente(clienteAsoc.dni, cCelular,now.toDate(), uid,clienteAsoc.entradas[i].nombre,clienteAsoc.entradas[i].tipo+\" - $\"+clienteAsoc.entradas[i].importe,dataUrl,clienteAsoc.entradas[i].evento));},5000);\r\n            await timer(5000);\r\n        }\r\n        setTimeout(()=>{\r\n            history.goBack();\r\n        },500);\r\n    };\r\n    const handleVolver = (e) => {\r\n        history.push('/');\r\n    };\r\n  return (\r\n  <div>\r\n    \r\n    <div className='container'>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n            <label className='form-label h3'><b>DNI</b></label>\r\n            {clienteAsoc && <h3 className='text-dark'>{clienteAsoc.dni}</h3>}\r\n        </div>\r\n        <form onSubmit={handleUpdateCliente}>\r\n        {/* <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Nombre</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cNombre\" disabled type=\"text\" value={cNombre} /></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Apellido</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cApellido\" disabled type=\"text\" value={cApellido} /></div>\r\n        </div> */}\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-3'>\r\n        <label className='form-label h5'><b>Celular</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cCelular\" type=\"text\" value={cCelular} onChange={handleClienteInputChange}/></div>\r\n        </div>\r\n        {waitQR===false&& <div className=\"form-group d-flex justify-content-center mb-2\">\r\n            <button type=\"submit\" className=\"btn btn-success\" ><i className=\"fas fa-check\"></i> Actualizar</button>\r\n        </div>}\r\n        </form>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n  </div>\r\n    </div>\r\n    <QRGenerator uid={uid} dni={clienteAsoc.dni} celular={cCelular}/>\r\n    <AsociarEventoCeluModal />\r\n  </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport Swal from 'sweetalert2';\r\nimport { startUpdateRrpp } from '../../actions/auth';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport \"./../auth/login.css\";\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport const RrppEditar = () => {\r\n  const { userAsoc } = useSelector((state) => state.auth);\r\n  const [formRrppValues, handleRrppInputChange] = useForm({\r\n      rNombre:userAsoc ? userAsoc.nombre: \"\",\r\n      rApellido:userAsoc ? userAsoc.apellido: \"\",\r\n      rEmail: userAsoc ? userAsoc.email:\"\",\r\n      rPassword:userAsoc ? userAsoc.passwordShow: \"\",\r\n      rComision:userAsoc ? userAsoc.comisionEnt:\"\",\r\n      rComisionTarjetero:userAsoc ? userAsoc.comisionRRPP:\"\",\r\n      rCantidadFree:userAsoc ? userAsoc.maxFree:\"\"\r\n  });\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const [isOculto, setIsOculto] = useState(true);\r\n  const { rNombre, rApellido, rPassword, rEmail } = formRrppValues;\r\n\r\n  const handleUpdate = (e) => {\r\n        e.preventDefault();\r\n        if ( rNombre === \"\" || rApellido === \"\" || rPassword === \"\" || rEmail === \"\") {\r\n          return Swal.fire(\r\n            \"Error\",\r\n            \"Debes de rellenar todos los campos\",\r\n            \"error\"\r\n          );\r\n        }\r\n        dispatch(startUpdateRrpp( userAsoc.dni, rEmail, rNombre, rPassword, rApellido));\r\n        setTimeout(()=>{\r\n          history.goBack();\r\n        },500);\r\n  };\r\n  const handleVolver = (e) => {\r\n        history.push('/controlrpp');\r\n  };\r\n  const setOculto = () => {\r\n    if(isOculto){\r\n      setIsOculto(false);\r\n    }else{\r\n      setIsOculto(true);\r\n    }\r\n};\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2\">\r\n  <h3> Actualizar RPP</h3>\r\n  {userAsoc && <h5 className=\"text-center\" style={{color:\"white\"}}> DNI - {userAsoc.dni}</h5> }\r\n  <form onSubmit={handleUpdate}>\r\n    <div className=\"form-group text-center\">\r\n      <label style={{color:\"white\"}}>Nombre</label>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Nombre\"\r\n        name=\"rNombre\"\r\n        value={rNombre}\r\n        onChange={handleRrppInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group text-center\">\r\n    <label style={{color:\"white\"}}>Apellido</label>\r\n      <input\r\n        type=\"text\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Apellido\"\r\n        name=\"rApellido\"\r\n        value={rApellido}\r\n        onChange={handleRrppInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group text-center\">\r\n    <label style={{color:\"white\"}}>Email</label>\r\n      <input\r\n        type=\"email\"\r\n        className=\"form-control mb-2\"\r\n        placeholder=\"Correo\"\r\n        name=\"rEmail\"\r\n        value={rEmail}\r\n        autoComplete=\"new-password\"\r\n        onChange={handleRrppInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group text-center mb-4\">\r\n    <label style={{color:\"white\"}}>Contrasea</label>\r\n      <div className='form-control'>\r\n      <input\r\n        type={isOculto?\"password\":\"text\"}\r\n        className=\"w-75 mb-2\"\r\n        placeholder=\"Contrasea\"\r\n        name=\"rPassword\"\r\n        value={rPassword}\r\n        autoComplete=\"new-password\"\r\n        onChange={handleRrppInputChange}\r\n      />\r\n      <button className={isOculto?'btn btn-success w-25':'btn btn-danger w-25'} onClick={setOculto} type=\"button\">{isOculto?\"Mostrar\":\"Ocultar\"}</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Actualizar\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n</div>);\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startDesasociarClienteSinEvento, startSetActive } from '../../actions/clientes';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useHistory,useLocation } from 'react-router-dom';\r\n\r\nexport const ClienteItemsFreeList = ({clientes,loading}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const { uid } = useSelector((state) => state.auth);\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n    }\r\n    const handleGoDesasociar = (cid) => {\r\n      dispatch(startDesasociarClienteSinEvento(cid,uid));\r\n      setTimeout(()=>{\r\n        history.push(`/listafree/${idEvento}`);\r\n      },500);\r\n  };\r\n    const handleGoEditar = (uid) => {\r\n      dispatch(startSetActive(uid));\r\n      setTimeout(()=>{\r\n        history.push(`/editarcliente/${uid}`);\r\n      },500);\r\n    };\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-bordered table-striped\":\"table table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n        <th className=\"text-center align-middle\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Eventos</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Usuario</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Editar</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Eliminar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <tr key={item.uid}>\r\n            <td className=\"text-center\">{ item.dni }</td>\r\n            <td className=\"text-center\">{ item.nombre }</td>\r\n            <td className=\"text-center\">{ item.apellido }</td>\r\n            <td className=\"text-center\">{ item.celular }</td>\r\n            <td className=\"text-center\">\r\n            {item.entradas.map(entrada => {\r\n                return <pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n            })}\r\n            </td>\r\n            <td className=\"text-center\">\r\n            {item.usuarios.map(usuario => {\r\n              return  <pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n            })}\r\n            </td>\r\n            <td className=\"text-center\"><button className='btn btn-warning' onClick={()=>handleGoEditar(item.uid)}>Editar</button></td>\r\n            <td className=\"text-center\"><button className='btn btn-danger' onClick={()=>handleGoDesasociar(item.uid)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n          </tr>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { useDispatch } from 'react-redux';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useLocation } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { ClienteItemsFreeList } from './ClienteItemsFreeList';\r\n\r\nexport const ClienteListaFreeScreen = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientesPerPage, setClientesPerPage] = useState(10);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getClientesFreeByEvento= async() =>{\r\n      const resp = await fetchConToken(`clientes/getfreeevento/${idEvento}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n    }\r\n    getClientesFreeByEvento();\r\n  }, [idEvento]);\r\n  const handleVolver = (e) => {\r\n    history.push(`/detalle/${idEvento}`);\r\n  };\r\n  return ( \r\n    <div className=\"container\">\r\n      {isMobile\r\n      ?\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <Link className='ms-1 d-flex justify-content-end text-decoration-none' to={`/listaticketsfree/${idEvento}`}>\r\n          <button className=\"btn btn-success\" title=\"Lista de tickets free\">\r\n            <i className=\"fas fa-user-plus\"></i> Lista de tickets FREE\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      :\r\n      <div className=\"d-flex flex-row justify-content-center  align-items-center mb-2\">\r\n        <Link className='ms-1 d-flex justify-content-end text-decoration-none' to={`/listaticketsfree/${idEvento}`}>\r\n          <button className=\"btn btn-success\" title=\"Lista de tickets free\">\r\n            <i className=\"fas fa-user-plus\"></i> Lista de tickets FREE\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      }\r\n      \r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h4>Cantidad de Clientes FREE</h4>\r\n        <h3 className='border p-2 mb-3 '>{clientes.length}</h3>\r\n        <ClienteItemsFreeList clientes={currentClientes} loading={loading}/>\r\n        <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n            <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { startDesasociarClienteSinEvento, startSetActive } from '../../actions/clientes';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useHistory,useLocation } from 'react-router-dom';\r\n\r\nexport const ClienteTicketItems = ({clientes,loading}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const { uid } = useSelector((state) => state.auth);\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n    }\r\n    // const handleGoAsociar = (uid) => {\r\n    //     dispatch(startAsociarCliente(uid));\r\n    //     dispatch(uiOpenModal());\r\n    // };\r\n    const handleGoDesasociar = (cid) => {\r\n      dispatch(startDesasociarClienteSinEvento(cid,uid));\r\n      setTimeout(()=>{\r\n        history.push(`/listafree/${idEvento}`);\r\n      },500);\r\n  };\r\n    const handleGoEditar = (uid) => {\r\n      dispatch(startSetActive(uid));\r\n      setTimeout(()=>{\r\n        history.push(`/editarcliente/${uid}`);\r\n      },500);\r\n    };\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-bordered table-striped\":\"table table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n      <th className=\"text-center align-middle\" scope=\"col\">CODIGO</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Estado</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Evento</th>\r\n        <th className=\"text-center align-middle\" scope=\"col\">Usuario</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <tr key={item.uid}>\r\n            <td className=\"text-center\">{ item.uid }</td>\r\n            <td className=\"text-center\">{ item.dni }</td>\r\n            <td className=\"text-center\">{ item.nombre }</td>\r\n            <td className=\"text-center\">{ item.apellido }</td>\r\n            <td className=\"text-center\">{ item.celular }</td>\r\n            <td className=\"text-center\">{ item.ticket ? <i className=\"fas fa-check text-success\"></i> : <i className=\"fas fa-close text-danger\"></i> }</td>\r\n            <td className=\"text-center\">\r\n            {item.entradas.map(entrada => {\r\n                return <pre key={entrada.evento}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre>\r\n            })}\r\n            </td>\r\n            <td className=\"text-center\">\r\n            {item.usuarios.map(usuario => {\r\n              return  <pre key={usuario.usuario}>{usuario.nombre} - {usuario.apellido} </pre>\r\n            })}\r\n            </td>\r\n            {/* <td className=\"text-center\">{ item.usuario.nombre+\" \"+item.usuario.apellido }</td> */}\r\n          </tr>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { useDispatch } from 'react-redux';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useLocation } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { ClienteTicketItems } from './ClienteTicketItems';\r\n\r\nexport const ClienteTicketsGenerados = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientesPerPage, setClientesPerPage] = useState(10);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getTicketsFreeByEvento= async() =>{\r\n      const resp = await fetchConToken(`clientes/getfreetickets/${idEvento}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n    }\r\n    getTicketsFreeByEvento();\r\n  }, [idEvento])\r\n  const handleVolver = (e) => {\r\n    history.goBack();\r\n  };\r\n  return ( \r\n    <div className=\"container\">\r\n      {isMobile\r\n      ?\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <Link className='ms-1 d-flex justify-content-end text-decoration-none' to={`/generartickets/${idEvento}`}>\r\n          <button className=\"btn btn-success\" title=\"Generar ticket FREE\">\r\n            <i className=\"fas fa-user-plus\"></i> Generar ticket FREE\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      :\r\n      <div className=\"d-flex flex-row justify-content-center  align-items-center mb-2\">\r\n        <Link className='ms-1 d-flex justify-content-end text-decoration-none' to={`/generartickets/${idEvento}`}>\r\n          <button className=\"btn btn-success\" title=\"Generar ticket FREE\">\r\n            <i className=\"fas fa-user-plus\"></i> Generar ticket FREE\r\n          </button>\r\n        </Link>\r\n      </div>\r\n      }\r\n      \r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h4>Cantidad de Clientes FREE</h4>\r\n        <h3 className='border p-2 mb-3 '>{clientes.length}</h3>\r\n        <ClienteTicketItems clientes={currentClientes} loading={loading}/>\r\n        <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n            <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Page, Text, View, Document,StyleSheet} from '@react-pdf/renderer';\r\n\r\nconst styles = StyleSheet.create({\r\n  table: {\r\n    width: '100%'\r\n  },\r\n  row: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    borderTop: '1px solid #EEE',\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  header: {\r\n    borderTop: 'none',\r\n  },\r\n  bold: {\r\n    fontWeight: 'bold',\r\n  },\r\n})\r\n\r\nexport const ComprobanteDetalleClientesFree = ({datos,clientes}) => {  \r\n    return (\r\n      <Document>\r\n        <Page\r\n          size=\"A4\"\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            justifyContent: \"start\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"white\", \r\n            padding: 25\r\n          }}\r\n        >\r\n          <View\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"start\",\r\n              alignItems: \"center\",\r\n              backgroundColor: \"white\",\r\n              padding: 5,\r\n            }}\r\n          > \r\n            <Text style={{ marginTop:\"35px\",fontSize: \"30px\" }}>Evento</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"30px\",marginBottom:\"10px\" }}>{datos.evento ? datos.evento : \"\"}</Text>\r\n            <Text style={{ fontSize: \"20px\" }}>Fecha</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"5px\" }}>{datos.fecha ? datos.fecha : \"\"}</Text>\r\n            {/* <Text style={{ fontSize: \"20px\" }}>Usuario</Text>\r\n            <Text style={{ color: \"#08298A\",fontSize: \"20px\",marginBottom:\"5px\" }}>{datos.usuario ? datos.usuario : \"\"}</Text> */}\r\n            <View style={styles.table}>\r\n              <View style={[styles.row, styles.bold, styles.header]} fixed>\r\n                <Text style={{width: '50%'}}>CODIGOS</Text>\r\n              </View>\r\n              {clientes.map(cliente => (\r\n                <View key={cliente.uid} style={styles.row} wrap={false}>\r\n                  <Text style={{width: '50%'}} >{cliente.uid}</Text>\r\n                </View>\r\n              ))}\r\n            </View>\r\n          </View>\r\n        </Page>\r\n      </Document>\r\n    );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { asociarCliente } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport moment from \"moment\";\r\nimport { useEffect } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport Select from 'react-select';\r\nimport { ClienteTicketItems } from './ClienteTicketItems';\r\nimport { PDFDownloadLink } from '@react-pdf/renderer';\r\nimport { ComprobanteDetalleClientesFree } from '../ui/ComprobanteDetalleClientesFree';\r\n\r\nconst now = moment();\r\n\r\nexport const GenerarTicketFree = () => {\r\n  const location = useLocation();\r\n  const idEvento = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [eventoActual, setEventoActual] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [planilla, setPlanilla] = useState(false);\r\n  const [clientesPerPage, setClientesPerPage] = useState(10);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  const [usuarios, setUsuarios] = useState([])\r\n  useEffect(() => {\r\n    const getRRPPs= async() =>{\r\n      const resp = await fetchConToken(`auth/rppstickets`);\r\n      const body = await resp.json();\r\n      setUsuarios(body.rpps);\r\n    }\r\n    getRRPPs();\r\n    const getEvento= async() =>{\r\n      const resp = await fetchConToken(`eventos/detalle/${idEvento}`);\r\n      const body = await resp.json();\r\n      setEventoActual(body.evento);\r\n    }\r\n    getEvento();\r\n  }, [idEvento])\r\n  \r\n  let usuarioss = [];\r\n  for (let i = 0; i < usuarios.length; i++) {\r\n    const usuario = {\r\n      value:usuarios[i].uid,\r\n      label:usuarios[i].nombre+\" \"+usuarios[i].apellido+\"-\"+usuarios[i].rol,\r\n    }\r\n    usuarioss.push(usuario);\r\n  }\r\n  const [usuario, setUsuario] = useState(\"\");\r\n  const [formClienteValues, handleClienteInputChange] = useForm({\r\n      cCantidad:\"\"\r\n  });\r\n  const { cCantidad} = formClienteValues;\r\n  const tipo = { value: 0, label: `Free`};\r\n  const evento = { value: idEvento, label: \"Oporto\"};\r\n  const handleGenerar = (e) => {\r\n      e.preventDefault();\r\n      if (cCantidad === \"\") {\r\n        return Swal.fire(\r\n          \"Error\",\r\n          \"Debes de rellenar todos los campos\",\r\n          \"error\"\r\n        );\r\n      }\r\n      const startGenerarTicketFree = async(cantidad,fecha,estado,usuario,eventoo,tipoo) => {\r\n          let tipo = tipoo.label;\r\n          let evento = eventoo.label;\r\n          let eventoid = eventoo.value;\r\n          const free = true;\r\n          const resp = await fetchConToken(\r\n            \"clientes/freeticket\",\r\n            { cantidad,fecha,estado,usuario,evento,tipo,free,eventoid },\r\n            \"POST\"\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            setClientes(body.tickets);\r\n            // console.log(body.tickets)\r\n            evento = eventoo;\r\n            tipo = tipoo;\r\n            for (let i = 0; i < body.tickets.length; i++) {\r\n              dispatch(asociarCliente(body.tickets[i].uid, evento, tipo,usuario));\r\n            }\r\n            Swal.fire(\"Exito\", `Se generaron ${cantidad} tickets exitosamente`, \"success\");\r\n            setPlanilla(true);\r\n          } else {\r\n            Swal.fire(\"Error\", body.msg, \"error\");\r\n          }\r\n      };\r\n      startGenerarTicketFree(cCantidad, now.toDate(), true, usuario.value,evento,tipo);\r\n  };\r\n  const handleVolver = (e) => {\r\n    history.goBack();\r\n  };\r\n  const handleUsuario = (e) => {\r\n    setUsuario(e);\r\n  };\r\n  const [symbolsArr] = useState([\"e\", \"E\", \"+\", \"-\", \".\",\",\"]);\r\n  return ( \r\n    <>\r\n  <div className=\"col-md-6 login-form-2 mb-4\">\r\n  <h3>Generar tickets</h3>\r\n  <hr style={{color:\"white\"}}/>\r\n  <form onSubmit={handleGenerar}>\r\n    <div className=\"form-group mb-4\">\r\n      <input\r\n        type=\"number\"\r\n        title=\"Ingrese cantidad de tickets a generar\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"Ingrese cantidad de tickets a generar\"\r\n        name=\"cCantidad\"\r\n        value={cCantidad}\r\n        autoComplete=\"off\"\r\n        onChange={(e)=>handleClienteInputChange(e)}\r\n        onKeyDown={e => symbolsArr.includes(e.key) && e.preventDefault()}\r\n      />\r\n    </div>\r\n    <div className=\"form-group mb-4\">\r\n    <label className='form-label' style={{color:\"white\"}}><b>Elegir usuario</b></label>\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={usuarioss} value={usuario} onChange={handleUsuario}/>\r\n        </div>\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Generar tickets\" />\r\n    </div>\r\n  </form>\r\n  \r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n</div>\r\n<div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h4>Cantidad de Tickets generados</h4>\r\n        <h3 className='border p-2 mb-3 '>{clientes.length}</h3>\r\n        { planilla &&<PDFDownloadLink\r\n                    document={ <ComprobanteDetalleClientesFree clientes={clientes} datos={{ evento:eventoActual.nombre, fecha:moment(eventoActual.fecha).format('DD-MM-yyyy'), usuario:usuario.value}}/>}\r\n                    fileName={`codigos-${usuario.label}.pdf`}\r\n                    className=\"text-decoration-none\"\r\n                >\r\n                    <div className=\"form-group d-flex justify-content-center\">\r\n                        <button className=\"btn btn-primary mt-2 mb-2\" type=\"submit\"><i className=\"fas fa-print\"></i> Imprimir codigos generados</button>\r\n                    </div>\r\n                </PDFDownloadLink>}\r\n        <ClienteTicketItems clientes={currentClientes} loading={loading}/>\r\n        <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n            <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n        </div>\r\n      </div>\r\n</>\r\n)\r\n};\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { startDesasociarCliente, startEliminar, startSetActive } from '../../actions/clientes';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const ClientesAllItems = ({clientes,loading}) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n    if(loading){\r\n        return <h2>Cargando...</h2>\r\n    }\r\n    const handleGoEliminar = (cid) => {\r\n      dispatch(startEliminar(cid));\r\n      setTimeout(()=>{\r\n        history.push(`/controlclientes`);\r\n      },500);\r\n  };\r\n    const handleGoEditar = (uid) => {\r\n      dispatch(startSetActive(uid));\r\n      setTimeout(()=>{\r\n        history.push(`/editarclienteadmin/${uid}`);\r\n      },500);\r\n    };\r\n    const handleGoEliminarEvento = (uid,eid) => {\r\n      dispatch(startDesasociarCliente(uid,eid));\r\n      history.push('/controlclientes');\r\n    };\r\n  return (\r\n    <>\r\n      {clientes && <table className={isMobile ? \"d-block overflow-scroll table table-sm table-bordered table-striped\":\"table table-sm table-bordered table-striped\"}>\r\n    <thead className=\"bg-dark text-light\">\r\n      <tr>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">DNI</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Fecha de carga</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Nombre</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Apellido</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Celular</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Estado</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Ticket</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Free</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Eventos</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Usuario</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Editar</th>\r\n        <th className=\"text-center align-middle small\" scope=\"col\">Eliminar</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n    {clientes.map(item => {\r\n        return (\r\n          <>\r\n          <tr key={item.uid}  data-bs-toggle=\"collapse\" href={'#'+item.apellido+item.nombre} role=\"button\" aria-expanded=\"false\" aria-controls={item.uid}>\r\n            <td className=\"text-center small\">{ item.dni }</td>\r\n            <td className=\"text-center small\">{ moment(item.fecha).format('DD-MM-YYYY') }</td>\r\n            <td className=\"text-center small\">{ item.nombre }</td>\r\n            <td className=\"text-center small\">{ item.apellido }</td>\r\n            <td className=\"text-center small\">{ item.celular }</td>\r\n            <td className=\"text-center small\">{ item.estado?<i style={{\"color\":\"green\"}} className=\"fas fa-check\"></i>: <i style={{\"color\":\"red\"}} className=\"fas fa-close\"></i>}</td>\r\n            <td className=\"text-center small\">{ item.esticket?<i style={{\"color\":\"green\"}} className=\"fas fa-check\"></i>: <i style={{\"color\":\"red\"}} className=\"fas fa-close\"></i>}</td>\r\n            <td className=\"text-center small\">{ item.free?<i style={{\"color\":\"green\"}} className=\"fas fa-check\"></i>: <i style={{\"color\":\"red\"}} className=\"fas fa-close\"></i>}</td>\r\n            <td className=\"text-center small\">\r\n            {item.entradas.map(entrada => {\r\n                return entrada? <pre key={item.uid}>{entrada.nombre} - ${entrada.importe} - {entrada.tipo}</pre> : <pre key={item.uid}>-</pre>\r\n            })}\r\n            </td>\r\n            <td className=\"text-center small\">{ item.usuario?item.usuario.nombre+\" \"+item.usuario.apellido:\"-\" }</td>\r\n            <td className=\"text-center small\"><button className='btn btn-warning' onClick={()=>handleGoEditar(item.uid)}>Editar</button></td>\r\n            <td className=\"text-center small\"><button className='btn btn-danger' onClick={()=>handleGoEliminar(item.uid)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n          </tr>\r\n          <tr >\r\n        <td colSpan=\"12\" className=\"p-0\">\r\n          <div className=\"collapse\" id={item.apellido+item.nombre}> \r\n            <table className=\"table table-bordered table-striped\">\r\n                <thead className=\"bg-dark text-light\">\r\n                  <tr>\r\n                    <th className=\"text-center small\">Evento</th>\r\n                    <th className=\"text-center small\">Entrada</th>\r\n                    <th className=\"text-center small\">PDF URL</th>\r\n                    <th className=\"text-center small\">Usuario</th>\r\n                    <th className=\"text-center small\">Desasociar</th>\t\t\r\n                  </tr>\r\n                </thead>\t\r\n                <tbody>\r\n                  {item.entradas.length>0&&item.entradas.map(entrada => {\r\n                    return(  \r\n                    <tr key={entrada._id}>\r\n                        <td className=\"text-center small\">{ entrada.nombre }</td>\r\n                        <td className=\"text-center small\">{ \"$ \"+entrada.importe+\" - \"+entrada.tipo }</td>\r\n                        <td className=\"text-center small\">{ entrada.ultComp}</td>\r\n                        {item.usuarios.map(usuario => {\r\n                          return entrada.usuario===usuario.usuario? <pre key={usuario.usuario}>{usuario.nombre} {usuario.apellido}</pre> : <pre key={usuario.usuario}>-</pre>\r\n                        })}\r\n                        <td className=\"text-center small\"><button className='btn btn-danger btn-sm' onClick={()=>handleGoEliminarEvento(item.uid,entrada.evento)}><i className=\"fas fa-trash-alt\"></i></button></td>\r\n                    </tr>\r\n                    \r\n                    );\r\n                  })}\r\n                </tbody>\r\n            </table>\r\n          </div> \r\n        </td>\r\n      </tr>\r\n          </>\r\n        );\r\n      })}\r\n    </tbody>\r\n  </table>}\r\n  </> );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport { ClienteItems } from './ClienteItems';\r\nimport { Pagination } from '../ui/Pagination';\r\nimport { useSelector } from 'react-redux';\r\nimport {isMobile} from 'react-device-detect';\r\nimport { ClientesAllItems } from './ClientesAllItems';\r\n\r\nexport const ClienteAllScreen = () => {\r\n\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [clientes, setClientes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [clientesPerPage, setClientesPerPage] = useState(10);\r\n  const indexOfLastCliente = currentPage * clientesPerPage;\r\n  const indexOfFirstCliente = indexOfLastCliente - clientesPerPage;\r\n  const currentClientes = clientes.slice(indexOfFirstCliente,indexOfLastCliente);\r\n  //FETCHING\r\n  useEffect(() => {\r\n    const getClientesAll = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/all`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n      setLoading(false);\r\n    }\r\n    getClientesAll();\r\n  }, []);\r\n\r\n  const [values, setValues] = useState({cSearch:\"\"});\r\n  const handleSearchInputChange = ({ target }) => {\r\n    const getClientesAll = async() =>{\r\n      setLoading(true);\r\n      const resp = await fetchConToken(`clientes/all`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientes);\r\n      setLoading(false);\r\n    }\r\n    if(target.value===\"\"){\r\n      getClientesAll();\r\n    }\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n  const { cSearch } = values;\r\n  const handleBuscar = (e) => {\r\n    e.preventDefault();\r\n    const searchCliente = async() =>{\r\n      const resp = await fetchConToken(`clientes/searchtadmin/${cSearch}`);\r\n      const body = await resp.json();\r\n      setClientes(body.clientess);\r\n    }\r\n    searchCliente();\r\n  };\r\n\r\n  return ( \r\n    <div className=\"container\">\r\n      {isMobile\r\n      ?\r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n          <input className='form-control me-2 text-center' title='Busqueda por apellido' placeholder='Ingrese el apellido o el DNI de cliente' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n          <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n        </form>\r\n      </div>\r\n      :\r\n      <div className=\"d-flex flex-column justify-content-between align-items-center\">\r\n        <div className='form-group d-flex flex-row justify-content-center align-items-center mb-2 w-100'>\r\n          <form className='form-group d-flex justify-content-center align-items-center mb-2 w-100' onSubmit={handleBuscar}>\r\n            <input className='form-control me-2 text-center' title='Busqueda de cliente por apellido' placeholder='Ingrese el apellido o el DNI de cliente' type=\"text\" name=\"cSearch\" value={cSearch} onChange={handleSearchInputChange}/>\r\n            <button type=\"submit\" className='btn btn-primary'><i className=\"fas fa-search\"></i></button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      }\r\n      \r\n      <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n        <h4>Cantidad de Clientes</h4>\r\n        <h3 className='border p-2 mb-3 '>{clientes.length}</h3>\r\n        <ClientesAllItems clientes={currentClientes} loading={loading}/>\r\n        <Pagination dataPerPage={clientesPerPage} totalData={clientes.length} data={clientes} setCurrentPage={setCurrentPage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { startUpdateClienteAdmin } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const ClienteAdminEditar = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const { clienteAsoc } = useSelector((state) => state.clientes);\r\n    const [formClienteValues, handleClienteInputChange] = useForm({\r\n        cNombre: clienteAsoc ? clienteAsoc.nombre:\"\",\r\n        cApellido: clienteAsoc ? clienteAsoc.apellido:\"\",\r\n        cCelular:clienteAsoc ? clienteAsoc.celular:\"\",\r\n    });\r\n    const { cNombre, cApellido, cCelular } = formClienteValues;\r\n    const handleUpdateCliente = (e) => {\r\n        e.preventDefault();\r\n        dispatch(startUpdateClienteAdmin(clienteAsoc.dni,cNombre,cApellido, cCelular));\r\n            setTimeout(()=>{\r\n                history.goBack();\r\n            },500);\r\n    };\r\n    const handleVolver = (e) => {\r\n        history.push('/controlclientes');\r\n    };\r\n  return (\r\n  <div>\r\n    \r\n    <div className='container'>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n            <label className='form-label h3'><b>DNI</b></label>\r\n            {clienteAsoc && <h3 className='text-dark'>{clienteAsoc.dni}</h3>}\r\n        </div>\r\n        <form onSubmit={handleUpdateCliente}>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Nombre</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cNombre\" type=\"text\" value={cNombre} onChange={handleClienteInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-1'>\r\n        <label className='form-label h5'><b>Apellido</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cApellido\" type=\"text\" value={cApellido} onChange={handleClienteInputChange}/></div>\r\n        </div>\r\n        <div className='form-group d-flex justify-content-center align-items-center flex-column mb-3'>\r\n        <label className='form-label h5'><b>Celular</b></label>\r\n            <div><input className='border rounded-pill text-center form-control' name=\"cCelular\" type=\"text\" value={cCelular} onChange={handleClienteInputChange}/></div>\r\n        </div>\r\n        <div className=\"form-group d-flex justify-content-center mb-2\">\r\n            <button type=\"submit\" className=\"btn btn-success\" ><i className=\"fas fa-check\"></i> Actualizar</button>\r\n        </div>\r\n        </form>\r\n        <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btn btn-primary mb-5\" onClick={handleVolver}><i className=\"fas fa-caret-square-left\"></i> Volver</button>\r\n  </div>\r\n    </div>\r\n  </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { asociarCliente, borrarBody } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport moment from \"moment\";\r\nimport Select from 'react-select';\r\nimport { useEffect } from 'react';\r\nimport { getPrecios, setEventos, setEventosByRpp } from '../../actions/eventos';\r\nimport { QRGenerator } from '../ui/QRGenerator';\r\nimport { fetchConToken } from '../../helpers/fetch';\r\nimport Swal from 'sweetalert2';\r\nimport { useFormAuto } from '../../hooks/useFormAuto';\r\n\r\nconst now = moment();\r\n\r\nexport const AddClienteEspecial = () => {\r\n  const [disableInput, setDisableInput] = useState(false);\r\n  const [actualizar, setActualizar] = useState(false);\r\n  const qrCodeCanvas = document.querySelector('canvas');\r\n  const dataUrl = qrCodeCanvas&&qrCodeCanvas.toDataURL('image/jpg', 0.3);\r\n  const { uid } = useSelector((state) => state.auth);\r\n  const { body } = useSelector((state) => state.clientes);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [formClienteValues, handleClienteInputChange,reset,handleInput] = useForm({\r\n      cNombre:\"\",\r\n      cApellido:\"\"\r\n  });\r\n  const [formAutoValues, handleAutoInputChange] = useFormAuto({\r\n    cDni:\"\",\r\n  });\r\n  const [formCelularValues, handleCelularInputChange,reset1,handleInput1,handleInput2] = useForm({\r\n    cCelular: \"\",\r\n  });\r\n  const {cCelular} = formCelularValues;\r\n  const { cNombre, cApellido } = formClienteValues;\r\n  const { cDni } = formAutoValues;\r\n  const { eventos, precios } = useSelector((state) => state.eventos);\r\n  let eventoss = [];\r\n  for (let i = 0; i < eventos.length; i++) {\r\n    const evento = {\r\n      value:eventos[i].id,\r\n      label:eventos[i].nombre +\" - \"+moment(eventos[i].fecha).format('DD/MM/YYYY'),\r\n    }\r\n    eventoss.push(evento);\r\n  }\r\n\r\n  let tipos = [];\r\n  if(precios){\r\n    tipos = [\r\n      { value: 0, label: `Invitado Especial`},\r\n    ];\r\n  }\r\n  let tipos2 = tipos.filter(value=>{\r\n      // if(value.value!==0){\r\n        return value;\r\n      // }\r\n  });\r\n  const [evento, setEvento] = useState(\"\");\r\n  const [tipo, setTipo] = useState(\"\");\r\n  useEffect(() => {\r\n    dispatch(setEventosByRpp(uid));\r\n    if(body){\r\n      if(body.status===\"error\"){\r\n        reset();\r\n        reset1();\r\n        dispatch(borrarBody());\r\n        setDisableInput(false);\r\n      }else{\r\n        const nombre = document.getElementById('cNombre');\r\n        const apellido = document.getElementById('cApellido');\r\n        const celular = document.getElementById('cCelular');\r\n        handleInput(apellido,body.cliente.apellido,nombre,body.cliente.nombre,celular,body.cliente.celular);\r\n        handleInput2(celular,body.cliente.celular);\r\n        setDisableInput(true);\r\n        setActualizar(true);\r\n        dispatch(borrarBody());\r\n      }\r\n    }\r\n  }, [uid,dispatch,body,handleInput,handleInput2,reset,reset1]);\r\n  const handleCargar = (e) => {\r\n      e.preventDefault();\r\n      if (cCelular === \"\" || cDni === \"\" || cApellido === \"\" || cNombre === \"\" || evento ===\"\" || tipo === \"\") {\r\n        return Swal.fire(\r\n          \"Error\",\r\n          \"Debes de rellenar todos los campos\",\r\n          \"error\"\r\n        );\r\n      }\r\n      // if (cDni.length!==8) {\r\n      //   return Swal.fire(\r\n      //     \"Error\",\r\n      //     \"El DNI debe tener 8 digitos para ser vlido\",\r\n      //     \"error\"\r\n      //   );\r\n      // }\r\n      if(actualizar){\r\n        const startActualizar = async(dni,celular,fecha,usuario,eventoo,tipoo,dataUrl)=>{\r\n          const evento = eventoo.label;\r\n          const eventoid = eventoo.value;\r\n          const tipo = tipoo.label; \r\n          const free = true;\r\n          const ticket = false;\r\n          const resp = await fetchConToken(\r\n            \"clientes/update\",\r\n            { dni,celular,fecha,usuario,dataUrl,evento,tipo,free,eventoid,ticket },\r\n            \"POST\"\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n            Swal.fire(\"Exito\", \"Cliente actualizado con xito\", \"success\");\r\n            const fileUploaddd = async(dni,evento)=>{\r\n              const resp = await fetchConToken(\r\n                \"clientes/fileupload\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                  if(result.isConfirmed){\r\n                    window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                    // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                    setTimeout(()=>{window.location.reload(false);},1000);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploaddd(cDni.trim(),eventoo.value)},1000);\r\n          } else {\r\n            if(body.oki){\r\n              dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo, usuario,celular));\r\n              Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n              const fileUploadd = async(dni,evento)=>{\r\n                const resp = await fetchConToken(\r\n                  \"clientes/fileupload\",\r\n                  { dni,evento },\r\n                  \"POST\"\r\n                );\r\n                const body = await resp.json();\r\n                if(body.ok){\r\n                  Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                      window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                      // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                      setTimeout(()=>{window.location.reload(false);},1000);\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n            }else{\r\n              Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n          }        \r\n        }\r\n        startActualizar(cDni.trim(), cCelular, now.toDate(), uid,evento,tipo,dataUrl);\r\n        setDisableInput(false);\r\n        setActualizar(false);\r\n      }else{\r\n        const startCargar = async(dni,nombree,apellidoo,celular,fecha,estado,usuario,eventoo,tipoo,dataUrl)=>{\r\n          let tipo = tipoo.label;\r\n          let evento = eventoo.label;\r\n          const eventoid = eventoo.value;\r\n          const free = true;\r\n          const ticket = false;\r\n          const nombre = nombree.toUpperCase();\r\n          const apellido = apellidoo.toUpperCase();\r\n          const resp = await fetchConToken(\r\n            \"clientes\",\r\n            { dni,nombre,apellido,celular,fecha,estado,usuario,dataUrl,evento,tipo,free,eventoid,ticket },\r\n            \"POST\"\r\n          );\r\n          const body = await resp.json();\r\n          if (body.ok) {\r\n            dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo,usuario,celular));\r\n            Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n            const fileUploadd = async(dni,evento)=>{\r\n              const resp = await fetchConToken(\r\n                \"clientes/fileupload\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                // Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",showConfirmButton:false});\r\n                // setTimeout(()=>{window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)},1500);\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                  if(result.isConfirmed){\r\n                    window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                    // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                    setTimeout(()=>{window.location.reload(false);},1000);\r\n                  }\r\n                });\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n          } else {\r\n            if(body.oki){\r\n              dispatch(asociarCliente(body.cliente.uid, eventoo, tipoo,usuario,celular));\r\n              Swal.fire(\"Exito\", \"Cliente asociado con xito\", \"success\");\r\n              const fileUploadd = async(dni,evento)=>{\r\n                const resp = await fetchConToken(\r\n                  \"clientes/fileupload\",\r\n                  { dni,evento },\r\n                  \"POST\"\r\n                );\r\n                const body = await resp.json();\r\n                if(body.ok){\r\n                  Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",confirmButtonText: 'OK. Abrir WSP WEB'}).then((result)=>{\r\n                    if(result.isConfirmed){\r\n                      window.open(`https://wa.me/549${cCelular}?text=Hola! aqui te dejo el link con el pdf para el ingreso al evento. Muchas gracias! https://event-a.herokuapp.com/descargapdf/${eventoid}/${body.id}`);\r\n                      // window.open(`https://wa.me/549${cCelular}?text=${body.pdfurl}`)\r\n                      setTimeout(()=>{window.location.reload(false);},1000);\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n              setTimeout(()=>{fileUploadd(cDni.trim(),eventoo.value)},1000);\r\n            }else{\r\n            Swal.fire(\"Error\", body.msg, \"error\");\r\n            }\r\n          }\r\n        }\r\n        startCargar(cDni.trim(), cNombre.trim(), cApellido.trim(), cCelular, now.toDate(), true, uid,evento,tipo,dataUrl);\r\n        setDisableInput(false);\r\n        setActualizar(false);\r\n      }\r\n  };\r\n  const handleVolver = (e) => {\r\n    history.push('/');\r\n  };\r\n  const handleEvento = (e) => {\r\n    setEvento(e);\r\n    dispatch(getPrecios(e.value));\r\n  };\r\n  const handleTipo = (e) => {\r\n    setTipo(e);\r\n  };\r\n  //BLOQUEA LOS SIMBOLOS EN EL DNI\r\n  const [symbolsArr] = useState([\"e\", \"E\", \"+\", \"-\", \".\",\",\"]);\r\n  return ( \r\n  <div className=\"col-md-6 login-form-2 mb-4\">\r\n  <h3>Cargar cliente</h3>\r\n  <hr style={{color:\"white\"}}/>\r\n  <form onSubmit={handleCargar}>\r\n    <div className=\"form-group mb-3\">\r\n    <label style={{\"color\":\"white\"}}>Ingresar DNI sin puntos ni espacios</label>\r\n      <input\r\n        type=\"number\"\r\n        maxLength={8}\r\n        minLength={7}\r\n        title=\"Debe poner 7 digitos como minimo o 8 digitos como maximo\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"DNI\"\r\n        name=\"cDni\"\r\n        value={cDni}\r\n        autoComplete=\"off\"\r\n        onChange={(e)=>handleAutoInputChange(e)}\r\n        onKeyDown={e => symbolsArr.includes(e.key) && e.preventDefault()}\r\n      />\r\n      \r\n    </div>\r\n    <div className=\"form-group\">\r\n    <div className='text-center'>\r\n    <label style={{\"color\":\"white\"}}>Cod.rea+N Celular</label>\r\n    <br/>\r\n      <label style={{\"color\":\"white\"}}>Ejemplo: 3482012345</label>\r\n      </div>\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder=\"Celular\"\r\n        name=\"cCelular\"\r\n        id=\"cCelular\"\r\n        value={cCelular}\r\n        onChange={handleCelularInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder=\"Nombre\"\r\n        name=\"cNombre\"\r\n        id=\"cNombre\"\r\n        value={cNombre}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder=\"Apellido\"\r\n        name=\"cApellido\"\r\n        id=\"cApellido\"\r\n        value={cApellido}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n        <h3>Elegir evento</h3>\r\n        <hr style={{color:\"white\"}}/>\r\n        <div className='text-center'>\r\n        <label className='form-label' style={{color:\"white\"}}><b>Evento</b></label>\r\n        <div className=\"form-control mb-2\">\r\n           <Select options={eventoss} value={evento} onChange={handleEvento}/>\r\n        </div>\r\n        <label className='form-label' style={{color:\"white\"}}><b>Entrada</b></label>\r\n        {precios&&<div className=\"form-control mb-5\">\r\n           <Select options={tipos2} value={tipo} onChange={handleTipo}/>\r\n        </div>}\r\n        </div>\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar cliente\" />\r\n    </div>\r\n  </form>\r\n  <div className=\"form-group d-flex justify-content-center\">\r\n    <button className=\"btnSubmit mt-2\" onClick={handleVolver}>Volver</button>\r\n  </div>\r\n  <QRGenerator uid={uid} dni={cDni} celular={cCelular}/>\r\n</div>);\r\n \r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Switch, Route,Redirect } from \"react-router-dom\";\r\nimport { HomeScreen } from \"../components/eventos/HomeScreen\";\r\nimport { AddCliente } from \"../components/clientes/AddCliente\";\r\nimport { AddEvento } from \"../components/eventos/AddEvento\";\r\nimport { AddRpp } from \"../components/rpps/AddRpp\";\r\nimport { Navbar } from \"../components/ui/Navbar\";\r\nimport { NotFoundScreen } from \"../components/ui/NotFoundScreen\";\r\nimport { VerificarClientes } from \"../components/clientes/VerificarClientes\";\r\nimport { EventoElegir } from \"../components/eventos/EventoElegir\";\r\nimport { EventoScreen } from \"../components/eventos/EventoScreen\";\r\nimport { RppScreen } from \"../components/rpps/RppScreen\";\r\nimport { EventoDetalle } from \"../components/eventos/EventoDetalle\";\r\nimport { EventoEditar } from \"../components/eventos/EventoEditar\";\r\nimport { AddClientePuerta } from \"../components/clientes/AddClientePuerta\";\r\nimport { ClienteEditar } from \"../components/clientes/ClienteEditar\";\r\nimport { RrppEditar } from \"../components/rpps/RrppEditar\";\r\nimport { ClienteListaFreeScreen } from \"../components/clientes/ClienteListaFreeScreen\";\r\nimport { ClienteTicketsGenerados } from \"../components/clientes/ClienteTicketsGenerados\";\r\nimport { GenerarTicketFree } from \"../components/clientes/GenerarTicketFree\";\r\nimport { ClienteAllScreen } from \"../components/clientes/ClienteAllScreen\";\r\nimport { ClienteAdminEditar } from \"../components/clientes/ClienteAdminEditar\";\r\nimport { AddClienteEspecial } from \"../components/clientes/AddClienteEspecial\";\r\nexport const DashboardRoutes = () => {\r\n  const { rol } = useSelector((state) => state.auth);\r\n  const [isAdmin, setisAdmin] = useState(false);\r\n  const [isRRPP, setisRRPP] = useState(false);\r\n  useEffect(() => {\r\n    if(rol === 'ADMIN'){\r\n      setisAdmin(true);\r\n    }\r\n    if(rol === 'RRPP'){\r\n      setisRRPP(true);\r\n    }\r\n  }, [setisAdmin,setisRRPP,rol]);\r\n  \r\n  return (\r\n    <>\r\n      <Navbar/>\r\n      <div>\r\n        <div className=\"d-flex justify-content-center align-items-center flex-column\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomeScreen} />\r\n          {isAdmin ? <Route path={`/addrpp`} component={AddRpp}/> : <Route path={`/addcliente`} component={AddCliente} />}\r\n          {isAdmin && <Route path={`/addevento`} component={AddEvento}/>}\r\n          {isAdmin && <Route exact path={`/verificar`} component={EventoElegir}/>}\r\n          {isAdmin && <Route exact path={`/controlrpp`} component={RppScreen}/>}\r\n          {isAdmin && <Route exact path={`/controlevento`} component={EventoScreen}/>}\r\n          {isAdmin && <Route exact path={`/verificar/:id`} component={VerificarClientes}/>}\r\n          {isAdmin && <Route path={`/verificar/:id/addcliente`} component={AddClientePuerta}/>}\r\n          {isAdmin && <Route path={`/editar/:idevento`} component={EventoEditar}/>}\r\n          {isAdmin && <Route path={`/editarrrpp/:idrrpp`} component={RrppEditar}/>}\r\n          {isAdmin && <Route path={`/listafree/:idevento`} component={ClienteListaFreeScreen}/>}\r\n          {isAdmin && <Route path={`/controlclientes`} component={ClienteAllScreen}/>}\r\n          {isAdmin && <Route path={`/listaticketsfree/:idevento`} component={ClienteTicketsGenerados}/>}\r\n          {isAdmin && <Route path={`/generartickets/:idevento`} component={GenerarTicketFree}/>}\r\n          {isAdmin && <Route path={`/editarclienteadmin/:idcliente`} component={ClienteAdminEditar}/>}\r\n          <Route path={`/editarcliente/:idcliente`} component={ClienteEditar}/>\r\n          <Route path={`/addclienteespecial`} component={AddClienteEspecial}/>\r\n          {isAdmin && <Route path={`/detalle/:idevento`} component={EventoDetalle}/>}\r\n          <Route path=\"*\" component={NotFoundScreen} />\r\n          <Redirect to=\"/\"/>\r\n        </Switch>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport eventIcon from '../../images/ee.png';\r\nimport \"./login.css\";\r\nimport {isMobile} from 'react-device-detect';\r\nimport { fetchSinToken } from \"../../helpers/fetch\";\r\nimport Swal from \"sweetalert2\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport const ClienteFreeLogin = () => {\r\n  const history = useHistory();\r\n  const [formLoginValues, handleLoginInputChange] = useForm({\r\n    cId: \"\",\r\n  });\r\n  const { cId } = formLoginValues;\r\n\r\n  const handleLogin = (e) => {\r\n    e.preventDefault();\r\n    const loginCliente = async(id) =>{\r\n      const resp = await fetchSinToken(\"clientes/ingresofree\", { id }, \"POST\");\r\n      const body = await resp.json();\r\n      if (body.ok) {\r\n        localStorage.setItem(\"token\", body.token);\r\n        localStorage.setItem(\"token-init-date\", new Date().getTime());\r\n        Swal.fire(\"Exito\", \"Codigo vlido, a continuacion actualice sus datos\", \"success\");\r\n        history.push(`/logincliente/${id}`);\r\n      } else {\r\n        Swal.fire(\"Error\", body.msg, \"error\");\r\n      }\r\n    }\r\n    loginCliente(cId.trim());\r\n  };\r\n  \r\n  return (\r\n    <>\r\n    { isMobile ?\r\n    <div className=\"login-container\">\r\n    <h2 className=\"d-flex align-items-center justify-content-center mt-4\" style={{ color: \"#0062cc\" }}><img src={eventIcon} alt=\"\" /></h2>\r\n    <div className=\"row \">\r\n      <div className=\"col-md-11 col-11 login-form-1 mt-5\">\r\n        <h3>Ingreso FREE</h3>\r\n        <form onSubmit={handleLogin}>\r\n        <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-2\"\r\n                placeholder=\"Codigo\"\r\n                name=\"cId\"\r\n                value={cId}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n          <div className=\"form-group d-flex justify-content-center\">\r\n            <input type=\"submit\" className=\"btnSubmit\" value=\"Ingresar\" />\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  </div> \r\n  : \r\n  <div className=\"login-container\">\r\n      <h2 className=\"d-flex align-items-center justify-content-center mt-4\" style={{ color: \"#0062cc\" }}><img src={eventIcon} alt=\"\" /></h2>\r\n      <div className=\"row mt-4\">\r\n        <div className=\"col-md-6 col-6 me-5 login-form-3\">\r\n        <h3>Ingreso FREE</h3>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"form-group\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control mb-2\"\r\n                placeholder=\"Codigo\"\r\n                name=\"cId\"\r\n                value={cId}\r\n                onChange={handleLoginInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group d-flex justify-content-center\">\r\n              <input type=\"submit\" className=\"btnSubmit\" value=\"Ingresar\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  }\r\n  </>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport QRCode from \"qrcode.react\";\r\nimport { useEffect } from 'react';\r\nimport { fetchConToken, fetchSinToken } from '../../helpers/fetch';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setHasheo } from '../../actions/clientes';\r\n\r\nexport const QRGeneratorSinToken = ({uid,dni,celular}) => {\r\n  const [hashed, setHashed] = useState(\"\");\r\n  // const dispatch = useDispatch();  \r\n  useEffect(() => {\r\n    const hashIt = async()=>{\r\n      const resp = await fetchSinToken(`clientes/sethashsintoken`,{uid,dni,celular},'POST');\r\n      const body = await resp.json();\r\n      setHashed(dni+celular+body.hash);\r\n      // dispatch(setHasheo(dni+body.hash));\r\n    }\r\n    hashIt();\r\n  }, [uid,dni,celular]);\r\n  return (\r\n  <div>\r\n      <QRCode className='d-none' value={`${hashed}`} size={128} level=\"H\" />\r\n  </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { borrarBody } from '../../actions/clientes';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport moment from \"moment\";\r\nimport { useEffect } from 'react';\r\nimport Swal from 'sweetalert2';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { startLogout } from '../../actions/auth';\r\nimport { fetchConToken, fetchSinToken } from '../../helpers/fetch';\r\nimport { QRGeneratorSinToken } from '../ui/QRGeneratorSinToken';\r\nimport { useFormAutoSinToken } from '../../hooks/useFormAutoSinToken';\r\n\r\nconst now = moment();\r\n\r\nexport const ClienteFreeCarga = () => {\r\n  const location = useLocation();\r\n  const idCliente = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const qrCodeCanvas = document.querySelector('canvas');\r\n  const dataUrl = qrCodeCanvas&&qrCodeCanvas.toDataURL('image/jpg', 0.3);\r\n  const [disableInput, setDisableInput] = useState(false);\r\n  const [actualizar, setActualizar] = useState(false);\r\n  const [uid, setUid] = useState(\"\");\r\n  const [evento, setEvento] = useState(\"\");\r\n  const [eventoid, setEventoid] = useState(\"\");\r\n  const [tipo, setTipo] = useState(\"\")\r\n  const { body, cargando } = useSelector((state) => state.clientes);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const [formClienteValues, handleClienteInputChange,reset,handleInput] = useForm({\r\n      cNombre:\"\",\r\n      cApellido:\"\"\r\n  });\r\n  const [formAutoValues, handleAutoInputChange] = useFormAutoSinToken({\r\n    cDni:\"\",\r\n  });\r\n  const [formCelularValues, handleCelularInputChange,reset1,handleInput1,handleInput2] = useForm({\r\n    cCelular: \"\",\r\n  });\r\n  const {cCelular} = formCelularValues;\r\n  const { cNombre, cApellido } = formClienteValues;\r\n  const { cDni } = formAutoValues;\r\n  useEffect(() => {\r\n    if(body){\r\n      if(body.status===\"error\"){\r\n        // reset();\r\n        // reset1();\r\n        dispatch(borrarBody());\r\n        setDisableInput(false);\r\n      }else{\r\n        const nombre = document.getElementById('cNombre');\r\n        const apellido = document.getElementById('cApellido');\r\n        const celular = document.getElementById('cCelular');\r\n        handleInput(apellido,body.cliente.apellido,nombre,body.cliente.nombre,celular,body.cliente.celular);\r\n        handleInput2(celular,body.cliente.celular);\r\n        setDisableInput(true);\r\n        setActualizar(true);\r\n        dispatch(borrarBody());\r\n      }\r\n    }\r\n  }, [dispatch,body,handleInput,handleInput2]);\r\n  useEffect(() => {\r\n    const getCliente = async()=>{\r\n      const resp = await fetchSinToken(`clientes/edit/${idCliente}`);\r\n      const body = await resp.json();\r\n      setUid(body.cliente.uid);\r\n      setEvento(body.cliente.evento);\r\n      setTipo(body.cliente.tipo);\r\n      setEventoid(body.cliente.entradas[body.cliente.entradas.length-1].evento);\r\n    }\r\n    getCliente();\r\n  }, [idCliente])\r\n  \r\n  const handleCargar = (e) => {\r\n      e.preventDefault();\r\n      if (cCelular === \"\" || cDni === \"\" || cApellido === \"\" || cNombre === \"\") {\r\n        return Swal.fire(\r\n          \"Error\",\r\n          \"Debes de rellenar todos los campos\",\r\n          \"error\"\r\n        );\r\n      }\r\n      if(actualizar){\r\n        const autoActualizarFree = async(id,dni,celular,fecha,dataUrl)=>{\r\n          const respo = await fetchConToken(\r\n            \"clientes/autoupdatefree\",\r\n            { id,dni,celular,fecha,dataUrl },\r\n            \"PUT\"\r\n          );\r\n          const bodo = await respo.json();\r\n          if (bodo.ok) {\r\n            Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n            const fileUploaddd = async(dni,evento)=>{\r\n              const resp = await fetchSinToken(\r\n                \"clientes/fileuploadsintoken\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",showConfirmButton:false});\r\n                setTimeout(()=>{\r\n                  window.open(`${body.pdfurl}`)\r\n                  dispatch(startLogout());\r\n                  history.push('/logincliente');\r\n                },1500);\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploaddd(cDni,eventoid)},1000);\r\n          }else{\r\n            Swal.fire(\"Error\", bodo.msg, \"error\");\r\n            dispatch(startLogout());\r\n            history.push('/logincliente');\r\n          }\r\n        }\r\n        autoActualizarFree(idCliente,cDni, cCelular, now.toDate(),dataUrl);\r\n      }else{\r\n        const autoCargarFree = async(id,dni,nombree,apellidoo, celular, fecha,dataUrl)=>{\r\n          const nombre = nombree.toUpperCase();\r\n          // console.log(nombre)\r\n          const apellido = apellidoo.toUpperCase();\r\n          // console.log(apellido)\r\n          const respp = await fetchConToken(\r\n            \"clientes/autocargafree\",\r\n            { id,dni,nombre,apellido, celular, fecha,dataUrl },\r\n            \"PUT\"\r\n          );\r\n          const bodo = await respp.json();\r\n          if (bodo.ok) {\r\n            Swal.fire(\"Exito\", \"Cliente nuevo cargado con xito\", \"success\");\r\n            const fileUploaddd = async(dni,evento)=>{\r\n              const resp = await fetchSinToken(\r\n                \"clientes/fileuploadsintoken\",\r\n                { dni,evento },\r\n                \"POST\"\r\n              );\r\n              const body = await resp.json();\r\n              if(body.ok){\r\n                Swal.fire({title:\"Exito\",text:body.msg, icon:\"success\",showConfirmButton:false});\r\n                setTimeout(()=>{\r\n                  window.open(`${body.pdfurl}`)\r\n                  dispatch(startLogout());\r\n                  history.push('/logincliente');\r\n                },1500);\r\n              }\r\n            }\r\n            setTimeout(()=>{fileUploaddd(dni,eventoid)},1000);\r\n          }else{\r\n            Swal.fire(\"Error\", bodo.msg, \"error\");\r\n            dispatch(startLogout());\r\n            history.push('/logincliente');\r\n          }\r\n        }\r\n        autoCargarFree(idCliente,cDni,cNombre,cApellido, cCelular, now.toDate(),dataUrl);\r\n      }\r\n  };\r\n  const [symbolsArr] = useState([\"e\", \"E\", \"+\", \"-\", \".\",\",\"]);\r\n  return ( \r\n    <div className=\"d-flex justify-content-center align-items-center flex-column\">\r\n  <div className=\"col-md-6 login-form-2 mb-4 mt-1\">\r\n  \r\n  {/* <h3 style={{\"text-align\":\"center\",\"color\":\"white\"}}>INGRESO SOLAMENTE PARA MAYORES DE 18 AOS</h3> */}\r\n  <h4 style={{\"text-align\":\"center\",\"color\":\"white\"}}>Ingreso al evento con DNI real en mano</h4>\r\n  <p style={{\"text-align\":\"center\",\"color\":\"white\"}}>Como ultima instancia llevar QR generado de esta carga</p>\r\n  <p style={{\"text-align\":\"center\",\"color\":\"white\"}}>Guardar comprobante QR en el celular</p>\r\n  <hr style={{color:\"white\"}}/>\r\n  <form onSubmit={handleCargar}>\r\n  <p style={{\"text-align\":\"center\",\"color\":\"white\"}}>INGRESE SUS DATOS PARA CARGARSE EN EL SISTEMA</p>\r\n\r\n    <div className=\"form-group mb-5\">\r\n      <input\r\n        type=\"number\"\r\n        maxLength={8}\r\n        minLength={7}\r\n        title=\"Debe poner 7 digitos como minimo o 8 digitos como maximo\"\r\n        className=\"form-control mb-2 border border-primary text-center\"\r\n        placeholder=\"DNI\"\r\n        name=\"cDni\"\r\n        value={cDni}\r\n        autoComplete=\"off\"\r\n        onChange={(e)=>handleAutoInputChange(e)}\r\n        onKeyDown={e => symbolsArr.includes(e.key) && e.preventDefault()}\r\n      />\r\n      \r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"number\"\r\n        className=\"form-control mb-2 text-center\"\r\n        placeholder={cargando?\"Cargando...\":\"Celular\"}\r\n        name=\"cCelular\"\r\n        id=\"cCelular\"\r\n        value={cCelular}\r\n        onChange={handleCelularInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder={cargando?\"Cargando...\":\"Nombre\"}\r\n        name=\"cNombre\"\r\n        id=\"cNombre\"\r\n        value={cNombre}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group\">\r\n      <input\r\n        type=\"text\"\r\n        className={disableInput ? \"form-control mb-2 border border-primary text-center text-muted\" :\"form-control mb-2 border border-primary text-center\"}\r\n        placeholder={cargando?\"Cargando...\":\"Apellido\"}\r\n        name=\"cApellido\"\r\n        id=\"cApellido\"\r\n        value={cApellido}\r\n        disabled = {disableInput}\r\n        onChange={handleClienteInputChange}\r\n      />\r\n    </div>\r\n    <div className=\"form-group d-flex justify-content-center\">\r\n      <input type=\"submit\" className=\"btnSubmit\" value=\"Cargar\" />\r\n    </div>\r\n  </form>\r\n  \r\n</div>\r\n<QRGeneratorSinToken uid={uid} dni={cDni} celular={cCelular}/>\r\n</div>\r\n);\r\n};\r\n","import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Swal from \"sweetalert2\";\r\nimport { pasarBody, setClearLoading, setLoading } from \"../actions/clientes\";\r\nimport { fetchSinToken } from \"../helpers/fetch\";\r\n\r\nexport const useFormAutoSinToken = (initialState = {}) => {\r\n  const [values, setValues] = useState(initialState);\r\n  const dispatch = useDispatch();\r\n  \r\n  const reset = (newFormState=initialState) => {\r\n    setValues(newFormState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    let tienePunto = target.value.includes(\".\") ? true : false;\r\n    let tieneComa = target.value.includes(\",\") ? true : false;\r\n    if(tienePunto||tieneComa){\r\n      return Swal.fire('Error','El DNI ingresado no puede contener caracteres como: . o ,','error');\r\n    }\r\n    if(target.value.length===8){\r\n      const verificar = async() =>{\r\n        dispatch(setLoading());\r\n        const resp = await fetchSinToken(`clientes/verificardbsintoken/${target.value}`);\r\n        const body = await resp.json();\r\n        \r\n        dispatch(setClearLoading());\r\n        dispatch(pasarBody(body));\r\n      }\r\n      verificar();\r\n    }\r\n    setValues({\r\n      ...values,\r\n      [target.name]: target.value\r\n    });\r\n  };\r\n  return [values, handleInputChange,reset];\r\n};\r\n","import React, { useState } from 'react';\r\n// import { useDispatch } from 'react-redux';\r\n// import { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\n// import moment from \"moment\";\r\nimport { useEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport {  fetchSinToken } from '../../helpers/fetch';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport const ClienteDescargaPDF = () => {\r\n  const location = useLocation();\r\n  const id = location.pathname.substring(location.pathname.lastIndexOf('/') + 1);\r\n  const cortado = location.pathname.split('/');\r\n  const idEvento = cortado[2];\r\n  const [cliente, setCliente] = useState(\"\");\r\n  const [url, setURL] = useState(\"\");\r\n  // const history = useHistory();\r\n  // const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    const getCliente = async() =>{\r\n      const resp = await fetchSinToken(`clientes/clientepapdf/${idEvento}/${id}`);\r\n      const body = await resp.json();\r\n      if(body.status===\"error\"){\r\n        Swal.fire('Error',body.message,'error');\r\n      }else{\r\n        setCliente(body.cliente);\r\n        const splitComienzo = body.url.split('/',6);\r\n        const splitEntero = body.url.split('/');\r\n        const urll = splitComienzo[0]+\"/\"+splitComienzo[1]+\"/\"+splitComienzo[2]+\"/\"+splitComienzo[3]+\"/\"+splitComienzo[4]+\"/\"+splitComienzo[5]+\"/fl_attachment/\"+splitEntero[6]+\"/\"+splitEntero[7];\r\n        setURL(urll);\r\n      }\r\n    }\r\n    getCliente();\r\n  }, [id,idEvento])\r\n  \r\n  return ( \r\n  <div className=\"d-flex justify-content-center align-items-center flex-column\">\r\n    <div className=\"col-md-6 login-form-2 mb-4 mt-5\">\r\n      <h4 style={{\"textAlign\":\"center\",\"color\":\"white\"}}>DESCARGAR PDF DEL EVENTO</h4>\r\n      <hr style={{color:\"white\"}}/>\r\n      {cliente&&\r\n      <div className=\"form-group d-flex justify-content-center\">\r\n        <a className='btn btn-lg btn-success' style={{\"textAlign\":\"center\",\"color\":\"white\"}} href={url} target=\"_blank\" download={\"comprobante-\"+cliente.dni} rel=\"noreferrer\">Descargar PDF</a>\r\n      </div>\r\n      }\r\n    </div>\r\n  </div>\r\n);\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startChecking } from \"../actions/auth\";\r\nimport { Loading } from \"./Loading\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { DashboardRoutes } from \"./DashboardRoutes\";\r\nimport { ClienteFreeLogin } from \"../components/auth/ClienteFreeLogin\";\r\nimport { ClienteFreeCarga } from \"../components/clientes/ClienteFreeCarga\";\r\nimport { ClienteDescargaPDF } from \"../components/clientes/ClienteDescargaPDF\";\r\n\r\nexport const AppRouter = () => {\r\n  const dispatch = useDispatch();\r\n  const { checking, uid} = useSelector((state) => state.auth);\r\n  useEffect(() => {\r\n    dispatch(startChecking());\r\n  }, [dispatch]);\r\n  if (checking) {\r\n    return <Loading checking={checking} />;\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <div>\r\n          <Switch>\r\n            <PublicRoute\r\n              exact\r\n              isAuthenticated={!!uid}\r\n              path=\"/login\"\r\n              component={LoginScreen}\r\n            />\r\n            <PublicRoute\r\n              exact\r\n              isAuthenticated={!!uid}\r\n              path=\"/logincliente\"\r\n              component={ClienteFreeLogin}\r\n            />\r\n            <PublicRoute\r\n              exact\r\n              isAuthenticated={!!uid}\r\n              path=\"/logincliente/:id\"\r\n              component={ClienteFreeCarga}\r\n            />\r\n            <PublicRoute\r\n              exact\r\n              isAuthenticated={!!uid}\r\n              path=\"/descargapdf/:idevento/:id\"\r\n              component={ClienteDescargaPDF}\r\n            />\r\n            <PrivateRoute\r\n              //exact\r\n              isAuthenticated={!!uid}\r\n              path=\"/\"\r\n              component={DashboardRoutes}\r\n            />\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  checking: true,\r\n  userAsoc:null,\r\n};\r\n\r\nexport const authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.authLogin:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n        ...action.payload,\r\n      };\r\n      case types.userAsociar:\r\n      return {\r\n        ...state,\r\n        userAsoc: action.payload\r\n      };\r\n      case types.startClearUserAsoc:\r\n      return {\r\n        ...state,\r\n        userAsoc: action.payload\r\n      };\r\n    case types.authCheckingFinish:\r\n      return {\r\n        ...state,\r\n        checking: false,\r\n      };\r\n    case types.authLogout:\r\n      return {\r\n        checking: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  clienteAsoc: null,\r\n  cargando:false,\r\n};\r\n\r\n\r\nexport const clienteReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case types.clienteAsociar:\r\n        return {\r\n          ...state,\r\n          clienteAsoc: action.payload\r\n        };\r\n        case types.startClearClienteAsoc:\r\n        return {\r\n          ...state,\r\n          clienteAsoc: action.payload\r\n        };\r\n      case types.setLoading:\r\n        return {\r\n          ...state,\r\n          cargando: true,\r\n      };\r\n      case types.setClearLoading:\r\n        return {\r\n          ...state,\r\n          cargando: false,\r\n      };\r\n      case types.setClientes:\r\n        return {\r\n          ...state,\r\n          clientes:action.payload\r\n      };\r\n      case types.pasarBody:\r\n        return {\r\n          ...state,\r\n          body:action.payload\r\n      };\r\n      case types.borrarBody:\r\n        return {\r\n          ...state,\r\n          body:null\r\n      };\r\n      default:\r\n        return state;\r\n    }\r\n  };\r\n  ","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  activeEvent: null,\r\n  currentPage:1,\r\n  eventos:[],\r\n  precios:null,\r\n  isFilter:false,\r\n};\r\n\r\nexport const eventoReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.eventSetActive:\r\n      return {\r\n        ...state,\r\n        activeEvent: action.payload,\r\n      };\r\n    case types.eventAddNew:\r\n      return {\r\n        ...state,\r\n        eventos: [...state.events, action.payload],\r\n      };\r\n    case types.eventClearActiveEvent:\r\n      return {\r\n        ...state,\r\n        activeEvent: null,\r\n      };\r\n    case types.eventUpdate:\r\n      return {\r\n        ...state,\r\n        eventos: state.events.map((e) =>\r\n          e.id === action.payload.id ? action.payload : e\r\n        ),\r\n      };\r\n    case types.eventDelete:\r\n      return {\r\n        ...state,\r\n        eventos: state.events.filter((e) => e.id !== state.activeEvent.id),\r\n        activeEvent: null,\r\n      };\r\n    case types.eventosLoaded:\r\n      return {\r\n        ...state,\r\n        eventos: [...action.payload.eventos],\r\n      };\r\n      case types.eventosByRppLoaded:\r\n      return {\r\n        ...state,\r\n        eventos: [...action.payload.eventosRpp],\r\n      };\r\n    case types.setPrice:\r\n      return {\r\n        ...state,\r\n        precios:[action.payload],\r\n      };\r\n    case types.rppLoaded:\r\n      return {\r\n          ...state,\r\n          rpps: [...action.payload.rpps],\r\n          total: action.payload.total\r\n      };\r\n    case types.eventLogout:\r\n      return {\r\n        ...state,\r\n        eventos: [],\r\n      };\r\n    case types.currentPage:\r\n      return {\r\n        ...state,\r\n        currentPage:action.payload\r\n      };\r\n    case types.isFilter:\r\n        return {\r\n          ...state,\r\n          isFilter:true\r\n        };\r\n    case types.ClearisFilter:\r\n        return {\r\n          ...state,\r\n          isFilter:false\r\n        };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  modalOpen: false,\r\n  modalOpenn: false,\r\n  modalOpennn: false,\r\n  modalOpennnn: false,\r\n  modalOpennnnn: false,\r\n  waitQR:false,\r\n  estadoWsp:\"Desconectado\"\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.uiOpenModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: true,\r\n      };\r\n      case types.waitQr:\r\n      return {\r\n        ...state,\r\n        waitQR: true,\r\n      };\r\n      case types.stopWaitQr:\r\n      return {\r\n        ...state,\r\n        waitQR: false,\r\n      };\r\n    case types.uiOpenModall:\r\n      return {\r\n        ...state,\r\n        modalOpenn: true,\r\n      };\r\n      case types.uiOpenModalll:\r\n      return {\r\n        ...state,\r\n        modalOpennn: true,\r\n      };\r\n      case types.uiOpenModallll:\r\n      return {\r\n        ...state,\r\n        modalOpennnn: true,\r\n      };\r\n      case types.uiOpenModalllll:\r\n      return {\r\n        ...state,\r\n        modalOpennnnn: true,\r\n      };\r\n    case types.uiCloseModal:\r\n      return {\r\n        ...state,\r\n        modalOpen: false,\r\n      };\r\n    case types.uiCloseModall:\r\n      return {\r\n        ...state,\r\n        modalOpenn: false,\r\n      };\r\n      case types.uiCloseModalll:\r\n      return {\r\n        ...state,\r\n        modalOpennn: false,\r\n      };\r\n      case types.uiCloseModallll:\r\n      return {\r\n        ...state,\r\n        modalOpennnn: false,\r\n      };\r\n      case types.uiCloseModalllll:\r\n      return {\r\n        ...state,\r\n        modalOpennnnn: false,\r\n      };\r\n      case types.getEstadoWsp:\r\n        return {\r\n          ...state,\r\n          estadoWsp:action.payload,\r\n        }; \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {combineReducers} from 'redux'\r\nimport { authReducer } from './authReducer'\r\nimport { clienteReducer } from './clienteReducer'\r\nimport { eventoReducer } from './eventoReducer'\r\nimport { uiReducer } from './uiReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n    ui:uiReducer,\r\n    auth:authReducer,\r\n    eventos:eventoReducer,\r\n    clientes: clienteReducer,\r\n})","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport { rootReducer } from \"../reducers/rootReducer\";\r\nconst composeEnhancers = (typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { AppRouter } from \"./router/AppRouter\";\r\nimport { store } from \"./store/store\";\r\n\r\nexport const EventApp = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { EventApp } from \"./EventApp\";\nimport \"./styles.css\";\nimport \"./styles/styles.scss\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.min.js';\n// import $ from 'jquery';\n// import Popper from 'popper.js';\n\nReactDOM.render(<EventApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}