(this["webpackJsonpevent-app"]=this["webpackJsonpevent-app"]||[]).push([[0],{336:function(e,t){},338:function(e,t){},372:function(e,t){},373:function(e,t){},453:function(e,t){},54:function(e,t,n){},610:function(e,t,n){},611:function(e,t,n){},612:function(e,t,n){},616:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(44),r=n.n(a),s=n(7),o=n(11),i=n(38),l=n(27),u=n(1),d=["isAuthenticated","component"],j=function(e){var t=e.isAuthenticated,n=e.component,c=Object(i.a)(e,d);return localStorage.setItem("lastPath",c.location.pathname),Object(u.jsx)(l.Route,Object(o.a)(Object(o.a)({},c),{},{component:function(e){return t?Object(u.jsx)(n,Object(o.a)({},e)):Object(u.jsx)(l.Redirect,{to:"/login"})}}))},b=["isAuthenticated","component"],m=function(e){var t=e.isAuthenticated,n=e.component,c=Object(i.a)(e,b);return Object(u.jsx)(l.Route,Object(o.a)(Object(o.a)({},c),{},{component:function(e){return t?Object(u.jsx)(l.Redirect,{to:"/"}):Object(u.jsx)(n,Object(o.a)({},e))}}))},f=n(18),x=n(3),p=n.n(x),h=n(8),O=n(9),v=n.n(O),g="https://event-a.herokuapp.com/api",N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(g,"/").concat(e);return"GET"===n?fetch(c):fetch(c,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(g,"/").concat(e),a=localStorage.getItem("token")||"";return"GET"===n?fetch(c,{method:n,headers:{"x-token":a}}):fetch(c,{method:n,headers:{"Content-type":"application/json","x-token":a},body:JSON.stringify(t)})},w={uiOpenModal:"[UI] Open Modal",uiCloseModal:"[UI] Close Modal",uiOpenModall:"[UI] Open Modall",uiCloseModall:"[UI] Close Modall",uiOpenModalll:"[UI] Open Modal eliminar cliente",uiCloseModalll:"[UI] Close Modal eliminar cliente",uiOpenModallll:"[UI] Open Modal filter cliente screen",uiCloseModallll:"[UI] Close Modal filter cliente screen",uiOpenModalllll:"[UI] Open Modal filter celu",uiCloseModalllll:"[UI] Close Modal filter celu",eventStartAddNew:"[Calendar] Start add new",eventAddNew:"[Calendar] Add new",eventSetActive:"[Calendar] Set active",eventClearActiveEvent:"[Calendar] Clear active event",eventUpdate:"[Calendar] Update event",eventDelete:"[Calendar] Delete event",eventosLoaded:"[Eventos] Eventos cargados",eventosByRppLoaded:"[Eventos] Eventos de RPP cargados",eventLogout:"[Calendar] Events logout",currentPage:"[Page] Current Page",authChecking:"[Auth] Checking login state",authCheckingFinish:"[Auth] Finish checking login state",authStartLogin:"[Auth] Start login",authLogin:"[Auth] Login",authStartRegister:"[Auth] Start register",authStartTokenRenew:"[Auth] Start token renew",authLogout:"[Auth] Logout",userAsociar:"[Usuario] Listo para asociar",startClearUserAsoc:"[Usuario] Limpiando usuario",clienteAsociar:"[Cliente] Listo para asociar",startClearClienteAsoc:"[Cliente] Limpiando cliente",setPrice:"[Evento] Cargando precios de evento",setLoading:"[UI] Recargando",setClearLoading:"[UI] Limpiando recarga",setClientes:"[Clientes] Obteniendo clientes",pasarBody:"[Clientes] Pasando resultado",borrarBody:"[Clientes] Borrando resultado",ClearisFilter:"[Evento] Limpiando filtro por evento",isFilter:"[Evento] Filtrando por evento",waitQr:"[Cliente] Esperando al QR",stopWaitQr:"[Cliente] Parar de esperar al QR"},C=function(e){return{type:w.userAsociar,payload:e}},E=function(){return{type:w.authCheckingFinish}},k=function(e){return{type:w.authLogin,payload:e}},S=function(){return function(e){localStorage.clear(),e(A())}},A=function(){return{type:w.authLogout}},P=function(e){var t=e.checking,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(t){var e=n,c=!1;return function e(t,n){t.current&&t.current.classList.add(n),setTimeout((function(){c||(t.current.classList.remove(n),setTimeout((function(){e(t,n)}),500))}),2e3)}(e,"dots--animate"),function(){null===e.current&&(c=!0)}}}),[t,n]),Object(u.jsx)("div",{className:"body__loading",children:Object(u.jsxs)("h1",{children:["Cargando",Object(u.jsxs)("div",{ref:n,className:"dots",children:[Object(u.jsx)("span",{className:"dot z"}),Object(u.jsx)("span",{className:"dot f"}),Object(u.jsx)("span",{className:"dot s"}),Object(u.jsx)("span",{className:"dot t",children:Object(u.jsx)("span",{className:"dot l"})})]})]})})},T=n(6),R=n(23),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(T.a)(t,2),a=n[0],r=n[1],s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)},i=function(e){var t=e.target;r(Object(o.a)(Object(o.a)({},a),{},Object(R.a)({},t.name,t.value)))},l=function(e,t,n,c,s,i){var l;r(Object(o.a)(Object(o.a)({},a),{},(l={},Object(R.a)(l,e.name,t),Object(R.a)(l,n.name,c),Object(R.a)(l,s.name,i),l)))},u=function(e,t){r(Object(o.a)(Object(o.a)({},a),{},Object(R.a)({},e.name,t)))};return[a,i,s,l,u]},I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAokSURBVHic5ZtrkBxVFcd/587sJpt9Z01CliTEmLghCFoFaHgUkkCJ8MFHUUYCksgzgqWUpZZF8YF8UUtK/IASKhCNUJQKJUWBIAQIAQKiVoAqgkggMeS12bzYnZl9Znb6+KG7Z2739O7O9PaOVHmqZqfn9u3T5/+/55577ule+D8XqdmdHtXU9BmZ0/J5pwsjs1W10XFoBsBxBlAZQJ2jGH2fjll7WSGjtTBrygiYs6WncShff3FeZQVwsSqfcZRpqqAojoJ7jHfg/VAFyIP+G3VeQnkRU/8Sq2ZmpsLOZAlYr6b13Mwlgq4pIF9X1UbHwlUCPSEB4bZh0KdAHiI351nWST4pk5MhYIfWdRzvW+2o3K7KUlVwAFUPKJMmACge70f5FYM8wLrOwcmaPmkCZm3p+6YqdyksKIKaWgL89h6UO1jTuRkRrTkBs57LLDHKBge91LezxgR4bfo34BbWzn87Dg4T56K5z2WuTcGbCJfGuT5hOR/ln2zedxuqVQ9oVRcs/qtOG67PbHBUrneKo678jz3A7vMYgw3f5ruz+yvFVLEHzNnS0zhcn31CkesrvabmonIlDUPb+N0Hsyq9pCICTn0h2zEt3fAycFls42on56B123ng4LxKOk9IQOdfumekDU8AZ0/atNpJFzK6hU0HZk7UcVwCzt6hdfVNTY8BFyRmWu1kGTr6FBu7Z4zXaVwC+nK5nwFfTtSs2sp5MPKb8TqMScCilzNXKPwweZtqLKLXsXHv2rFORxKw+JXcLFF5iFruFqdSRO/lvr0Lo06lI/ujv1DoiHu/GxuO8IWOegBUfA4FO19VSu2hm5e3AffsPMHrzI5rUiPG2QBcET5RdqeuV7IXOMp2R5FSQjNGUkN0IrRxXh+rzjwtrrGRsvrBrfzpaB10Lhk7EYpssxKrgvNVbl3ypK23fAooP+Xj6PpioHu3+4krRn7Oeg1gDvw4/dXMcoUvxr+DL1PAn4j7ObwHev4TV8syZu/5it0QIKDgpO6Iq9mWKXMfEdcTeva6n1g69Hb7Z5GArlcHOgW9fHIW+jdJREtIpwfeeJ5w9EM4ui+Oos/z6z1n+r+KBBincA2QSsDUqRGfADwCjIFj++HYgep1pZxr/MPSFBC5Kgk7PWXJqSqqNCXgYkpkHD8AJw5Wq+1q/yANsPQf2Q5O8rkEzZ1QfvLk6zz97n7UBwLutw8UcZu98wezg6VzIqDiTgcETnS7y97MUyu9/Xw2vNfFrUt3pQHMSVmpMatDkVKBAxzKDPLukYxHAOUubh/bbu8rNxZRCPT2uNe0n1KhjamVwC4f9IWVo6tIewVdrNG23TrQLqURt0c/cGz16zsCvYcrM1H1IvBTYcMZOLHRxpMoMP5o2iPte4KxzosAppQ2F73FQOa4e9w6ZyILloFPgENXwugm7iGCMSk0DLbo/hSBFscmaloUybDiQvaEe75lvMqYLGG9Glm4TafPqOsfVEUcL+e38/o4e4H7T+vnG8sqDkgTyqJfPsPezGAJKJSOfQKKBFEiqGkmNHt7usjCqyxINzLQph/H3N8WO0YoJdD2tCh6kUXKYMZtbx6jMubk29KOKTRLgguAZ0XC6qx57oMW2xssr7DPKzCUddtmtEUpbkmbdKpRfZdI0uBE9dm5gTXni7WDMCl+MPW+h/rd74aWoF6Tbk6ramJPWqdMhLFzA6AUG0JeIRYxwwPu8fRmW/NIWkjnlJq8izAJMd7S6Ed7vNEG949NgHdJMcO0iDg55PaZ5hWKndFc2uhIriAJ74GSDql+EPRjlQkBs9PpyDYrxp0ccvvUNwDSn955YWvfstf6+4Gm5CyemIHNb+5lR3efWxssdreXMV+PcHxoNDiiEBEXvOvDS2PgvEdMfgRElKa6Q2lElFdzu6G2m6Gte4/xh7cPeomQZVwgwQnP+9A6H84gx1sa7UCpwGj+MDecmTPerXcliq6iVUC8eY1rVHGt96O5/VtC56R0DVZ/E75Ggvr8+7l7hw/Ao9RB30iUgErEJ8nYwHwyPMNNGIjfZoEPbKRCu8lI8H7f1Bvg7QVSpLYVar4bIjhibkPQeD/aQ6k9sO6H8gIlYgp4pBVXDp84toJHwDvdM946fW5/L9CeDLKJp8Btyxdz5Rn2E2x7vpbr2Xl8gDtf22+1meBqoFg1Au98McCGyEJGaarbDv5ucJUU2J59CuTaKpFGSwUh4NzONs6tQmXb9DoQv/RlTZlA1hfKDYr2hDJEeJEbluawe6kxD1dhT+3FDmgmNFXKiikmor/VljYP+WqLBLx3qHEryqGErE1GTZnacGSPWg1kfPAmlSPd/rivsuQnq6QgovdOjeUJSdRyGVgNorwi5A1qNtkvWAb2waP1+XuB3skbOmkN0UqjcoXxwJsQeDEjpLnb1hogYPfyjizoPYkYm7T4OULknI8CH5EIIb/llq7ANDfh+/Q3DtwFxHzwNpUiEeCtxKgMfBlZH5Hmzgit5fLpV7JfKzg8HrcmOGekjxnH9+G+EmlQEffjHYP7soSK8TZD1no+xvdA3mF//6hlskQkPcYbUnELpLYeh5u4dcmmiggA+NRLmUdUZVUcAlShkD1B4cD77m8x3scnAfcbKVWFw8VNezMUyPAotZclPVZSZG+HjXmB7kWXsV7K0t2yKeDLdB25gUlskqSlAzNvCZjUGEHKCmpRkT0ywkctbSG3LwuWcgRNrYkCPy4B/1oxu984ztWIxH4nX1o6kFMXuwaNu0xFgLeLoOFgNlYwLAefh/Rq1i0c83HRmAQA7L6k7U11nFUQv2Ymze3I3EVjAzVR4L0cPjLARSQ9ZTtDAREFczPrFm4bz75xCQDYt7L1aRFuhMBLXtWR0NSGnLIwCCJqPx+1h48CHyatHDxgfszNn/z9RLZNSADAhytaHhTlWiB2BVkaW5E5C9yYEDB8jOXMxAaviPkRNy28ewKTXLuqATH/+cxljvBnVZpi/7/AQA6nt8dbHcR9PB7YqXmA7CdAfrT3awPFUpnVx/0xgpi1XL/gkUoxVZ2ydb6Y7aLAo47qWbEIUNChHE7vUXcZjCqIhCu+4UKHSPAFCRfGPiR9FdfN+3s1eCqaArZ0r2zZZRqblyuykbhxoaEJ2udEB8FwmSuwEozh9sb8kXzhs9WChxgeYMvc5/rOGVXuU+WcqjzA/5eZ4SE095FligW0rM5veUNpauxB5Husnf9MXAxVe4Ath7/UtuNYfet5wM2qVP/24rQGaOmwRzK4DIbX/lKZvJtU6gdkR86YDHiYpAcEZJum20ayq1HnO+rI+VX909TJYRjIEjnqdm1PzFs4cj+5kc18f8lIEmYnR4AlLc9mFlNwvlVQLlflbIXUhP81dnLEe4pLyQsQB5GdYJ5F5GHWLHgnaVunhABb2p//qHVkmIsc5SzHkS6FLkf0E+rQrkqTgqCaQ50+8vleTg7vBnbhsJNp+W1c3XV8Ku37L9MMkapjc2UEAAAAAElFTkSuQmCC",B=(n(92),n(24)),F=function(){var e=Object(s.b)(),t=D({lEmail:"",lPassword:""}),n=Object(T.a)(t,2),c=n[0],a=n[1],r=c.lEmail,o=c.lPassword,i=function(t){var n,c;t.preventDefault(),e((n=r,c=o,function(){var e=Object(h.a)(p.a.mark((function e(t){var a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.toLowerCase(),e.next=3,N("auth",{email:a,password:c},"POST");case 3:return r=e.sent,e.next=6,r.json();case 6:(s=e.sent).ok?(localStorage.setItem("token",s.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(k({uid:s.uid,nombre:s.nombre,rol:s.rol,maxFree:s.maxFree}))):v.a.fire("Error",s.msg,"error");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(u.jsx)(u.Fragment,{children:B.isMobile?Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row ",children:Object(u.jsxs)("div",{className:"col-md-11 col-11 login-form-1 mt-5",children:[Object(u.jsx)("h3",{children:"Ingreso"}),Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Correo",name:"lEmail",value:r,onChange:a})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-3",placeholder:"Contrase\xf1a",name:"lPassword",value:o,onChange:a})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]}):Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row mt-4",children:Object(u.jsxs)("div",{className:"col-md-6 col-6 me-5 login-form-3",children:[Object(u.jsx)("h3",{children:"Ingreso"}),Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Correo",name:"lEmail",value:r,onChange:a})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-3",placeholder:"Contrase\xf1a",name:"lPassword",value:o,onChange:a})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]})})},L=function(){return Object(u.jsxs)("div",{className:"container text-center",children:[Object(u.jsx)("h2",{className:"mb-5 mt-2",style:{color:"black"},children:"Administrar"}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",children:[Object(u.jsx)(f.b,{to:"/controlrpp",children:Object(u.jsxs)("button",{className:"btn btn-primary btn-lg",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user"})," Controlar RRPP"]})}),Object(u.jsx)(f.b,{to:"/controlclientes",children:Object(u.jsxs)("button",{className:"btn btn-primary btn-lg",title:"Visualizar todos los clientes",children:[Object(u.jsx)("i",{className:"fas fa-user"})," Visualizar todos los clientes en BD"]})}),Object(u.jsx)(f.b,{to:"/controlevento",children:Object(u.jsxs)("button",{className:"btn btn-primary btn-lg",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-calendar-alt"})," Controlar Eventos"]})})]})]})},U=n(21),M=n.n(U),z=function(e,t,n,c,a,r,s,o){return function(){var i=Object(h.a)(p.a.mark((function i(l){var u,d,j;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,y("clientes/editt",{dni:e,celular:t,fecha:n,usuario:c,evento:a,tipo:r,dataUrl:s,eventoid:o},"PUT");case 2:return u=i.sent,i.next=5,u.json();case 5:(d=i.sent).ok?(v.a.fire("Exito","Actualizado con \xe9xito","success"),j=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:e.sent.ok&&v.a.fire({title:"Exito",text:"PDF subido",icon:"success",showConfirmButton:!1});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){j(e,o)}),500)):v.a.fire("Error",d.msg,"error");case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("clientes/edit/".concat(e));case 2:return c=t.sent,t.next=5,c.json();case 5:a=t.sent,n(H(a.cliente));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},H=function(e){return{type:w.clienteAsociar,payload:e}},q=function(e){return{type:w.pasarBody,payload:e}},W=function(){return{type:w.borrarBody,payload:null}},G=function(){return{type:w.startClearClienteAsoc,payload:null}},Y=function(){return{type:w.setLoading,payload:null}},K=function(){return{type:w.setClearLoading,payload:null}},Q=function(e,t,n,c,a){return function(){var r=Object(h.a)(p.a.mark((function r(s){var o,i,l,u,d,j,b;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=n.label.substring(n.label.lastIndexOf("-")+1),i=o.trim(),l=n.value,u=t.value,d=t.label,r.next=7,y("clientes/asociar",{uid:e,evento:u,tipo:i,importe:l,usuario:c,nombrevento:d,celular:a},"POST");case 7:return j=r.sent,r.next=10,j.json();case 10:b=r.sent,201===j.status||v.a.fire("Error",b.msg,"error");case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},J=function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var a,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/desasociar",{evento:t,id:e},"POST");case 2:return a=n.sent,n.next=5,a.json();case 5:r=n.sent,201===a.status?v.a.fire({title:"Exito",text:"Desasociado con \xe9xito",icon:"success",showConfirmButton:!1}):v.a.fire("Error",r.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Z=function(e,t,n){return function(){var c=Object(h.a)(p.a.mark((function c(a){var r,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y("clientes/desasociarsinevento",{uid:t,id:e,eventoid:n},"POST");case 2:return r=c.sent,c.next=5,r.json();case 5:s=c.sent,201===r.status?v.a.fire({title:"Exito",text:"Eliminado con \xe9xito",icon:"success",showConfirmButton:!1}):v.a.fire("Error",s.msg,"error");case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},X=function(){return{type:w.uiOpenModal}},$=function(){return{type:w.uiCloseModal}},_=function(){return{type:w.uiOpenModall}},ee=function(){return{type:w.uiCloseModall}},te=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),a=Object(l.useHistory)(),r=Object(s.c)((function(e){return e.auth})).uid;if(n)return Object(u.jsx)("h2",{children:"Cargando..."});var o=function(e,t,n){n>1?(c({type:w.uiOpenModalll}),c(V(e))):(c(Z(e,r,t)),setTimeout((function(){a.push("/")}),500))},i=function(e,t,n){if(n>1)c({type:w.uiOpenModallll}),c(V(e));else{var a=function(){var n=Object(h.a)(p.a.mark((function n(){var c,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/reenviarwsp/".concat(e,"/").concat(t));case 2:return c=n.sent,n.next=5,c.json();case 5:(a=n.sent).ok&&v.a.fire({title:"PDF a WSP",text:"\xbfSeguro que desea reenviar el PDF por WSP?",icon:"question",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(n){n.isConfirmed&&window.open("https://wa.me/549".concat(a.celular,"?text=https://event-a.herokuapp.com/descargapdf/").concat(t,"/").concat(e))}));case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();a()}};return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Reenviar PDF"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center small",children:e.dni}),Object(u.jsx)("td",{className:"text-center small",children:e.nombre}),Object(u.jsx)("td",{className:"text-center small",children:e.apellido}),Object(u.jsx)("td",{className:"text-center small",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:e.entradas.map((function(e){return"TARJETERO"!==e.rol&&"ESPECIAL"!==e.rol||e.usuarioRRPP!==r?e.usuario===r?Object(u.jsxs)("pre",{children:[e.nombre," - $",e.importe," - ",e.tipo]},e.evento):void 0:Object(u.jsxs)("pre",{children:[e.nombre," - $",e.importe," - ",e.tipo]},e.evento)}))}),Object(u.jsx)("td",{className:"text-center",children:e.usuarios.map((function(e){return"TARJETERO"!==e.rol&&"ESPECIAL"!==e.rol||e.usuarioRRPP!==r?e.usuario===r?Object(u.jsxs)("pre",{children:[e.nombre," - ",e.apellido," "]},e.usuario):void 0:Object(u.jsxs)("pre",{children:[e.nombre," - ",e.apellido," "]},e.usuario)}))}),e.usuarios.map((function(t,n){if(t.usuario===r)return Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-success",onClick:function(){return i(e.uid,t.evento,e.usuarios.length)},children:Object(u.jsx)("i",{className:"fa-brands fa-whatsapp"})})})})),e.usuarios.map((function(t,n){if(t.usuario===r)return Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){c(V(e)),setTimeout((function(){a.push("/editarcliente/".concat(e))}),4e3)}(e.uid)},children:"Editar"})})})),e.usuarios.map((function(t,n){if(t.usuario===r)return Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.uid,t.evento,e.usuarios.length)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})}))]},e.uid)}))})]})})},ne=function(e){return{type:w.eventSetActive,payload:e}},ce=function(){return{type:w.isFilter}},ae=function(){return{type:w.ClearisFilter}},re=function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("eventos");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(ue(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("eventos/rpp/".concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n(le(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},oe=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("eventos/".concat(e,"/precios"));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,n(ie(a)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ie=function(e){return{type:w.setPrice,payload:e}},le=function(e){return{type:w.eventosByRppLoaded,payload:e}},ue=function(e){return{type:w.eventosLoaded,payload:e}},de=function(e){return{type:w.currentPage,payload:e}},je=function(e){for(var t=e.dataPerPage,n=e.totalData,a=e.data,r=e.setCurrentPage,o=Object(s.b)(),i=[],l=Object(c.useState)(10),d=Object(T.a)(l,2),j=d[0],b=(d[1],1);b<=Math.ceil(n/t);b++)i.push(b);var m=Object(s.c)((function(e){return e.eventos})).currentPage;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item first",children:Object(u.jsx)("span",{onClick:function(){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].innerText,e.toString();document.getElementsByClassName("first"),1!==e&&(r((function(e){return e-1})),o(de(e-1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-left"})})}),function(){var e=Math.floor((m-1)/j)*j;return new Array(j).fill().map((function(t,n){return e+n+1}))}().map((function(e){return Object(u.jsx)("li",{onClick:function(e){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.parentElement.classList.add("active")}(e)},className:1===e?"page-item active":"page-item",children:Object(u.jsx)("span",{onClick:function(){return n=e,Math.ceil(a.length/t),r(n),o(de(n)),document.getElementsByClassName("last"),void document.getElementsByClassName("first");var n},className:"page-link",children:e})},e)})),Object(u.jsx)("li",{className:"page-item last",children:Object(u.jsx)("span",{onClick:function(){return function(e){console.log(e);for(var n=document.getElementsByTagName("li"),c=0;c<n.length;c++)n[c].innerText,e.toString();var s=Math.ceil(a.length/t);document.getElementsByClassName("last"),document.getElementsByClassName("first"),e!==s&&(r((function(e){return e+1})),o(de(e+1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-right"})})})]})})},be=n(26),me=n.n(be),fe=n(25),xe=(n(54),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});me.a.setAppElement("#root");var pe=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpen,n=Object(s.c)((function(e){return e.auth})).uid,a=Object(s.c)((function(e){return e.clientes})).clienteAsoc,r=Object(s.c)((function(e){return e.eventos})),o=r.eventos,i=r.precios,l=[],d=0;d<o.length;d++){var j={value:o[d].id,label:o[d].nombre};l.push(j)}var b=[];i&&(b=[{value:i[0].vip,label:"$".concat(i[0].vip," - VIP")},{value:i[0].general,label:"$".concat(i[0].general," - General")},{value:i[0].preferencial,label:"$".concat(i[0].preferencial," - Preferencial")}]);var m=Object(c.useState)(""),f=Object(T.a)(m,2),x=f[0],p=f[1],h=Object(c.useState)(""),O=Object(T.a)(h,2),v=O[0],g=O[1];Object(c.useEffect)((function(){e(re())}),[e,n]);var N=function(){e($()),e(G())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:N,style:xe,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:l,value:x,onChange:function(t){p(t),e(oe(t.value))}})}),i&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(fe.a,{options:b,value:v,onChange:function(e){g(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(Q(a,x,v)),void N()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-link"}),Object(u.jsx)("span",{children:" Asociar"})]})})]})})},he={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var Oe=function(){for(var e=Object(s.b)(),t=(Object(l.useHistory)(),Object(s.c)((function(e){return e.ui})).modalOpenn),n=Object(s.c)((function(e){return e.eventos})).eventos,a=[],r=0;r<n.length;r++){var o={value:n[r].id,label:n[r].nombre};a.push(o)}var i=Object(c.useState)(""),d=Object(T.a)(i,2),j=d[0],b=d[1];Object(c.useEffect)((function(){e(re())}),[e]);var m=function(){e(ee())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:m,style:he,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento a filtrar"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:a,value:j,onChange:function(e){b(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(ce()),e(ne(j)),void m()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-filter"}),Object(u.jsx)("span",{children:"Filtrar"})]})})]})})},ve={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var ge=function(){for(var e=Object(s.b)(),t=Object(l.useHistory)(),n=Object(s.c)((function(e){return e.ui})).modalOpennn,a=Object(s.c)((function(e){return e.auth})).uid,r=Object(s.c)((function(e){return e.eventos})).eventos,o=Object(s.c)((function(e){return e.clientes})).clienteAsoc,i=[],d=0;d<r.length;d++){var j={value:r[d].id,label:r[d].nombre};i.push(j)}var b=Object(c.useState)(""),m=Object(T.a)(b,2),f=m[0],x=m[1];Object(c.useEffect)((function(){e(se(a))}),[e,a]);var p=function(){e({type:w.uiCloseModalll})};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:n,onRequestClose:p,style:ve,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento de la entrada a eliminar"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control",children:Object(u.jsx)(fe.a,{options:i,value:f,onChange:function(e){x(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return p(),e(Z(o.uid,a,f.value)),void setTimeout((function(){t.push("/")}),500)},className:"btn btn-outline-danger btn-block",children:[Object(u.jsx)("i",{className:"fas fa-trash-alt"}),Object(u.jsx)("span",{children:"Eliminar"})]})})]})})},Ne={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var ye=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpennnn,n=Object(s.c)((function(e){return e.auth})).uid,a=Object(s.c)((function(e){return e.eventos})).eventos,r=Object(s.c)((function(e){return e.clientes})).clienteAsoc,o=[],i=0;i<a.length;i++){var l={value:a[i].id,label:a[i].nombre};o.push(l)}var d=Object(c.useState)(""),j=Object(T.a)(d,2),b=j[0],m=j[1];Object(c.useEffect)((function(){e(se(n))}),[e,n]);var f=function(){e({type:w.uiCloseModallll})};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:f,style:Ne,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento de la entrada a reenviar WSP"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control",children:Object(u.jsx)(fe.a,{options:o,value:b,onChange:function(e){m(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return function(){f();var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/reenviarwsp/".concat(r.uid,"/").concat(b.value));case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).ok&&v.a.fire({title:"PDF a WSP",text:"\xbfSeguro que desea reenviar el PDF por WSP?",icon:"question",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&window.open("https://wa.me/549".concat(n.celular,"?text=https://event-a.herokuapp.com/descargapdf/").concat(b.value,"/").concat(r.uid))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},className:"btn btn-outline-success btn-block",children:[Object(u.jsx)("i",{className:"fa-brands fa-whatsapp"}),Object(u.jsx)("span",{children:" Reenviar"})]})})]})})},we={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var Ce=function(){for(var e=Object(s.b)(),t=(Object(l.useHistory)(),Object(s.c)((function(e){return e.ui})).modalOpennnnn),n=Object(s.c)((function(e){return e.auth})).uid,a=Object(s.c)((function(e){return e.eventos})).eventos,r=(Object(s.c)((function(e){return e.clientes})).clienteAsoc,[]),o=0;o<a.length;o++){var i={value:a[o].id,label:a[o].nombre};r.push(i)}var d=Object(c.useState)(""),j=Object(T.a)(d,2),b=j[0],m=j[1];Object(c.useEffect)((function(){e(se(n))}),[e,n]);var f=function(){e({type:w.uiCloseModalllll})};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:f,style:we,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento a cambiar numero de celular"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control",children:Object(u.jsx)(fe.a,{options:r,value:b,onChange:function(e){m(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(ne(b.value)),void f()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-arrow"}),Object(u.jsx)("span",{children:"Cambiar"})]})})]})})},Ee=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),n=t.uid,a=t.rol,r=Object(s.c)((function(e){return e.eventos})).isFilter,i=Object(s.c)((function(e){return e.eventos})).activeEvent,l=Object(c.useState)(0),d=Object(T.a)(l,2),j=d[0],b=d[1],m=Object(c.useState)(0),x=Object(T.a)(m,2),O=x[0],v=x[1],g=Object(c.useState)(0),N=Object(T.a)(g,2),w=N[0],C=N[1],E=Object(c.useState)(1),k=Object(T.a)(E,2),S=k[0],A=k[1],P=Object(c.useState)([]),D=Object(T.a)(P,2),I=D[0],F=D[1],L=Object(c.useState)(!1),U=Object(T.a)(L,2),M=U[0],z=U[1],V=Object(c.useState)(10),H=Object(T.a)(V,2),q=H[0],W=(H[1],S*q),G=W-q,Y=I.slice(G,W);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,F(c.clientess),z(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,y("clientes/rrpp/".concat(n,"/evento/").concat(i.value));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,F(c.clientes),z(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/ganancia/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,C(c.ganclientes),v(c.gancomision),b(c.gantotal);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"RRPP"===a&&c(),r?t():e()}),[a,n,r,i]);var K=Object(c.useState)({cSearch:""}),Q=Object(T.a)(K,2),J=Q[0],Z=Q[1],X=Object(c.useState)({cSearchTar:""}),$=Object(T.a)(X,2),ee=$[0],ne=$[1],ce=function(e){var t=e.target,c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,F(c.clientess),z(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/ganancia/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,C(c.ganclientes),v(c.gancomision),b(c.gantotal);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&(c(),a()),Z(Object(o.a)(Object(o.a)({},J),{},Object(R.a)({},t.name,t.value)))},re=function(e){var t=e.target,c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,F(c.clientess),z(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/ganancia/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,C(c.ganclientes),v(c.gancomision),b(c.gantotal);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&(c(),a()),ne(Object(o.a)(Object(o.a)({},ee),{},Object(R.a)({},t.name,t.value)))},se=J.cSearch,oe=ee.cSearchTar,ie=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/search/".concat(se,"/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,F(c.clientess),C(c.ganclientes),v(c.gancomision),b(c.gantotal);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()},le=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/searchportar/".concat(oe,"/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,F(c.clientess),C(c.ganclientes),v(c.gancomision),b(c.gantotal);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{className:"container",children:[B.isMobile?Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:ie,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido del cliente...",type:"text",name:"cSearch",value:se,onChange:ce}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:le,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido del tarjetero...",type:"text",name:"cSearchTar",value:oe,onChange:re}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),"TARJETERO"===a&&Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-2",children:Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(w||0)})]})}),Object(u.jsx)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:"ESPECIAL"===a?Object(u.jsx)(f.b,{className:" d-flex justify-content-end text-decoration-none",to:"/addclienteespecial",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente especial",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente especial"]})}):Object(u.jsx)(f.b,{className:" d-flex justify-content-end text-decoration-none",to:"/addcliente",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})})})]}):Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-between align-items-center",children:[Object(u.jsxs)("div",{className:"form-group d-flex flex-row justify-content-center align-items-center mb-2 w-100",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:ie,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda de cliente por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:se,onChange:ce}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:le,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda de cliente por apellido de Tarjetero",placeholder:"Ingrese el apellido del tarjetero...",type:"text",name:"cSearchTar",value:oe,onChange:re}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]})]}),"TARJETERO"===a&&Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(w||0)})]})}),Object(u.jsx)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:"ESPECIAL"===a?Object(u.jsx)(f.b,{className:" d-flex justify-content-end text-decoration-none",to:"/addclienteespecial",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente especial",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente especial"]})}):Object(u.jsx)(f.b,{className:" d-flex justify-content-end text-decoration-none",to:"/addcliente",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:["RRPP"===a&&Object(u.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-2",children:[Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia total"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(j||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia de comision"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(O||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia de clientes propios"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(w||0)})]})]}),Object(u.jsx)("h4",{children:"Cantidad de Clientes"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:I.length}),Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsxs)("button",{className:"btn btn-primary mb-2 me-2",onClick:function(){e(_())},title:"Filtrar por Evento",children:[Object(u.jsx)("i",{className:"fas fa-filter"})," Filtrar por Evento"]}),r&&Object(u.jsxs)("button",{className:"btn btn-outline-danger mb-2 ms-2",onClick:function(){e(ae())},title:"Sacar filtro",children:[Object(u.jsx)("i",{className:"fas fa-close"})," Filtrado por evento: ",i.label]})]}),Object(u.jsx)(te,{clientes:Y,loading:M}),Object(u.jsx)(pe,{}),Object(u.jsx)(Oe,{}),Object(u.jsx)(ge,{}),Object(u.jsx)(ye,{}),Object(u.jsx)(je,{dataPerPage:q,totalData:I.length,data:I,setCurrentPage:A})]})]})},ke=function(){var e=Object(s.c)((function(e){return e.auth})).rol,t=Object(c.useState)(!1),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),i=Object(T.a)(o,2),l=i[0],d=i[1],j=Object(c.useState)(!1),b=Object(T.a)(j,2),m=b[0],f=b[1];return Object(c.useEffect)((function(){"ADMIN"===e&&r(!0),"RRPP"===e&&d(!0),"TARJETERO"!==e&&"ESPECIAL"!==e||f(!0)}),[r,d,f,e]),Object(u.jsxs)("div",{className:"container",children:[a&&Object(u.jsx)(L,{}),l&&Object(u.jsx)(Ee,{}),m&&Object(u.jsx)(Ee,{})]})},Se=n(32),Ae=n(70),Pe=n.n(Ae),Te=function(e){var t=e.uid,n=e.dni,a=e.celular,r=Object(c.useState)(""),o=Object(T.a)(r,2),i=o[0],l=o[1],d=Object(s.b)();return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({type:w.waitQr}),e.next=3,y("clientes/sethash",{uid:t,dni:n,celular:a},"POST");case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,l(n+a+r.hash),setTimeout((function(){d({type:w.stopWaitQr})}),2e3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,a,d]),Object(u.jsx)("div",{children:Object(u.jsx)(Pe.a,{className:"d-none",value:"".concat(i),size:128,level:"H"})})},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(T.a)(t,2),a=n[0],r=n[1],i=Object(s.b)(),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;r(t)},u=function(e){var t=e.target,n=!!t.value.includes("."),c=!!t.value.includes(",");if(n||c)return v.a.fire("Error","El DNI ingresado no puede contener caracteres como: . o ,","error");if(8===t.value.length){var s=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/verificardb/".concat(t.value));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,i(q(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()}r(Object(o.a)(Object(o.a)({},a),{},Object(R.a)({},t.name,t.value)))};return[a,u,l]},De=M()(),Ie=function(){for(var e=Object(c.useState)(!1),t=Object(T.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(T.a)(r,2),i=o[0],l=o[1],d=document.querySelector("canvas"),j=d&&d.toDataURL("image/jpg",.3),b=Object(s.c)((function(e){return e.auth})).uid,m=Object(s.c)((function(e){return e.clientes})).body,f=Object(Se.useHistory)(),x=Object(s.b)(),O=D({cNombre:"",cApellido:""}),g=Object(T.a)(O,4),N=g[0],w=g[1],C=g[2],E=g[3],k=Re({cDni:""}),S=Object(T.a)(k,2),A=S[0],P=S[1],R=D({cCelular:""}),I=Object(T.a)(R,5),B=I[0],F=I[1],L=I[2],U=(I[3],I[4]),z=B.cCelular,V=N.cNombre,H=N.cApellido,q=A.cDni,G=Object(s.c)((function(e){return e.eventos})),Y=G.eventos,K=G.precios,J=[],Z=0;Z<Y.length;Z++){var X={value:Y[Z].id,label:Y[Z].nombre+" - "+M()(Y[Z].fecha).format("DD/MM/YYYY")};J.push(X)}var $=[];K&&($=[{value:K[0].vip,label:"$".concat(K[0].vip," - VIP")},{value:K[0].general,label:"$".concat(K[0].general," - General")},{value:K[0].preferencial,label:"$".concat(K[0].preferencial," - Preferencial")}]);var _=$.filter((function(e){if(0!==e.value)return e})),ee=Object(c.useState)(""),te=Object(T.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(""),re=Object(T.a)(ae,2),ie=re[0],le=re[1];Object(c.useEffect)((function(){if(x(se(b)),m)if("error"===m.status)C(),L(),x(W()),a(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");E(t,m.cliente.apellido,e,m.cliente.nombre,n,m.cliente.celular),U(n,m.cliente.celular),a(!0),l(!0),x(W())}}),[b,x,m,E,U,C,L]);var ue=Object(c.useState)(["e","E","+","-",".",","]),de=Object(T.a)(ue,1)[0];return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("h3",{children:"Cargar cliente"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===z||""===q||""===H||""===V||""===ne||""===ie)return v.a.fire("Error","Debes de rellenar todos los campos","error");if(i){var t=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r,s,o){var i,l,u,d,j,b,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.label,l=r.value,u=s.label,!1,!1,e.next=7,y("clientes/update",{dni:t,celular:n,fecha:c,usuario:a,dataUrl:o,evento:i,tipo:u,free:false,eventoid:l,ticket:false},"POST");case 7:return d=e.sent,e.next=10,d.json();case 10:(j=e.sent).ok?(x(Q(j.cliente.uid,r,s,a,n)),v.a.fire("Exito","Cliente actualizado con \xe9xito","success"),b=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(l,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){b(q.trim(),r.value)}),1e3)):j.oki?(x(Q(j.cliente.uid,r,s,a,n)),v.a.fire("Exito","Cliente asociado con \xe9xito","success"),m=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(l,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){m(q.trim(),r.value)}),1e3)):v.a.fire("Error",j.msg,"error");case 12:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,o){return e.apply(this,arguments)}}();t(q.trim(),z,De.toDate(),b,ne,ie,j),a(!1),l(!1)}else{var n=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r,s,o,i,l,u){var d,j,b,m,f,O,g,N,w;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=l.label,j=i.label,b=i.value,!1,!1,m=n.toUpperCase(),f=c.toUpperCase(),e.next=9,y("clientes",{dni:t,nombre:m,apellido:f,celular:a,fecha:r,estado:s,usuario:o,dataUrl:u,evento:j,tipo:d,free:false,eventoid:b,ticket:false},"POST");case 9:return O=e.sent,e.next=12,O.json();case 12:(g=e.sent).ok?(x(Q(g.cliente.uid,i,l,o,a)),v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success"),N=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(b,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){N(q.trim(),i.value)}),1e3)):g.oki?(x(Q(g.cliente.uid,i,l,o,a)),v.a.fire("Exito","Cliente asociado con \xe9xito","success"),w=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(b,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){w(q.trim(),i.value)}),1e3)):v.a.fire("Error",g.msg,"error");case 14:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,o,i,l,u){return e.apply(this,arguments)}}();n(q.trim(),V.trim(),H.trim(),z,De.toDate(),!0,b,ne,ie,j),a(!1),l(!1)}},children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Ingresar DNI sin puntos ni espacios"}),Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:q,autoComplete:"off",onChange:function(e){return P(e)},onKeyDown:function(e){return de.includes(e.key)&&e.preventDefault()}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Cod.\xc1rea+N\xba Celular"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{style:{color:"white"},children:"Ejemplo: 3482012345"})]}),Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:z,onChange:F})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:V,disabled:n,onChange:w})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:H,disabled:n,onChange:w})}),Object(u.jsx)("h3",{children:"Elegir evento"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:J,value:ne,onChange:function(e){ce(e),x(oe(e.value))}})}),Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),K&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(fe.a,{options:_,value:ie,onChange:function(e){le(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){f.push("/")},children:"Volver"})}),Object(u.jsx)(Te,{uid:b,dni:q,celular:z})]})},Be=n(71),Fe=n.n(Be),Le=n(10),Ue=M()(),Me=function(){var e=Object(s.c)((function(e){return e.auth})).uid,t=Object(c.useState)(Ue.toDate()),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(s.b)(),i=Object(l.useHistory)(),d=D({eNombre:"",eUbicacion:"",eVip:"",ePreferencial:"",eGeneral:"",ePuerta:""}),j=Object(T.a)(d,2),b=j[0],m=j[1],f=b.eNombre,x=b.eUbicacion,O=b.eVip,g=b.ePreferencial,N=b.eGeneral,w=b.ePuerta;return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:"Cargar Evento"}),Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===x||""===f)return v.a.fire("Error","Debes de rellenar todos los campos","error");var n,c,r,s,i,l,u,d,j;o((n=f,c=x,r=O,s=g,i=N,l=w,u=a,d=e,function(){var e=Object(h.a)(p.a.mark((function e(t){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos",{nombre:n,ubicacion:c,vip:r,preferencial:s,general:i,fecha:u,usuario:d,puerta:l,dataUrl:j},"POST");case 2:return a=e.sent,e.next=5,a.json();case 5:(o=e.sent).ok?(v.a.fire("Exito","Cargado con \xe9xito","success"),t(ne(o.evento))):v.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 text-center",placeholder:"Nombre",name:"eNombre",value:f,onChange:m})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 text-center",placeholder:"Ubicacion",name:"eUbicacion",value:x,onChange:m})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(Fe.a,{onChange:function(e){r(e)},value:a,className:"form-control mb-2 text-center",format:"dd-MM-yyyy"})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",style:{color:"white"},children:Object(u.jsx)("label",{className:"h5",children:"Precios por entrada anticipada"})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Vip",name:"eVip",value:O,onChange:m})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Preferencial",name:"ePreferencial",value:g,onChange:m})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-3 text-center",placeholder:"General",name:"eGeneral",value:N,onChange:m})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",style:{color:"white"},children:Object(u.jsx)("label",{className:"h5",children:"Precio por entrada por puerta"})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-3 text-center",placeholder:"Precio",name:"ePuerta",value:w,onChange:m})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(){i.push("/controlevento")},children:"Volver"})})]})},ze=function(){for(var e=Object(c.useState)(),t=Object(T.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),o=Object(T.a)(r,2),i=o[0],l=o[1],d=Object(c.useState)(""),j=Object(T.a)(d,2),b=j[0],m=j[1],f=Object(s.c)((function(e){return e.eventos})).eventos,x=[],O=0;O<f.length;O++){var g={value:f[O].id,label:f[O].nombre+" - "+M()(f[O].fecha).format("DD/MM/YYYY")};x.push(g)}var N=Object(c.useState)(""),w=Object(T.a)(N,2),C=w[0],E=w[1],k=[];if(n)for(var S=0;S<n.length;S++){var A={value:n[S].uid,label:n[S].nombre+" "+n[S].apellido};k.push(A)}var P=Object(s.b)(),R=Object(Se.useHistory)(),I=D({rDni:"",rNombre:"",rApellido:"",rEmail:"",rPassword:"",rComision:"",rComisionTarjetero:"",rCantidadFree:""}),B=Object(T.a)(I,2),F=B[0],L=B[1],U=F.rDni,z=F.rNombre,V=F.rApellido,H=F.rEmail,q=F.rPassword,W=F.rComision,G=F.rComisionTarjetero,Y=F.rCantidadFree;Object(c.useEffect)((function(){P(re())}),[P]);return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:"Cargar RPP"}),Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),""===U||""===z||""===V||""===H||""===q||""===W||""===Y?v.a.fire("Error","Debes de rellenar todos los campos","error"):U.length<7||U.length>8?v.a.fire("Error","El DNI tiene que tener entre 7 y 8 digitos","error"):void P((t=U,n=H,c=q,a=z,r=V,s=W,o=b,l=G,u=i,d=Y,j=C,function(){var e=Object(h.a)(p.a.mark((function e(i){var b,m,f,x,h,O,g,N,w,C,E;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b="ESPECIAL"===o.value?"ESPECIAL":"RRPP",m=u.value,f=u.label,x=j.value,h=j.label,O=o.value,g=c,N=r.toUpperCase(),w=a.toUpperCase(),e.next=12,y("auth/new",{email:n,password:c,passwordShow:g,nombre:w,apellido:N,rol:b,dni:t,estado:!0,comisionEnt:s,comisionRRPP:l,rrpp:m,maxFree:d,evento:x,eventoNombre:h,rolEvento:O,rrppNombre:f},"POST");case 12:return C=e.sent,e.next=15,C.json();case 15:(E=e.sent).ok?v.a.fire("Exito","RRPP Cargado con exito","success"):v.a.fire("Error",E.msg,"error");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,n,c,a,r,s,o,l,u,d,j},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2",placeholder:"DNI",name:"rDni",value:U,onChange:L})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nombre",name:"rNombre",value:z,onChange:L})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Apellido",name:"rApellido",value:V,onChange:L})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"email",className:"form-control mb-2",placeholder:"Correo",name:"rEmail",value:H,autoComplete:"new-password",onChange:L})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-2",placeholder:"Contrase\xf1a",name:"rPassword",value:q,autoComplete:"new-password",onChange:L})}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:x,value:C,onChange:function(e){E(e);var t=function(){var t=Object(h.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("auth/rrppsparaasociar/".concat(e.value));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,a(c.rpps);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}})})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision de Entradas de cada RRPP o TARJETERO",name:"rComision",value:W,onChange:L})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Cantidad Free",className:"form-control mb-2",placeholder:"Cantidad de clientes FREE de este usuario",name:"rCantidadFree",value:Y,onChange:L})}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Rol para evento"})}),Object(u.jsx)(fe.a,{className:"form-control mb-2",options:[{value:"RRPP",label:"RRPP"},{value:"TARJETERO",label:"TARJETERO"},{value:"ESPECIAL",label:"ESPECIAL"}],value:b,onChange:function(e){m(e)}})]}),"RRPP"===b.value&&Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision que cobra el RRPP a los TARJETEROS",name:"rComisionTarjetero",value:G,onChange:L})}),"RRPP"!==b.value&&Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Elegir RRPP para este TARJETERO"})}),Object(u.jsx)(fe.a,{className:"form-control mb-2",options:k,value:i,onChange:function(e){l(e)}})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){R.push("/controlrpp")},children:"Volver"})})]})},Ve=function(){var e=Object(s.c)((function(e){return e.auth})),t=e.nombre,n=e.rol,a=Object(s.b)(),r=Object(c.useState)(!1),o=Object(T.a)(r,2),i=o[0],l=o[1];Object(c.useEffect)((function(){"ADMIN"===n&&l(!0)}),[l,n]);return Object(u.jsxs)("div",{className:"navbar navbar-dark bg-dark mb-3",children:[Object(u.jsx)(f.b,{className:"text-decoration-none",to:"/",children:Object(u.jsx)("span",{role:"button",className:"navbar-brand ms-4 text-decoration-none",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASxSURBVFiFtZdbbBRlFMd/55spsPRCS4HaUjXcBCVBE4gJBRVvMSEhxBeiJIIaIsiDvmiiDxgfjFFjYtT4otTE+KCBBDFEwYRYEZEQg0SjVaBImwqWti6lu9st253v+DCzu7PXbgFPMpnv+3LmnP/5n8vMCNcie/oj09zaRSlja/FE8CRBZPwcG9rGpmpKqtJSlfqDsQ613mNW5UFPdZlnVTwFtQqqYFWxegb1vsXq52xuPYqIXjeAeQdHV6fRNz3VezyrWAVPwbNKAQD/Uhvc9TfUvsQT7V9dE4D5h0eb0552WnSjZ3NOpwAArAXVr5GrT7Fl8WApP6aM89tU9RjCxskYmlSU9dhpJ/mob2VVABZ2jawyoj8BS6/beQ5EO4YjdJ5bWxHArd8nWj01XwANN8x5TmpRs5+P+xaWBLCuS13HevsF2v8H5xlpJu3t472z0zMHbmZxwYlvw3J3uSfvc6K8ftcsfyN+7fo9FsSQLWfh0QNn6YnML2fqTmrMTuCdLIAV3wzUJlVfqQS9wViWt86upJKVGdF+MOPQsqC0grCL3b9/wrblUQOQmlm3HWitaFWqm1m+roFL5+FSbzmNJlI1OyHDn+rW6q1XIcbxr+F+GP67DEjZAuAu/SHRhrUrJrdazMC697+ke2jUj1gcwAEjRJNpMK7PWvSif28sIngJH/Qsdl2xHV41UZVIweWrHkNjE360WDDW1xMnABVcI4OgAo3zCix4Ha5UO3BKlMCza+5gMJEKwAmIcLw/yqGzgwGoEJhYFIyBuuaQTbPUVWVOVQBKTO0dq5cVnb17vIdDf0Vz0WNyrIxd8fczG31lq3NcYHqRlVJSbRNkHBsnYCZYE+zH4/5ZpA6MRlwRHavKerVtKAKOGwAR33EmHSZgZCLpr6dF4q5iLmZm2iSWi04e33uCnsvJgGLf+KVkUJThIsx0SYYRDKRTgA64WLqrC61YuocT/DoUDyLMUB9QbsI14IQYyewBlW43LcljojPShN4LpQkoZuCRJS3cflNTKDIBI5z4J07v6AS5LgjfDagBYxQz84h7eu3c2LKjsS6Uh6cK4K2HlpdUffLgGXq7hwuK0OTvRX7kuSVDBkAtuys6n6qIAScoPsfNjebs3oArnRA09+l76/YKcvKGAcjWQRnnYk4zOPgpZPIuorYr9gJCVzmb58eFD3/uRcWgCCqCkpuA4fufV1K+c8gfy9macF/k1fvTUNBbC78b7bSWpz1VMl/CNrRODw/gDfRhjYMnBisOKk4ox6FCC09Cky08EPMZzyzanCUrDKCprn4HcKQcCzK7BWlbkMur4+avTZncS0bXOYVGtuVlK7w5uUomnAnZBPJLWRCz5sLc9gLnQd/ngSnMvfMHNTUb2J7/+1b0hjn3SP1gKj22RpB9ZUE0NCPNbSHnTmXnjjmEox1svflCka1yTlCVlsOjz6vVXWnL7JJ/RokYGh/JFRpOEFK28EZA3qD2lrfZJCU/OyZ9wzR2XW50kvJyGnZ4VhuKfs2SCRiL5xecmBiYTsR5ja3t/1ayX/WXZvue/shIbf16qzyQVrvSerrAU2lSq8LV5Aip8T4wpxA5zPj0A4W5Lif/ARuG3wLaAVD7AAAAAElFTkSuQmCC",alt:"Event App"})})}),i&&Object(u.jsx)(f.b,{className:"text-decoration-none me-3",to:"/verificar",children:Object(u.jsxs)("span",{role:"button",className:"navbar-brand ms-4 text-decoration-none",style:{color:"white"},children:[" ",Object(u.jsx)("i",{className:"fas fa-check-circle    "})," Verificar"]})}),Object(u.jsxs)("div",{className:"nav-item dropdown me-3",children:[Object(u.jsx)("a",{style:{color:"white"},className:"nav-link dropdown-toggle",href:"!#",id:"userDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-pull-right","aria-labelledby":"userDropdown",children:Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){a(S()),a({type:w.eventLogout})},className:"dropdown-item active bg-danger",children:"Cerrar sesion"})})})]})]})},He=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"alert alert-danger d-flex flex-column justify-content-center align-items-center mt-5",children:[Object(u.jsx)("h1",{style:{color:"red"},children:"Error"}),Object(u.jsx)("h3",{children:"No existe ninguna pagina aqu\xed"})]})})},qe=(n(610),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});me.a.setAppElement("#root");var We=function(){var e=Object(s.b)(),t=Object(l.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),c=Object(s.c)((function(e){return e.ui})).modalOpen,a=Object(s.c)((function(e){return e.auth})).uid,r=D({pass:""}),o=Object(T.a)(r,2),i=o[0],d=o[1],j=i.pass,b=function(){e($()),e(G()),window.location.reload()},m=function(e,t){if(n){var c=function(){var c=Object(h.a)(p.a.mark((function c(){var a;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y("eventos/delpuerta",{evento:n,pass:t,uid:e},"POST");case 2:return a=c.sent,c.next=5,a.json();case 5:c.sent.ok;case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();c()}};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:c,onRequestClose:b,style:qe,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black mt-5",children:"Verifique su identidad"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:" mb-2",children:Object(u.jsx)("input",{type:"password",autoComplete:"new-password",className:"form-control mb-3 text-center",placeholder:"Contrase\xf1a",name:"pass",value:j,onChange:d})}),Object(u.jsx)("div",{children:Object(u.jsxs)("button",{onClick:function(){return m(a,j),void b()},className:"btn btn-outline-danger btn-block",children:[Object(u.jsx)("i",{className:"fas fa-trash"}),Object(u.jsx)("span",{children:" Eliminar"})]})})]})})},Ge=function(e){var t=e.clientes;return e.loading?Object(u.jsx)("h2",{children:"Cargando..."}):Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Fecha de compra"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Horario ingreso"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:M()(e.fecha).format("DD/MM/YYYY")}),Object(u.jsx)("td",{className:"text-center",children:M()(e.entrada).format("HH:mm")})]},e.uid)}))})]})})},Ye=n(265),Ke=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=Object(s.b)(),a=Object(c.useState)(0),r=Object(T.a)(a,2),i=r[0],d=r[1],j=Object(c.useState)({vDni:""}),b=Object(T.a)(j,2),m=b[0],f=b[1],x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vDni:""};f(e)},O=m.vDni,g=Object(s.c)((function(e){return e.eventos})).activeEvent,N=Object(c.useRef)(),w=Object(c.useState)(1),C=Object(T.a)(w,2),E=C[0],k=C[1],S=Object(c.useState)([]),A=Object(T.a)(S,2),P=A[0],D=A[1],I=Object(c.useState)(!1),F=Object(T.a)(I,2),L=F[0],U=F[1],z=Object(c.useState)(50),V=Object(T.a)(z,1)[0],H=E*V,q=H-V,W=P.slice(q,H);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,y("clientes/verificados/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,D(c.clientes),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/puerta/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,d(c.cantidad);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}),[t]);var G=Object(c.useRef)(),K=Object(c.useState)(!1),Q=Object(T.a)(K,2),J=Q[0],Z=Q[1],$=Object(c.useState)({cSearch:""}),_=Object(T.a)($,2),ee=_[0],te=_[1],ne=ee.cSearch;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-1",children:g&&Object(u.jsx)("span",{className:"h1",children:g.nombre})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("h4",{children:["Clientes que ingresaron por ",Object(u.jsx)("b",{children:"PUERTA"})]}),Object(u.jsx)("h4",{className:"border p-2 mb-3 ",children:i})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsx)("div",{className:"form-group text-center mb-2",children:Object(u.jsxs)("button",{onClick:function(){n(X())},className:"btn btn-danger ms-1",title:"Eliminar un Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-minus"})," Cliente por Puerta"]})})}),Object(u.jsx)("h2",{className:"d-flex justify-content-center",children:"INGRESE EL C\xd3DIGO"}),Object(u.jsxs)("form",{className:"mb-2",onSubmit:function(e){if(e.preventDefault(),/^\d+$/.test(O)){if(t)if("111"===O){var c=function(){var e=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/addpuerta",{evento:t},"POST");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.ok&&(window.location.reload(),v.a.fire("Exito","Cliente por puerta cargado","success"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c()}else{var a=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c,a,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/dnisinupdate/".concat(O.trim(),"/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?(a="".concat(c.cliente.dni),r="".concat(c.cliente.nombre.toUpperCase()," ").concat(c.cliente.apellido.toUpperCase()),s="".concat(c.cliente.tipo),v.a.fire({title:"CLIENTE",html:"<pre> <b>DNI</b> <br/>"+a+"<br/> <b>Nombre completo</b> <br/>"+r+"<br/> <b>Tipo de entrada</b> <br/>"+s+"</pre>",icon:"info",showCancelButton:!0,cancelButtonColor:"#d33"}).then(function(){var e=Object(h.a)(p.a.mark((function e(n){var c,a,r,s,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=10;break}return e.next=3,y("clientes/dni/".concat(O.trim(),"/").concat(t));case 3:return c=e.sent,e.next=6,c.json();case 6:a=e.sent,201===c.status?(r="".concat(a.cliente.dni),s="".concat(a.cliente.nombre.toUpperCase()," ").concat(a.cliente.apellido.toUpperCase()),o="".concat(M()(a.cliente.entrada).format("HH:mm")),i="".concat(a.cliente.tipo),v.a.fire({title:"INGRESO",html:"<pre> <b>DNI</b> <br/>"+r+"<br/> <b>Nombre completo</b> <br/>"+s+"<br/> <b>Horario de entrada</b> <br/>"+o+"<br/> <b>Tipo de entrada</b> <br/>"+i+"</pre>",icon:"success"}).then((function(e){if(e.isConfirmed){var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,y("clientes/verificados/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,D(c.clientes),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){n(),window.location.reload()}),500)}}))):(v.a.fire("Error",a.msg,"error"),window.location.reload()),e.next=12;break;case 10:v.a.fire("Atencion","Cliente no ingreso","error"),window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(v.a.fire("Error",c.msg,"error"),window.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a()}}else if(O.indexOf('"')>=0){var r=O.split('"');if(t){n(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var a,r,s,o,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/dnisinupdate/".concat(e,"/").concat(t));case 2:return a=n.sent,n.next=5,a.json();case 5:(r=n.sent).ok?(s="".concat(r.cliente.dni),o="".concat(r.cliente.nombre.toUpperCase()," ").concat(r.cliente.apellido.toUpperCase()),i="".concat(r.cliente.tipo),v.a.fire({title:"CLIENTE",html:"<pre> <b>DNI</b> <br/>"+s+"<br/> <b>Nombre completo</b> <br/>"+o+"<br/> <b>Tipo de entrada</b> <br/>"+i+"</pre>",icon:"info",showCancelButton:!0,cancelButtonColor:"#d33"}).then(function(){var e=Object(h.a)(p.a.mark((function e(n){var a,r,o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=10;break}return e.next=3,y("clientes/dni/".concat(s,"/").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,201===a.status?(o="".concat(r.cliente.dni),i="".concat(r.cliente.nombre.toUpperCase()," ").concat(r.cliente.apellido.toUpperCase()),l="".concat(M()(r.cliente.entrada).format("HH:mm")),u="".concat(r.cliente.tipo),r.ok?v.a.fire({title:"INGRESO",html:"<pre> <b>DNI</b> <br/>"+o+"<br/> <b>Nombre completo</b> <br/>"+i+"<br/> <b>Horario de entrada</b> <br/>"+l+"<br/> <b>Tipo de entrada</b> <br/>"+u+"</pre>",icon:"success"}):v.a.fire("Error",r.msg,"error"),c(Y())):v.a.fire("Error",r.msg,"error"),e.next=11;break;case 10:v.a.fire("Atencion","Cliente no ingreso","error");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):v.a.fire("Error",r.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r[4],t));var s=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,y("clientes/verificados/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,D(c.clientes),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s(),setTimeout((function(){s()}),1e3),x()}}else if(O.indexOf("$")>=0&&t){var o=O.replaceAll("/","-").replaceAll("$","@"),i=O.substring(0,8),l=function(){var e=Object(h.a)(p.a.mark((function e(n,c){var a,r,s,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/dnisinupdate/".concat(i.trim(),"/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:(r=e.sent).ok?(s="".concat(r.cliente.dni),o="".concat(r.cliente.nombre.toUpperCase()," ").concat(r.cliente.apellido.toUpperCase()),l="".concat(r.cliente.tipo),v.a.fire({title:"CLIENTE",html:"<pre> <b>DNI</b> <br/>"+s+"<br/> <b>Nombre completo</b> <br/>"+o+"<br/> <b>Tipo de entrada</b> <br/>"+l+"</pre>",icon:"info",showCancelButton:!0,cancelButtonColor:"#d33"}).then(function(){var e=Object(h.a)(p.a.mark((function e(t){var a,r,s,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=10;break}return e.next=3,y("clientes/hash/".concat(n,"/").concat(c));case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,200===a.status?(s="".concat(r.cliente.dni),o="".concat(r.cliente.nombre.toUpperCase()," ").concat(r.cliente.apellido.toUpperCase()),i="".concat(M()(r.cliente.entrada).format("HH:mm")),v.a.fire({title:"INGRESO VERIFICADO",html:"<pre> <b>DNI</b> <br/>"+s+"<br/> <b>Nombre completo</b> <br/>"+o+"<br/> <b>Horario de entrada</b> <br/>"+i+"</pre>",icon:"success"}).then((function(e){if(e.isConfirmed){var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,y("clientes/verificados/".concat(c));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,D(n.clientes),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){t(),window.location.reload(!1)}),500)}}))):(v.a.fire("Error",r.msg,"error"),window.location.reload()),e.next=12;break;case 10:v.a.fire("Atencion","Cliente no ingreso","error"),window.location.reload();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):(v.a.fire("Error",r.msg,"error"),window.location.reload());case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();l(o.trim(),t),x()}},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{ref:N,autoFocus:!0,autoComplete:"off",type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"C\xd3DIGO...",name:"vDni",value:O||"",onChange:function(e){var t=e.target;f(Object(o.a)(Object(o.a)({},ee),{},Object(R.a)({},t.name,t.value)))}})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center flex-column",children:Object(u.jsxs)("button",{ref:G,type:"submit",className:"btn btn-success btn-lg px-5",title:"Verificar",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Verificar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center flex-column mb-2",children:J?Object(u.jsx)(Ye.a,{onFind:function(e){!function(e){Z(!1),f(Object(o.a)(Object(o.a)({},ee),{},{vDni:e}))}(e)}}):Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){Z(!0)},children:[Object(u.jsx)("i",{className:"fas fa-barcode"})," Scanear"]})}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[B.isMobile?Object(u.jsxs)("h5",{children:["Clientes que ingresaron con ",Object(u.jsx)("b",{children:"ANTICIPADA"})]}):Object(u.jsxs)("h4",{children:["Clientes que ingresaron con ",Object(u.jsx)("b",{children:"ANTICIPADA"})]}),Object(u.jsx)("h4",{className:"border p-2 mb-3 ",children:P.length}),Object(u.jsx)("div",{className:"w-50",children:Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2",onSubmit:function(e){e.preventDefault();var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/searchv/".concat(ne,"/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,D(c.clientess);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()},children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido o DNI completo",type:"text",name:"cSearch",value:ne,onChange:function(e){var n=e.target,c=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.next=3,y("clientes/verificados/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,D(c.clientes),U(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===n.value&&c(),te(Object(o.a)(Object(o.a)({},ee),{},Object(R.a)({},n.name,n.value)))}}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]})}),Object(u.jsx)(Ge,{clientes:W,loading:L}),Object(u.jsx)(We,{}),Object(u.jsx)(je,{dataPerPage:V,totalData:P.length,data:P,setCurrentPage:k})]})})]})},Qe=function(){Object(s.c)((function(e){return e.auth})).rol;var e=Object(l.useHistory)(),t=Object(c.useState)([]),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(s.b)();Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.eventos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-row mb-5",children:a.map((function(t){return Object(u.jsx)("div",{role:"button",onClick:function(){return function(t){o(ne(t)),e.push("/verificar/".concat(t.id))}(t)},children:Object(u.jsx)("div",{className:"card me-3",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:t.nombre}),Object(u.jsx)("p",{className:"card-text",children:t.ubicacion}),Object(u.jsx)("p",{className:"card-text",children:M()(t.fecha).format("DD/MM/YYYY")})]})})},t.id)}))}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})},Je=function(){var e=Object(l.useHistory)(),t=Object(c.useState)([]),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(s.b)();Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.eventos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=function(e){o(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("eventos/".concat(e.id),{evento:e},"DELETE");case 2:return c=t.sent,t.next=5,c.json();case 5:(a=t.sent).ok?v.a.fire("Exito","Eliminado con \xe9xito","success"):v.a.fire("Error",a.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e));var t=setTimeout((function(){window.location.reload()}),500);return function(){return clearTimeout(t)}};return Object(u.jsxs)("div",{className:"container-fluid d-flex justify-content-center align-items-center flex-column",children:[Object(u.jsx)(f.b,{className:"mb-3",to:"/addevento",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-plus-circle"})," Evento"]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"row m-auto",children:a.map((function(t){return Object(u.jsx)("div",{className:"col d-flex justify-content-center align-items-center mb-2",role:"button",children:Object(u.jsxs)("div",{className:"card d-flex justify-content-center align-items-center",style:{width:"12rem"},onClick:function(n){return function(t,n){"button"!==t.target.localName&&"i"!==t.target.localName&&(o(ne(n)),e.push("/detalle/".concat(n.id)))}(n,t)},children:[Object(u.jsx)("button",{className:"btn btn-danger btn-sm align-self-baseline",onClick:function(){return i(t)},children:Object(u.jsx)("i",{className:"fas fa-times fa-xs"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)("b",{children:t.nombre})}),Object(u.jsx)("p",{className:"card-text",children:t.ubicacion}),Object(u.jsx)("p",{className:"card-text",children:M()(t.fecha).format("DD/MM/YYYY")})]})]})},t.id)}))}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},Ze=function(e){var t=e.rpps,n=e.loading,c=Object(s.b)(),a=Object(l.useHistory)();if(n)return Object(u.jsx)("h2",{children:"Cargando..."});var r=function(e){var t;c((t=e,function(){var e=Object(h.a)(p.a.mark((function e(n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/edit/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:a=e.sent,n(C(a.usuario));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){a.push("/editarrrpp/".concat(e))}),500)},o=function(e){c(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("auth/".concat(e),{},"DELETE");case 2:return c=t.sent,t.next=5,c.json();case 5:(a=t.sent).ok?v.a.fire("Exito","RPP eliminado con exito","success"):v.a.fire("Error",a.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),a.push("/controlrpp")},i=function(e,t){c(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var a,r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("auth/desasociarevento/".concat(e,"/").concat(t),{},"DELETE");case 2:return a=n.sent,n.next=5,a.json();case 5:(r=n.sent).ok?v.a.fire("Exito","Evento desasociado con exito","success"):v.a.fire("Error",r.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,t)),a.push("/controlrpp")};return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Estado"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Email"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Password"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Eliminar"}),Object(u.jsx)("th",{className:"text-center small",scope:"col",children:"Asociar Evento"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("tr",{"data-bs-toggle":"collapse",href:"#"+e.apellido+e.nombre,role:"button","aria-expanded":"false","aria-controls":e.uid,children:[Object(u.jsx)("td",{className:"text-center small",children:e.dni}),Object(u.jsx)("td",{className:"text-center small",children:e.nombre}),Object(u.jsx)("td",{className:"text-center small",children:e.apellido}),Object(u.jsx)("td",{className:"text-center small",children:e.estado?Object(u.jsx)("i",{className:"fas fa-check"}):Object(u.jsx)("i",{className:"fas fa-close"})}),Object(u.jsx)("td",{className:"text-center small",style:{maxWidth:"150px",wordWrap:"break-word"},children:e.email}),Object(u.jsx)("td",{className:"text-center small",children:e.passwordShow?e.passwordShow:"-"}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-warning btn-sm",onClick:function(){return r(e.uid)},children:Object(u.jsx)("i",{className:"fas fa-pen-to-square"})})}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return o(e.uid)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-primary btn-sm",onClick:function(){return t=e.uid,c(C(t)),void c(X());var t},children:Object(u.jsx)("i",{className:"fas fa-link"})})})]},e.uid),Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:"12",className:"p-0",children:Object(u.jsx)("div",{className:"collapse",id:e.apellido+e.nombre,children:Object(u.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center small",children:"Evento"}),Object(u.jsx)("th",{className:"text-center small",children:"Rol en Evento"}),Object(u.jsx)("th",{className:"text-center small",children:"Usuario a Cargo"}),Object(u.jsx)("th",{className:"text-center small",children:"Comision por entrada"}),Object(u.jsx)("th",{className:"text-center small",children:"Sub-comision por entrada"}),Object(u.jsx)("th",{className:"text-center small",children:"Entradas FREE por Evento"}),Object(u.jsx)("th",{className:"text-center small",children:"Deuda a RRPP Venta propia"}),Object(u.jsx)("th",{className:"text-center small",children:"Deuda a RRPP por Comision"}),Object(u.jsx)("th",{className:"text-center small",children:"Valor entradas vendidas"}),Object(u.jsx)("th",{className:"text-center small",children:"Ganancia del ADMIN"}),Object(u.jsx)("th",{className:"text-center small",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:e.eventos.length>0&&e.eventos.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center small",children:t.eventoNombre}),Object(u.jsx)("td",{className:"text-center small",children:t.rolEvento}),Object(u.jsx)("td",{className:"text-center small",children:t.rrppNombre?t.rrppNombre:"-"}),Object(u.jsx)("td",{className:"text-center small",children:"$ "+t.comisionEnt}),Object(u.jsx)("td",{className:"text-center small",children:t.comisionRRPP?"$ "+t.comisionRRPP:"-"}),Object(u.jsx)("td",{className:"text-center small",children:t.maxFree}),Object(u.jsx)("td",{className:"text-center small",children:"$ "+t.deuda}),Object(u.jsx)("td",{className:"text-center small",children:"$ "+t.deudaComision}),Object(u.jsx)("td",{className:"text-center small",children:"$ "+t.totalEntradas}),"RRPP"===t.rolEvento?Object(u.jsx)("td",{className:"text-center small",children:t.totalEntradas&&t.deuda||t.deudaComision?"$ "+(t.totalEntradas-t.deuda-t.deudaComision):"-"}):Object(u.jsx)("td",{className:"text-center small",children:t.totalEntradas&&t.deuda?"$ "+(t.totalEntradas-t.deuda):"-"}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return i(e.uid,t.evento)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},t._id)}))})]})})})})]})}))})]})})},Xe={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var $e=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpen,n=Object(s.c)((function(e){return e.auth})),a=n.userAsoc,r=(n.uid,Object(c.useState)()),o=Object(T.a)(r,2),i=o[0],l=o[1],d=Object(c.useState)(""),j=Object(T.a)(d,2),b=j[0],m=j[1],f=Object(c.useState)(""),x=Object(T.a)(f,2),O=x[0],g=x[1],N=Object(s.c)((function(e){return e.eventos})).eventos,C=[],E=0;E<N.length;E++){var k={value:N[E].id,label:N[E].nombre+" - "+M()(N[E].fecha).format("DD/MM/YYYY")};C.push(k)}var S=Object(c.useState)(""),A=Object(T.a)(S,2),P=A[0],R=A[1],I=[];if(i)for(var B=0;B<i.length;B++){var F={value:i[B].uid,label:i[B].nombre+" "+i[B].apellido};I.push(F)}var L=D({rComision:"",rComisionTarjetero:"",rCantidadFree:""}),U=Object(T.a)(L,2),z=U[0],V=U[1],H=z.rComision,q=z.rComisionTarjetero,W=z.rCantidadFree;Object(c.useEffect)((function(){e(re())}),[e]);var G=function(){e($()),e({type:w.startClearUserAsoc,payload:null})},Y=function(){e(function(e,t,n,c,a,r,s){return function(){var o=Object(h.a)(p.a.mark((function o(i){var l,u,d,j,b,m,f;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=c.value,u=c.label,d=t.label,j=n.value,b=t.value,o.next=7,y("auth/asociar",{uid:e,evento:b,rolEvento:j,eventoNombre:d,rrppNombre:u,rrpp:l,comisionEnt:a,comisionRRPP:r,maxFree:s},"POST");case 7:return m=o.sent,o.next=10,m.json();case 10:f=o.sent,201===m.status||v.a.fire("Error",f.msg,"error");case 12:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}(a,P,O,b,H,q,W)),G()};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:G,style:Xe,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black d-flex justify-content-center",children:"Elegir evento"}),Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{className:"form-label",children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:C,value:P,onChange:function(e){R(e);var t=function(){var t=Object(h.a)(p.a.mark((function t(){var n,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("auth/rrppsparaasociar/".concat(e.value));case 2:return n=t.sent,t.next=5,n.json();case 5:c=t.sent,l(c.rpps);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}})})]}),Object(u.jsx)("div",{className:"form-group mb-2",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control",placeholder:"Comision de Entradas de cada RRPP o TARJETERO",name:"rComision",value:H,onChange:V})}),Object(u.jsx)("div",{className:"form-group mb-2",children:Object(u.jsx)("input",{type:"number",title:"Cantidad Free",className:"form-control",placeholder:"Cantidad de clientes FREE de este usuario",name:"rCantidadFree",value:W,onChange:V})}),Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{className:"form-label mb-2",children:Object(u.jsx)("b",{children:"Rol para evento"})}),Object(u.jsx)(fe.a,{className:"form-control mb-2",options:[{value:"RRPP",label:"RRPP"},{value:"TARJETERO",label:"TARJETERO"},{value:"ESPECIAL",label:"ESPECIAL"}],value:O,onChange:function(e){g(e)}})]}),"RRPP"===O.value&&Object(u.jsx)("div",{className:"form-group mb-2",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control",placeholder:"Comision que cobra el RRPP a los TARJETEROS",name:"rComisionTarjetero",value:q,onChange:V})}),"RRPP"!==O.value&&Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",children:Object(u.jsx)("b",{children:"Elegir RRPP para este TARJETERO"})}),Object(u.jsx)(fe.a,{className:"form-control mb-2",options:I,value:b,onChange:function(e){m(e)}})]}),Object(u.jsxs)("button",{onClick:function(){return Y()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-link"}),Object(u.jsx)("span",{children:" Asociar"})]})]})})},_e={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};me.a.setAppElement("#root");var et=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpenn,n=Object(s.c)((function(e){return e.eventos})).eventos,a=[],r=0;r<n.length;r++){var o={value:n[r].id,label:n[r].nombre};a.push(o)}var i=Object(c.useState)(""),l=Object(T.a)(i,2),d=l[0],j=l[1];Object(c.useEffect)((function(){e(re())}),[e]);var b=function(){e(ee())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(me.a,{isOpen:t,onRequestClose:b,style:_e,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento a filtrar"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:a,value:d,onChange:function(e){j(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(ce()),e(ne(d)),void b()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-filter"}),Object(u.jsx)("span",{children:"Filtrar"})]})})]})})},tt=Le.StyleSheet.create({table:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},row:{display:"flex",flexDirection:"row",borderTop:"1px solid #EEE",paddingTop:8,paddingBottom:8},rowRRPP:{display:"flex",flexDirection:"row",border:"2px solid #676767",paddingTop:8,paddingBottom:8},header:{borderTop:"none"},bold:{fontWeight:"bold"}}),nt=function(e){var t=e.datos,n=e.rrpps;return Object(u.jsx)(Le.Document,{children:Object(u.jsx)(Le.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:25},children:Object(u.jsxs)(Le.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Fecha"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px",marginBottom:"5px"},children:"Planilla"}),Object(u.jsx)(Le.Text,{style:{fontSize:"15px"},children:"Cantidad de RRPPs"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"15px",marginBottom:"10px"},children:t.cantRrpp?t.cantRrpp:""}),Object(u.jsxs)(Le.View,{style:tt.table,children:[Object(u.jsxs)(Le.View,{style:[tt.row,tt.bold,tt.header],fixed:!0,children:[Object(u.jsx)(Le.Text,{style:{width:"50%",border:"1px solid black"},children:"DNI"}),Object(u.jsx)(Le.Text,{style:{width:"50%",border:"1px solid black"},children:"NOMBRE"})]}),n.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(Le.View,{style:"RRPP"===e.rol?tt.rowRRPP:tt.row,wrap:!1,children:[Object(u.jsx)(Le.Text,{style:{width:"50%"},children:e.dni}),Object(u.jsxs)(Le.Text,{style:{width:"50%"},children:[e.nombre," ",e.apellido]})]},e.dni),Object(u.jsxs)(Le.View,{style:tt.table,children:[Object(u.jsxs)(Le.View,{style:[tt.row,tt.bold,tt.header],fixed:!0,children:[Object(u.jsx)(Le.Text,{style:{width:"15%",fontSize:"10px",border:"1px solid black"},children:"EVENTO"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"ROL"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"USUARIO"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"DEUDA"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"DEUDA COMISION"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"TOTAL ENTRADAS"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px",border:"1px solid black"},children:"GANANCIA ADMIN"})]}),e.eventos.map((function(e){return Object(u.jsxs)(Le.View,{style:tt.row,wrap:!1,children:[Object(u.jsx)(Le.Text,{style:{width:"15%",fontSize:"10px"},children:e.eventoNombre}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.rolEvento}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.rrppNombre?e.rrppNombre:"-"}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.deuda}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.deudaComision}),Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.totalEntradas}),"RRPP"===e.rolEvento?Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.totalEntradas&&e.deuda||e.deudaComision?e.totalEntradas-e.deuda:"-"}):Object(u.jsx)(Le.Text,{style:{width:"14%",fontSize:"10px"},children:e.totalEntradas&&e.deuda?e.totalEntradas-e.deuda:"-"})]},e.evento)}))]})]})}))]}),Object(u.jsx)(Le.View,{style:tt.table,children:Object(u.jsxs)(Le.View,{style:tt.row,wrap:!1,children:[Object(u.jsx)(Le.Text,{style:{width:"20%"},children:"TOTALES"}),Object(u.jsx)(Le.Text,{style:{width:"30%"},children:"-"}),Object(u.jsx)(Le.Text,{style:{width:"15%",fontSize:"15px",flexWrap:"wrap"},children:t.totalDeuda}),Object(u.jsx)(Le.Text,{style:{width:"20%",fontSize:"15px",flexWrap:"wrap"},children:t.totalEntradas}),Object(u.jsx)(Le.Text,{style:{width:"15%",fontSize:"15px",flexWrap:"wrap"},children:t.totalFavor})]})})]})})})},ct=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.auth})).uid,a=Object(c.useState)(0),r=Object(T.a)(a,2),i=r[0],d=r[1],j=Object(c.useState)(0),b=Object(T.a)(j,2),m=b[0],x=b[1],O=Object(c.useState)(0),v=Object(T.a)(O,2),g=v[0],N=v[1],w=Object(s.c)((function(e){return e.eventos})).isFilter,C=Object(s.c)((function(e){return e.eventos})).activeEvent,E=Object(c.useState)(!1),k=Object(T.a)(E,2),S=k[0],A=k[1],P=Object(c.useState)(0),D=Object(T.a)(P,2),I=(D[0],D[1]),F=Object(c.useState)(1),L=Object(T.a)(F,2),U=L[0],z=L[1],V=Object(c.useState)([]),H=Object(T.a)(V,2),q=H[0],W=H[1],G=Object(c.useState)(!1),Y=Object(T.a)(G,2),K=Y[0],Q=Y[1],J=Object(c.useState)(10),Z=Object(T.a)(J,2),X=Z[0],$=(Z[1],U*X),ee=$-X,te=q.slice(ee,$);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,W(n.rpps),A(!0),I(n.total);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rrpps/".concat(C.value));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,W(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var t=Object(h.a)(p.a.mark((function t(){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q(!0),t.next=3,y("auth/rpps/deudad/".concat(n));case 3:return c=t.sent,t.next=6,c.json();case 6:a=t.sent,d(a.deutotal),x(a.totalentradas),N(a.totalentradas-a.deutotal),w||e(),Q(!1);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c(),w&&t()}),[n,C,w]);var ne=Object(c.useState)({cSearch:""}),ce=Object(T.a)(ne,2),re=ce[0],se=ce[1],oe=function(e){var t=e.target,n=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,W(n.rpps),A(!0),I(n.total);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&n(),se(Object(o.a)(Object(o.a)({},re),{},Object(R.a)({},t.name,t.value)))},ie=re.cSearch,le=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/search/".concat(ie));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,W(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{id:"rpp",className:"container",children:[B.isMobile?Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mb-3",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:le,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:ie,onChange:oe}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),S&&Object(u.jsx)(Le.PDFDownloadLink,{document:Object(u.jsx)(nt,{rrpps:q,datos:{fecha:M()().format("DD-MM-yyyy"),cantRrpp:q.length,totalDeuda:i,totalEntradas:m,totalFavor:g}}),fileName:"planilla-rrpps.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir planilla RRPPs"]})})}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3",children:Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda total a todos los rrpps"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:K?"Cargando...":"$ ".concat(i||0)})]})}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none",to:"/addrpp",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," RRPP"]})})]}):Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-between align-items-center mb-3",children:[Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3 w-100",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2",onSubmit:le,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:ie,onChange:oe}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center w-25",children:Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda total a todos los rrpps"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:K?"Cargando...":"$ ".concat(i||0)})]})}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none",to:"/addrpp",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," RRPP"]})})]}),S&&Object(u.jsx)(Le.PDFDownloadLink,{document:Object(u.jsx)(nt,{rrpps:q,datos:{fecha:M()().format("DD-MM-yyyy"),cantRrpp:q.length,totalDeuda:i,totalEntradas:m,totalFavor:g}}),fileName:"planilla-rrpps.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir planilla RRPPs"]})})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de RRPP"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:q.length}),Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsxs)("button",{className:"btn btn-primary mb-2 me-2",onClick:function(){t(_())},title:"Filtrar por Evento",children:[Object(u.jsx)("i",{className:"fas fa-filter"})," Filtrar por Evento"]}),w&&Object(u.jsxs)("button",{className:"btn btn-outline-danger mb-2 ms-2",onClick:function(){t(ae())},title:"Sacar filtro",children:[Object(u.jsx)("i",{className:"fas fa-close"})," Filtrado por evento: ",C.label]})]}),Object(u.jsx)(Ze,{rpps:te,loading:K}),Object(u.jsx)($e,{}),Object(u.jsx)(et,{}),Object(u.jsx)(je,{dataPerPage:X,totalData:q.length,data:q,setCurrentPage:z}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},at=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),a=Object(l.useLocation)(),r=Object(l.useHistory)(),o=a.pathname.substring(a.pathname.lastIndexOf("/")+1);if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-sm table-bordered table-striped":"table table-sm table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Fecha"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Entrada"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Tipo entrada"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Desasociar"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Editar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:M()(e.fecha).format("DD/MM/YYYY HH:mm")}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),e.entradas.map((function(t){return t.evento===o&&Object(u.jsxs)("td",{className:"text-center",children:["$ ",t.importe]},e.uid)})),e.entradas.map((function(t){return t.evento===o&&Object(u.jsx)("td",{className:"text-center",children:t.tipo},e.uid)})),Object(u.jsx)("td",{className:"text-center",children:e.usuarios.map((function(e){return e.evento===o&&Object(u.jsxs)("pre",{children:[e.nombre," - ",e.apellido," "]},e.usuario)}))}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.uid,c(J(t,o)),void setTimeout((function(){r.push("/detalle/".concat(o))}),500);var t},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return t=e.uid,c(V(t)),void setTimeout((function(){r.push("/editarcliente/".concat(t))}),500);var t},children:"Editar"})})]},e.uid)}))})]})})},rt=function(e){var t=e.datos;return Object(u.jsx)(Le.Document,{children:Object(u.jsx)(Le.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white"},children:Object(u.jsxs)(Le.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Le.Text,{style:{marginTop:"35px",fontSize:"45px"},children:"Evento"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"45px",marginBottom:"10px"},children:t.evento?t.evento:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"35px"},children:"Fecha"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"35px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"30px",marginBottom:"5px"},children:"Detalle"}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Ganancia Total"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.gan?t.gan:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Deuda Total"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.deuTotal?t.deuTotal:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Ganancia anticipadas"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.ganTotal?t.ganTotal:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Ganancia puerta"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.ganPuerta?t.ganPuerta:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Cantidad de Clientes"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.cantCli?t.cantCli:""})]})})})},st=Le.StyleSheet.create({table:{width:"100%"},row:{display:"flex",flexDirection:"row",borderTop:"1px solid #EEE",paddingTop:8,paddingBottom:8},header:{borderTop:"none"},bold:{fontWeight:"bold"},row1:{width:"20%"},row2:{width:"20%"},row3:{width:"20%"},row4:{width:"20%"},row5:{width:"20%"}}),ot=function(e){var t=e.datos,n=e.clientes,c=e.evento;return Object(u.jsx)(Le.Document,{children:Object(u.jsx)(Le.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:25},children:Object(u.jsxs)(Le.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Le.Text,{style:{marginTop:"35px",fontSize:"30px"},children:"Evento"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"30px",marginBottom:"10px"},children:t.evento?t.evento:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Fecha"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px",marginBottom:"5px"},children:"Planilla"}),Object(u.jsx)(Le.Text,{style:{fontSize:"15px"},children:"Cantidad de Clientes"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"15px",marginBottom:"10px"},children:t.cantCli?t.cantCli:""}),Object(u.jsxs)(Le.View,{style:st.table,children:[Object(u.jsxs)(Le.View,{style:[st.row,st.bold,st.header],fixed:!0,children:[Object(u.jsx)(Le.Text,{style:{width:"20%",border:"1px solid black"},children:"DNI"}),Object(u.jsx)(Le.Text,{style:{width:"20%",border:"1px solid black"},children:"NOMBRE"}),Object(u.jsx)(Le.Text,{style:{width:"20%",border:"1px solid black"},children:"APELLIDO"}),Object(u.jsx)(Le.Text,{style:{width:"20%",border:"1px solid black"},children:"USUARIO"}),Object(u.jsx)(Le.Text,{style:{width:"20%",border:"1px solid black"},children:"ENTRADA"})]}),n.map((function(e){return Object(u.jsxs)(Le.View,{style:st.row,wrap:!1,children:[Object(u.jsx)(Le.Text,{style:{width:"20%"},children:e.dni}),Object(u.jsx)(Le.Text,{style:{width:"20%"},children:e.nombre}),Object(u.jsx)(Le.Text,{style:{width:"20%"},children:e.apellido}),e.usuarios.map((function(t){return t.evento===c&&Object(u.jsxs)(Le.Text,{style:{width:"20%",fontSize:"15px",flexWrap:"wrap"},children:[t.nombre," ",t.apellido]},t.usuario+e.dni)})),e.entradas.map((function(t){return t.evento===c&&Object(u.jsxs)(Le.Text,{style:{width:"20%",fontSize:"15px",flexWrap:"wrap"},children:["$ ",t.importe," - ",t.tipo]},t.evento+e.dni)}))]},e.uid)}))]})]})})})},it=function(){var e=Object(l.useHistory)(),t=Object(l.useLocation)(),n=Object(s.b)(),a=Object(s.c)((function(e){return e.auth})).uid,r=t.pathname.substring(t.pathname.lastIndexOf("/")+1),i=Object(c.useState)(!1),d=Object(T.a)(i,2),j=d[0],b=d[1],m=Object(c.useState)(0),f=Object(T.a)(m,2),x=f[0],O=f[1],g=Object(c.useState)(0),N=Object(T.a)(g,2),w=N[0],C=N[1],E=Object(c.useState)(0),k=Object(T.a)(E,2),S=k[0],A=k[1],P=Object(s.c)((function(e){return e.eventos})).activeEvent,D=Object(c.useState)(0),I=Object(T.a)(D,2),F=I[0],L=I[1],U=Object(c.useState)(!1),z=Object(T.a)(U,2),V=z[0],H=(z[1],Object(c.useState)(1)),q=Object(T.a)(H,2),W=q[0],G=q[1],Y=Object(c.useState)([]),K=Object(T.a)(Y,2),Q=K[0],J=K[1],Z=Object(c.useState)(10),X=Object(T.a)(Z,2),$=X[0],_=(X[1],W*$),ee=_-$,te=Q.slice(ee,_);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/evento/".concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,J(n.clientes),b(!0),L(n.total);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/eventos/deugan/".concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,O(n.deutotal),C(n.gantotal),A(n.ganpuerta);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[r]);var ne=function(){var t;n((t=r,function(){var e=Object(h.a)(p.a.mark((function e(n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/abierto",{evento:t},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok?v.a.fire("Exito","Evento abierto con \xe9xito","success"):v.a.fire("Error",a.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){e.push("/controlevento")}),1e3)},ce=function(){var t;n((t=r,function(){var e=Object(h.a)(p.a.mark((function e(n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/finalizado",{evento:t},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok?v.a.fire("Exito","Evento cerrado con \xe9xito","success"):v.a.fire("Error",a.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){e.push("/controlevento")}),1e3)},ae=Object(c.useState)({cSearch:""}),re=Object(T.a)(ae,2),se=re[0],oe=re[1],ie=se.cSearch;return Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:P&&Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:P.nombre})})}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",children:[P&&Object(u.jsx)(Le.PDFDownloadLink,{document:Object(u.jsx)(rt,{datos:{gan:w+S-x,deuTotal:x,ganTotal:w,ganPuerta:S,evento:P.nombre,fecha:M()(P.fecha).format("DD-MM-yyyy"),cantCli:Q.length}}),fileName:"detalle.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir detalle"]})})}),P&&j&&Object(u.jsx)(Le.PDFDownloadLink,{document:Object(u.jsx)(ot,{evento:r,clientes:Q,datos:{evento:P.nombre,fecha:M()(P.fecha).format("DD-MM-yyyy")}}),fileName:"planilla-clientes.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir planilla clientes"]})})})]}),Object(u.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("button",{className:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(u.jsx)("i",{className:"fas fa-cog"})," Acciones"]}),Object(u.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:Object(u.jsxs)("div",{className:"d-grid gap-1",children:[P&&P.finalizado?Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(){ne()},children:[Object(u.jsx)("i",{className:"fas fa-unlock"})," Abrir Evento"]}):Object(u.jsxs)("button",{className:"btn btn-danger",onClick:function(){ce()},children:[Object(u.jsx)("i",{className:"fas fa-lock"})," Cerrar Evento"]}),Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){!function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/resetfree",{uid:a},"POST");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.ok&&v.a.fire("Exito","Clientes FREE desasociados con exito","success");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},children:[Object(u.jsx)("i",{className:"fas fa-broom"})," Limpiar FREE"]}),Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(){!function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/resetingresos");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.ok&&v.a.fire("Exito","Ingresos de clientes reseteados con exito","success");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},children:[Object(u.jsx)("i",{className:"fas fa-arrow-rotate-left"})," Reset Ingreso"]}),Object(u.jsxs)("button",{className:"btn btn-success",onClick:function(t){e.push("/listafree/".concat(r))},children:[Object(u.jsx)("i",{className:"fas fa-list"})," Lista FREE"]}),Object(u.jsxs)("button",{className:"btn btn-warning",onClick:function(t){e.push("/editar/".concat(r))},children:[Object(u.jsx)("i",{className:"fas fa-edit"})," Editar"]})]})})]})})]}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3",children:[Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda a RRPPs"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:V?"Cargando...":"$ ".concat(x||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ingreso de anticipadas"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:V?"Cargando...":"$ ".concat(w)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ingreso por puerta"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:V?"Cargando...":"$ ".concat(S)})]})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25 form-group",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia total"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:V?"Cargando...":"$ ".concat(w+S-x)})]})}),Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-50",onSubmit:function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/searcht/".concat(ie,"/").concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,J(n.clientess);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()},children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese apellido o DNI completo",type:"text",name:"cSearch",value:ie,onChange:function(e){var t=e.target,n=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/evento/".concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,J(n.clientes),b(!0),L(n.total);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&n(),oe(Object(o.a)(Object(o.a)({},se),{},Object(R.a)({},t.name,t.value)))}}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]})}),B.isMobile?Object(u.jsx)("div",{className:"form-group d-flex justify-content-between align-items-start flex-column mb-1",children:Object(u.jsxs)("div",{className:"d-flex justify-content-end align-items-center flex-column",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"Clientes"})}),Object(u.jsx)("h4",{children:F}),Object(u.jsx)(at,{clientes:te,loading:V}),Object(u.jsx)(je,{dataPerPage:$,totalData:Q.length,data:Q,setCurrentPage:G})]})}):Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-start flex-row mb-1",children:Object(u.jsxs)("div",{className:"col-9 d-flex justify-content-end align-items-center flex-column",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"Clientes"})}),Object(u.jsx)("h4",{children:F}),Object(u.jsx)(at,{clientes:te,loading:V}),Object(u.jsx)(je,{dataPerPage:$,totalData:Q.length,data:Q,setCurrentPage:G})]})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/controlevento")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})},lt=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.eventos})).activeEvent,a=Object(c.useState)(n.fecha),r=Object(T.a)(a,2),o=r[0],i=r[1],d=D({eUbicacion:n?n.ubicacion:"",eVip:n?n.vip:"",ePreferencial:n?n.preferencial:"",eGeneral:n?n.general:"",ePuerta:n?n.puerta:""}),j=Object(T.a)(d,2),b=j[0],m=j[1],f=b.eUbicacion,x=b.eVip,O=b.ePreferencial,g=b.eGeneral,N=b.ePuerta;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h3",children:Object(u.jsx)("b",{children:"Nombre del evento"})}),n&&Object(u.jsx)("h3",{className:"text-dark",children:n.nombre})]}),Object(u.jsxs)("form",{onSubmit:function(e){var c,a,r,s,i,l,u;e.preventDefault(),t((c=n.id,a=f,r=x,s=O,i=g,l=N,u=o,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/".concat(c),{ubicacion:a,vip:r,preferencial:s,general:i,fecha:u,puerta:l},"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:(o=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Ubicacion"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eUbicacion",type:"text",value:f,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Fecha"})}),Object(u.jsx)(Fe.a,{onChange:function(e){i(e)},value:o,className:"border rounded-pill text-center form-control",format:"dd-MM-yyyy"})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("h4",{children:"Precios de las entradas"})}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"VIP"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eVip",type:"number",value:x,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Preferencial"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"ePreferencial",type:"number",value:O,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"General"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eGeneral",type:"number",value:g,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Puerta"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"ePuerta",type:"number",value:N,onChange:m})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Actualizar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/controlevento")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})})},ut=M()(),dt=function(){var e=Object(Se.useLocation)(),t=Object(c.useState)(0),n=Object(T.a)(t,2),a=n[0],r=(n[1],e.pathname.split("/")),o=(Object(s.c)((function(e){return e.auth})).uid,Object(c.useState)(ut.toDate())),i=Object(T.a)(o,2),l=i[0],d=i[1],j=Object(Se.useHistory)(),b=Object(s.b)(),m=D({cDni:"",cNombre:"",cApellido:""}),f=Object(T.a)(m,2),x=f[0],O=f[1],v=x.cDni,g=(x.cCelular,x.cNombre),N=x.cApellido,w=Object(s.c)((function(e){return e.eventos})).precios,C=[];w&&(C=[{value:w[0].vip,label:"$".concat(w[0].vip," - VIP")},{value:w[0].general,label:"$".concat(w[0].general," - General")},{value:w[0].preferencial,label:"$".concat(w[0].preferencial," - Preferencial")}]);var E=Object(c.useState)(""),k=Object(T.a)(E,2),S=k[0],A=k[1];Object(c.useEffect)((function(){b(oe(r[2]))}),[]);return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("h3",{children:"Cargar cliente por puerta"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r[2]&&b(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/puerta",{cantidad:e,evento:t},"POST");case 2:return a=n.sent,n.next=5,a.json();case 5:n.sent;case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a,r[2]))},children:[Object(u.jsx)("div",{className:"form-group mb-2",children:Object(u.jsx)("input",{type:"text",title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:v,autoComplete:"off",onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:g,onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:N,onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(Fe.a,{onChange:function(e){d(e)},value:l,className:"form-control mb-3 text-center",format:"dd-MM-yyyy HH:mm:ss"})}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),w&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(fe.a,{options:C,value:S,onChange:function(e){A(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){j.push("/verificar/"+r[2])},children:"Volver"})})]})},jt=M()(),bt=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=document.querySelector("canvas"),c=n&&n.toDataURL("image/jpg",.3),a=Object(s.c)((function(e){return e.auth})).uid,r=Object(s.c)((function(e){return e.ui})).waitQR,o=Object(s.c)((function(e){return e.clientes})).clienteAsoc,i=Object(s.c)((function(e){return e.eventos})).activeEvent,d=D({cNombre:o?o.nombre:"",cApellido:o?o.apellido:"",cCelular:o?o.celular:""}),j=Object(T.a)(d,2),b=j[0],m=j[1],f=(b.cNombre,b.cApellido,b.cCelular),x=function(){var n=Object(h.a)(p.a.mark((function n(r){var s,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),s=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t({type:w.uiOpenModalllll}),l=0;case 4:if(!(l<o.entradas.length)){n.next=13;break}return n.next=7,s(5e3);case 7:return o.entradas[l].evento===i&&t(z(o.dni,f,jt.toDate(),a,o.entradas[l].nombre,o.entradas[l].tipo+" - $"+o.entradas[l].importe,c,o.entradas[l].evento)),n.next=10,s(5e3);case 10:l++,n.next=4;break;case 13:setTimeout((function(){e.goBack()}),500);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h3",children:Object(u.jsx)("b",{children:"DNI"})}),o&&Object(u.jsx)("h3",{className:"text-dark",children:o.dni})]}),Object(u.jsxs)("form",{onSubmit:x,children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Celular"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"cCelular",type:"text",value:f,onChange:m})})]}),!1===r&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Actualizar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]}),Object(u.jsx)(Te,{uid:a,dni:o.dni,celular:f}),Object(u.jsx)(Ce,{})]})},mt=function(){var e=Object(s.c)((function(e){return e.auth})).userAsoc,t=D({rNombre:e?e.nombre:"",rApellido:e?e.apellido:"",rEmail:e?e.email:"",rPassword:e?e.passwordShow:"",rComision:e?e.comisionEnt:"",rComisionTarjetero:e?e.comisionRRPP:"",rCantidadFree:e?e.maxFree:""}),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(s.b)(),i=Object(Se.useHistory)(),l=Object(c.useState)(!0),d=Object(T.a)(l,2),j=d[0],b=d[1],m=a.rNombre,f=a.rApellido,x=a.rPassword,O=a.rEmail;return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:" Actualizar RPP"}),e&&Object(u.jsxs)("h5",{className:"text-center",style:{color:"white"},children:[" DNI - ",e.dni]}),Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===m||""===f||""===x||""===O)return v.a.fire("Error","Debes de rellenar todos los campos","error");var n,c,a,r,s;o((n=e.dni,c=O,a=m,r=x,s=f,function(){var e=Object(h.a)(p.a.mark((function e(t){var o,i,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=s.toUpperCase(),i=a.toUpperCase(),e.next=4,y("auth/editt",{dni:n,email:c,nombre:i,passwordShow:r,apellido:o},"PUT");case 4:return l=e.sent,e.next=7,l.json();case 7:(u=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",u.msg,"error");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){i.goBack()}),500)},children:[Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Nombre"}),Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nombre",name:"rNombre",value:m,onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Apellido"}),Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Apellido",name:"rApellido",value:f,onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Email"}),Object(u.jsx)("input",{type:"email",className:"form-control mb-2",placeholder:"Correo",name:"rEmail",value:O,autoComplete:"new-password",onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center mb-4",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Contrase\xf1a"}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("input",{type:j?"password":"text",className:"w-75 mb-2",placeholder:"Contrase\xf1a",name:"rPassword",value:x,autoComplete:"new-password",onChange:r}),Object(u.jsx)("button",{className:j?"btn btn-success w-25":"btn btn-danger w-25",onClick:function(){b(!j)},type:"button",children:j?"Mostrar":"Ocultar"})]})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Actualizar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){i.push("/controlrpp")},children:"Volver"})})]})},ft=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),a=Object(l.useHistory)(),r=Object(l.useLocation)(),o=r.pathname.substring(r.pathname.lastIndexOf("/")+1),i=Object(s.c)((function(e){return e.auth})).uid;if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:e.entradas.map((function(t){return Object(u.jsxs)("pre",{children:[t.nombre," - $",t.importe," - ",t.tipo]},e.uid)}))}),Object(u.jsx)("td",{className:"text-center",children:e.usuario.nombre+" "+e.usuario.apellido}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){c(V(e)),setTimeout((function(){a.push("/editarcliente/".concat(e))}),500)}(e.uid)},children:"Editar"})}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.uid,c(Z(t,i)),void setTimeout((function(){a.push("/listafree/".concat(o))}),500);var t},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},e.uid)}))})]})})},xt=function(){Object(s.b)();var e=Object(l.useHistory)(),t=Object(Se.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),a=Object(c.useState)(1),r=Object(T.a)(a,2),o=r[0],i=r[1],d=Object(c.useState)([]),j=Object(T.a)(d,2),b=j[0],m=j[1],x=Object(c.useState)(!1),O=Object(T.a)(x,2),v=O[0],g=(O[1],Object(c.useState)(10)),N=Object(T.a)(g,2),w=N[0],C=(N[1],o*w),E=C-w,k=b.slice(E,C);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/getfreeevento/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,m(c.clientes);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);return Object(u.jsxs)("div",{className:"container",children:[B.isMobile?Object(u.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/listaticketsfree/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Lista de tickets free",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Lista de tickets FREE"]})})}):Object(u.jsx)("div",{className:"d-flex flex-row justify-content-center  align-items-center mb-2",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/listaticketsfree/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Lista de tickets free",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Lista de tickets FREE"]})})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Clientes FREE"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:b.length}),Object(u.jsx)(ft,{clientes:k,loading:v}),Object(u.jsx)(je,{dataPerPage:w,totalData:b.length,data:b,setCurrentPage:i}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/detalle/".concat(n))},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},pt=function(e){var t=e.clientes,n=e.loading,c=(Object(s.b)(),Object(l.useHistory)(),Object(l.useLocation)());c.pathname.substring(c.pathname.lastIndexOf("/")+1),Object(s.c)((function(e){return e.auth})).uid;if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"CODIGO"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Estado"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.uid}),Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:e.ticket?Object(u.jsx)("i",{className:"fas fa-check text-success"}):Object(u.jsx)("i",{className:"fas fa-close text-danger"})}),Object(u.jsx)("td",{className:"text-center",children:e.entradas.map((function(t){return Object(u.jsxs)("pre",{children:[t.nombre," - $",t.importe," - ",t.tipo]},e.uid)}))}),Object(u.jsx)("td",{className:"text-center",children:e.usuario.nombre+" "+e.usuario.apellido})]},e.uid)}))})]})})},ht=function(){Object(s.b)();var e=Object(l.useHistory)(),t=Object(Se.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),a=Object(c.useState)(1),r=Object(T.a)(a,2),o=r[0],i=r[1],d=Object(c.useState)([]),j=Object(T.a)(d,2),b=j[0],m=j[1],x=Object(c.useState)(!1),O=Object(T.a)(x,2),v=O[0],g=(O[1],Object(c.useState)(10)),N=Object(T.a)(g,2),w=N[0],C=(N[1],o*w),E=C-w,k=b.slice(E,C);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/getfreetickets/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,m(c.clientes);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);return Object(u.jsxs)("div",{className:"container",children:[B.isMobile?Object(u.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/generartickets/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Generar ticket FREE",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Generar ticket FREE"]})})}):Object(u.jsx)("div",{className:"d-flex flex-row justify-content-center  align-items-center mb-2",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/generartickets/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Generar ticket FREE",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Generar ticket FREE"]})})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Clientes FREE"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:b.length}),Object(u.jsx)(pt,{clientes:k,loading:v}),Object(u.jsx)(je,{dataPerPage:w,totalData:b.length,data:b,setCurrentPage:i}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.goBack()},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},Ot=Le.StyleSheet.create({table:{width:"100%"},row:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",borderTop:"1px solid #EEE",paddingTop:8,paddingBottom:8},header:{borderTop:"none"},bold:{fontWeight:"bold"}}),vt=function(e){var t=e.datos,n=e.clientes;return Object(u.jsx)(Le.Document,{children:Object(u.jsx)(Le.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:25},children:Object(u.jsxs)(Le.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Le.Text,{style:{marginTop:"35px",fontSize:"30px"},children:"Evento"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"30px",marginBottom:"10px"},children:t.evento?t.evento:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Fecha"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Le.Text,{style:{fontSize:"20px"},children:"Usuario"}),Object(u.jsx)(Le.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"5px"},children:t.usuario?t.usuario:""}),Object(u.jsxs)(Le.View,{style:Ot.table,children:[Object(u.jsx)(Le.View,{style:[Ot.row,Ot.bold,Ot.header],fixed:!0,children:Object(u.jsx)(Le.Text,{style:{width:"50%"},children:"CODIGOS"})}),n.map((function(e){return Object(u.jsx)(Le.View,{style:Ot.row,wrap:!1,children:Object(u.jsx)(Le.Text,{style:{width:"50%"},children:e.uid})},e.uid)}))]})]})})})},gt=M()(),Nt=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=Object(l.useHistory)(),a=Object(s.b)(),r=Object(c.useState)(1),o=Object(T.a)(r,2),i=o[0],d=o[1],j=Object(c.useState)([]),b=Object(T.a)(j,2),m=b[0],f=b[1],x=Object(c.useState)({}),O=Object(T.a)(x,2),g=O[0],N=O[1],w=Object(c.useState)(!1),C=Object(T.a)(w,2),E=C[0],k=(C[1],Object(c.useState)(!1)),S=Object(T.a)(k,2),A=S[0],P=S[1],R=Object(c.useState)(10),I=Object(T.a)(R,2),B=I[0],F=(I[1],i*B),L=F-B,U=m.slice(L,F),z=Object(c.useState)([]),V=Object(T.a)(z,2),H=V[0],q=V[1];Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rppstickets");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,q(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/detalle/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,N(c.evento);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}),[t]);for(var W=[],G=0;G<H.length;G++){var Y={value:H[G].uid,label:H[G].nombre+" "+H[G].apellido+"-"+H[G].rol};W.push(Y)}var K=Object(c.useState)(""),J=Object(T.a)(K,2),Z=J[0],X=J[1],$=D({cCantidad:""}),_=Object(T.a)($,2),ee=_[0],te=_[1],ne=ee.cCantidad,ce={value:0,label:"Free"},ae={value:t,label:"Oporto"},re=function(e){n.goBack()},se=Object(c.useState)(["e","E","+","-",".",","]),oe=Object(T.a)(se,1)[0];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("h3",{children:"Generar tickets"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===ne)return v.a.fire("Error","Debes de rellenar todos los campos","error");var t=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,r,s,o){var i,l,u,d,j,b;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.label,l=s.label,u=s.value,!0,e.next=6,y("clientes/freeticket",{cantidad:t,fecha:n,estado:c,usuario:r,evento:l,tipo:i,free:true,eventoid:u},"POST");case 6:return d=e.sent,e.next=9,d.json();case 9:if((j=e.sent).ok){for(f(j.tickets),console.log(j.tickets),l=s,i=o,b=0;b<j.tickets.length;b++)a(Q(j.tickets[b].uid,l,i,r));v.a.fire("Exito","Se generaron ".concat(t," tickets exitosamente"),"success"),P(!0)}else v.a.fire("Error",j.msg,"error");case 11:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s){return e.apply(this,arguments)}}();t(ne,gt.toDate(),!0,Z.value,ae,ce)},children:[Object(u.jsx)("div",{className:"form-group mb-4",children:Object(u.jsx)("input",{type:"number",title:"Ingrese cantidad de tickets a generar",className:"form-control mb-2 border border-primary text-center",placeholder:"Ingrese cantidad de tickets a generar",name:"cCantidad",value:ne,autoComplete:"off",onChange:function(e){return te(e)},onKeyDown:function(e){return oe.includes(e.key)&&e.preventDefault()}})}),Object(u.jsxs)("div",{className:"form-group mb-4",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Elegir usuario"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:W,value:Z,onChange:function(e){X(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Generar tickets"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:re,children:"Volver"})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Tickets generados"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:m.length}),A&&Object(u.jsx)(Le.PDFDownloadLink,{document:Object(u.jsx)(vt,{clientes:m,datos:{evento:g.nombre,fecha:M()(g.fecha).format("DD-MM-yyyy"),usuario:Z.value}}),fileName:"codigos-".concat(Z.label,".pdf"),className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir codigos generados"]})})}),Object(u.jsx)(pt,{clientes:U,loading:E}),Object(u.jsx)(je,{dataPerPage:B,totalData:m.length,data:m,setCurrentPage:d}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:re,children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},yt=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),a=Object(l.useHistory)();if(n)return Object(u.jsx)("h2",{children:"Cargando..."});var r=function(e){var t;c((t=e,function(){var e=Object(h.a)(p.a.mark((function e(n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/delete",{id:t},"DELETE");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok?v.a.fire({title:"Exito",text:"Eliminado con \xe9xito",icon:"success",showConfirmButton:!1}):v.a.fire("Error",a.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){a.push("/controlclientes")}),500)};return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:B.isMobile?"d-block overflow-scroll table table-sm table-bordered table-striped":"table table-sm table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Fecha de carga"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Estado"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Ticket"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Free"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center align-middle small",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("tr",{"data-bs-toggle":"collapse",href:"#"+e.apellido+e.nombre,role:"button","aria-expanded":"false","aria-controls":e.uid,children:[Object(u.jsx)("td",{className:"text-center small",children:e.dni}),Object(u.jsx)("td",{className:"text-center small",children:M()(e.fecha).format("DD-MM-YYYY")}),Object(u.jsx)("td",{className:"text-center small",children:e.nombre}),Object(u.jsx)("td",{className:"text-center small",children:e.apellido}),Object(u.jsx)("td",{className:"text-center small",children:e.celular}),Object(u.jsx)("td",{className:"text-center small",children:e.estado?Object(u.jsx)("i",{style:{color:"green"},className:"fas fa-check"}):Object(u.jsx)("i",{style:{color:"red"},className:"fas fa-close"})}),Object(u.jsx)("td",{className:"text-center small",children:e.esticket?Object(u.jsx)("i",{style:{color:"green"},className:"fas fa-check"}):Object(u.jsx)("i",{style:{color:"red"},className:"fas fa-close"})}),Object(u.jsx)("td",{className:"text-center small",children:e.free?Object(u.jsx)("i",{style:{color:"green"},className:"fas fa-check"}):Object(u.jsx)("i",{style:{color:"red"},className:"fas fa-close"})}),Object(u.jsx)("td",{className:"text-center small",children:e.entradas.map((function(t){return t?Object(u.jsxs)("pre",{children:[t.nombre," - $",t.importe," - ",t.tipo]},e.uid):Object(u.jsx)("pre",{children:"-"},e.uid)}))}),Object(u.jsx)("td",{className:"text-center small",children:e.usuario?e.usuario.nombre+" "+e.usuario.apellido:"-"}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return t=e.uid,c(V(t)),void setTimeout((function(){a.push("/editarclienteadmin/".concat(t))}),500);var t},children:"Editar"})}),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return r(e.uid)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},e.uid),Object(u.jsx)("tr",{children:Object(u.jsx)("td",{colSpan:"12",className:"p-0",children:Object(u.jsx)("div",{className:"collapse",id:e.apellido+e.nombre,children:Object(u.jsxs)("table",{className:"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center small",children:"Evento"}),Object(u.jsx)("th",{className:"text-center small",children:"Entrada"}),Object(u.jsx)("th",{className:"text-center small",children:"PDF URL"}),Object(u.jsx)("th",{className:"text-center small",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center small",children:"Desasociar"})]})}),Object(u.jsx)("tbody",{children:e.entradas.length>0&&e.entradas.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center small",children:t.nombre}),Object(u.jsx)("td",{className:"text-center small",children:"$ "+t.importe+" - "+t.tipo}),Object(u.jsx)("td",{className:"text-center small",children:t.ultComp}),e.usuarios.map((function(e){return t.usuario===e.usuario?Object(u.jsxs)("pre",{children:[e.nombre," ",e.apellido]},e.usuario):Object(u.jsx)("pre",{children:"-"},e.usuario)})),Object(u.jsx)("td",{className:"text-center small",children:Object(u.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return n=e.uid,r=t.evento,c(J(n,r)),void a.push("/controlclientes");var n,r},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},t._id)}))})]})})})})]})}))})]})})},wt=function(){Object(s.c)((function(e){return e.auth})).uid;var e=Object(c.useState)(1),t=Object(T.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(T.a)(r,2),l=i[0],d=i[1],j=Object(c.useState)(!1),b=Object(T.a)(j,2),m=b[0],f=b[1],x=Object(c.useState)(10),O=Object(T.a)(x,2),v=O[0],g=(O[1],n*v),N=g-v,w=l.slice(N,g);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,y("clientes/all");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,d(n.clientes),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=Object(c.useState)({cSearch:""}),E=Object(T.a)(C,2),k=E[0],S=E[1],A=function(e){var t=e.target,n=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,y("clientes/all");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,d(n.clientes),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&n(),S(Object(o.a)(Object(o.a)({},k),{},Object(R.a)({},t.name,t.value)))},P=k.cSearch,D=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/searchtadmin/".concat(P));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,d(n.clientess);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{className:"container",children:[B.isMobile?Object(u.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:D,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido o el DNI de cliente",type:"text",name:"cSearch",value:P,onChange:A}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]})}):Object(u.jsx)("div",{className:"d-flex flex-column justify-content-between align-items-center",children:Object(u.jsx)("div",{className:"form-group d-flex flex-row justify-content-center align-items-center mb-2 w-100",children:Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:D,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda de cliente por apellido",placeholder:"Ingrese el apellido o el DNI de cliente",type:"text",name:"cSearch",value:P,onChange:A}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]})})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Clientes"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:l.length}),Object(u.jsx)(yt,{clientes:w,loading:m}),Object(u.jsx)(je,{dataPerPage:v,totalData:l.length,data:l,setCurrentPage:a})]})]})},Ct=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.clientes})).clienteAsoc,c=D({cNombre:n?n.nombre:"",cApellido:n?n.apellido:"",cCelular:n?n.celular:""}),a=Object(T.a)(c,2),r=a[0],o=a[1],i=r.cNombre,d=r.cApellido,j=r.cCelular;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h3",children:Object(u.jsx)("b",{children:"DNI"})}),n&&Object(u.jsx)("h3",{className:"text-dark",children:n.dni})]}),Object(u.jsxs)("form",{onSubmit:function(c){var a,r,s,o;c.preventDefault(),t((a=n.dni,r=i,s=d,o=j,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/edittadmin",{dni:a,nombre:r,apellido:s,celular:o},"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",c.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){e.goBack()}),500)},children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Nombre"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"cNombre",type:"text",value:i,onChange:o})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Apellido"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"cApellido",type:"text",value:d,onChange:o})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Celular"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"cCelular",type:"text",value:j,onChange:o})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Actualizar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/controlclientes")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})})},Et=M()(),kt=function(){for(var e=Object(c.useState)(!1),t=Object(T.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(T.a)(r,2),i=o[0],l=o[1],d=document.querySelector("canvas"),j=d&&d.toDataURL("image/jpg",.3),b=Object(s.c)((function(e){return e.auth})).uid,m=Object(s.c)((function(e){return e.clientes})).body,f=Object(Se.useHistory)(),x=Object(s.b)(),O=D({cNombre:"",cApellido:""}),g=Object(T.a)(O,4),N=g[0],w=g[1],C=g[2],E=g[3],k=Re({cDni:""}),S=Object(T.a)(k,2),A=S[0],P=S[1],R=D({cCelular:""}),I=Object(T.a)(R,5),B=I[0],F=I[1],L=I[2],U=(I[3],I[4]),z=B.cCelular,V=N.cNombre,H=N.cApellido,q=A.cDni,G=Object(s.c)((function(e){return e.eventos})),Y=G.eventos,K=G.precios,J=[],Z=0;Z<Y.length;Z++){var X={value:Y[Z].id,label:Y[Z].nombre+" - "+M()(Y[Z].fecha).format("DD/MM/YYYY")};J.push(X)}var $=[];K&&($=[{value:0,label:"Invitado Especial"}]);var _=$.filter((function(e){return e})),ee=Object(c.useState)(""),te=Object(T.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(""),re=Object(T.a)(ae,2),ie=re[0],le=re[1];Object(c.useEffect)((function(){if(x(se(b)),m)if("error"===m.status)C(),L(),x(W()),a(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");E(t,m.cliente.apellido,e,m.cliente.nombre,n,m.cliente.celular),U(n,m.cliente.celular),a(!0),l(!0),x(W())}}),[b,x,m,E,U,C,L]);var ue=Object(c.useState)(["e","E","+","-",".",","]),de=Object(T.a)(ue,1)[0];return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("h3",{children:"Cargar cliente"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===z||""===q||""===H||""===V||""===ne||""===ie)return v.a.fire("Error","Debes de rellenar todos los campos","error");if(i){var t=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r,s,o){var i,l,u,d,j,b,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.label,l=r.value,u=s.label,!1,!1,e.next=7,y("clientes/update",{dni:t,celular:n,fecha:c,usuario:a,dataUrl:o,evento:i,tipo:u,free:false,eventoid:l,ticket:false},"POST");case 7:return d=e.sent,e.next=10,d.json();case 10:(j=e.sent).ok?(x(Q(j.cliente.uid,r,s,a,n)),v.a.fire("Exito","Cliente actualizado con \xe9xito","success"),b=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(l,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){b(q.trim(),r.value)}),1e3)):j.oki?(x(Q(j.cliente.uid,r,s,a,n)),v.a.fire("Exito","Cliente asociado con \xe9xito","success"),m=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(l,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){m(q.trim(),r.value)}),1e3)):v.a.fire("Error",j.msg,"error");case 12:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,o){return e.apply(this,arguments)}}();t(q.trim(),z,Et.toDate(),b,ne,ie,j),a(!1),l(!1)}else{var n=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r,s,o,i,l,u){var d,j,b,m,f,O,g,N,w;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=l.label,j=i.label,b=i.value,!1,!1,m=n.toUpperCase(),f=c.toUpperCase(),e.next=9,y("clientes",{dni:t,nombre:m,apellido:f,celular:a,fecha:r,estado:s,usuario:o,dataUrl:u,evento:j,tipo:d,free:false,eventoid:b,ticket:false},"POST");case 9:return O=e.sent,e.next=12,O.json();case 12:(g=e.sent).ok?(x(Q(g.cliente.uid,i,l,o,a)),v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success"),N=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(b,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){N(q.trim(),i.value)}),1e3)):g.oki?(x(Q(g.cliente.uid,i,l,o,a)),v.a.fire("Exito","Cliente asociado con \xe9xito","success"),w=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&v.a.fire({title:"Exito",text:a.msg,icon:"success",confirmButtonText:"OK. Abrir WSP WEB"}).then((function(e){e.isConfirmed&&(window.open("https://wa.me/549".concat(z,"?text=https://event-a.herokuapp.com/descargapdf/").concat(b,"/").concat(a.id)),setTimeout((function(){window.location.reload(!1)}),1e3))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){w(q.trim(),i.value)}),1e3)):v.a.fire("Error",g.msg,"error");case 14:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,o,i,l,u){return e.apply(this,arguments)}}();n(q.trim(),V.trim(),H.trim(),z,Et.toDate(),!0,b,ne,ie,j),a(!1),l(!1)}},children:[Object(u.jsxs)("div",{className:"form-group mb-3",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Ingresar DNI sin puntos ni espacios"}),Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:q,autoComplete:"off",onChange:function(e){return P(e)},onKeyDown:function(e){return de.includes(e.key)&&e.preventDefault()}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Cod.\xc1rea+N\xba Celular"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{style:{color:"white"},children:"Ejemplo: 3482012345"})]}),Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:z,onChange:F})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:V,disabled:n,onChange:w})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:H,disabled:n,onChange:w})}),Object(u.jsx)("h3",{children:"Elegir evento"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(fe.a,{options:J,value:ne,onChange:function(e){ce(e),x(oe(e.value))}})}),Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),K&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(fe.a,{options:_,value:ie,onChange:function(e){le(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){f.push("/")},children:"Volver"})}),Object(u.jsx)(Te,{uid:b,dni:q,celular:z})]})},St=function(){var e=Object(s.c)((function(e){return e.auth})).rol,t=Object(c.useState)(!1),n=Object(T.a)(t,2),a=n[0],r=n[1],o=Object(c.useState)(!1),i=Object(T.a)(o,2),d=(i[0],i[1]);return Object(c.useEffect)((function(){"ADMIN"===e&&r(!0),"RRPP"===e&&d(!0)}),[r,d,e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ve,{}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:Object(u.jsxs)(l.Switch,{children:[Object(u.jsx)(l.Route,{exact:!0,path:"/",component:ke}),a?Object(u.jsx)(l.Route,{path:"/addrpp",component:ze}):Object(u.jsx)(l.Route,{path:"/addcliente",component:Ie}),a&&Object(u.jsx)(l.Route,{path:"/addevento",component:Me}),a&&Object(u.jsx)(l.Route,{exact:!0,path:"/verificar",component:Qe}),a&&Object(u.jsx)(l.Route,{exact:!0,path:"/controlrpp",component:ct}),a&&Object(u.jsx)(l.Route,{exact:!0,path:"/controlevento",component:Je}),a&&Object(u.jsx)(l.Route,{exact:!0,path:"/verificar/:id",component:Ke}),a&&Object(u.jsx)(l.Route,{path:"/verificar/:id/addcliente",component:dt}),a&&Object(u.jsx)(l.Route,{path:"/editar/:idevento",component:lt}),a&&Object(u.jsx)(l.Route,{path:"/editarrrpp/:idrrpp",component:mt}),a&&Object(u.jsx)(l.Route,{path:"/listafree/:idevento",component:xt}),a&&Object(u.jsx)(l.Route,{path:"/controlclientes",component:wt}),a&&Object(u.jsx)(l.Route,{path:"/listaticketsfree/:idevento",component:ht}),a&&Object(u.jsx)(l.Route,{path:"/generartickets/:idevento",component:Nt}),a&&Object(u.jsx)(l.Route,{path:"/editarclienteadmin/:idcliente",component:Ct}),Object(u.jsx)(l.Route,{path:"/editarcliente/:idcliente",component:bt}),Object(u.jsx)(l.Route,{path:"/addclienteespecial",component:kt}),a&&Object(u.jsx)(l.Route,{path:"/detalle/:idevento",component:it}),Object(u.jsx)(l.Route,{path:"*",component:He}),Object(u.jsx)(l.Redirect,{to:"/"})]})})})]})},At=function(){var e=Object(l.useHistory)(),t=D({cId:""}),n=Object(T.a)(t,2),c=n[0],a=n[1],r=c.cId,s=function(t){t.preventDefault();var n=function(){var t=Object(h.a)(p.a.mark((function t(n){var c,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N("clientes/ingresofree",{id:n},"POST");case 2:return c=t.sent,t.next=5,c.json();case 5:(a=t.sent).ok?(localStorage.setItem("token",a.token),localStorage.setItem("token-init-date",(new Date).getTime()),v.a.fire("Exito","Codigo v\xe1lido, a continuacion actualice sus datos","success"),e.push("/logincliente/".concat(n))):v.a.fire("Error",a.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();n(r.trim())};return Object(u.jsx)(u.Fragment,{children:B.isMobile?Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row ",children:Object(u.jsxs)("div",{className:"col-md-11 col-11 login-form-1 mt-5",children:[Object(u.jsx)("h3",{children:"Ingreso FREE"}),Object(u.jsxs)("form",{onSubmit:s,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Codigo",name:"cId",value:r,onChange:a})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]}):Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row mt-4",children:Object(u.jsxs)("div",{className:"col-md-6 col-6 me-5 login-form-3",children:[Object(u.jsx)("h3",{children:"Ingreso FREE"}),Object(u.jsxs)("form",{onSubmit:s,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Codigo",name:"cId",value:r,onChange:a})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]})})},Pt=function(e){var t=e.uid,n=e.dni,a=e.celular,r=Object(c.useState)(""),s=Object(T.a)(r,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("clientes/sethashsintoken",{uid:t,dni:n,celular:a},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,i(n+a+r.hash);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,a]),Object(u.jsx)("div",{children:Object(u.jsx)(Pe.a,{className:"d-none",value:"".concat(o),size:128,level:"H"})})},Tt=M()(),Rt=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=document.querySelector("canvas"),a=n&&n.toDataURL("image/jpg",.3),r=Object(c.useState)(!1),i=Object(T.a)(r,2),d=i[0],j=i[1],b=Object(c.useState)(!1),m=Object(T.a)(b,2),f=m[0],x=m[1],O=Object(c.useState)(""),g=Object(T.a)(O,2),w=g[0],C=g[1],E=Object(c.useState)(""),k=Object(T.a)(E,2),A=(k[0],k[1]),P=Object(c.useState)(""),I=Object(T.a)(P,2),B=I[0],F=I[1],L=Object(c.useState)(""),U=Object(T.a)(L,2),M=(U[0],U[1]),z=Object(s.c)((function(e){return e.clientes})),V=z.body,H=z.cargando,G=Object(Se.useHistory)(),Q=Object(s.b)(),J=D({cNombre:"",cApellido:""}),Z=Object(T.a)(J,4),X=Z[0],$=Z[1],_=(Z[2],Z[3]),ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(T.a)(t,2),a=n[0],r=n[1],i=Object(s.b)(),l=function(){r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e)},u=function(e){var t=e.target,n=!!t.value.includes("."),c=!!t.value.includes(",");if(n||c)return v.a.fire("Error","El DNI ingresado no puede contener caracteres como: . o ,","error");if(8===t.value.length){var s=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(Y()),e.next=3,N("clientes/verificardbsintoken/".concat(t.value));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,i(K()),i(q(c));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s()}r(Object(o.a)(Object(o.a)({},a),{},Object(R.a)({},t.name,t.value)))};return[a,u,l]}({cDni:""}),te=Object(T.a)(ee,2),ne=te[0],ce=te[1],ae=D({cCelular:""}),re=Object(T.a)(ae,5),se=re[0],oe=re[1],ie=(re[2],re[3],re[4]),le=se.cCelular,ue=X.cNombre,de=X.cApellido,je=ne.cDni;Object(c.useEffect)((function(){if(V)if("error"===V.status)Q(W()),j(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");_(t,V.cliente.apellido,e,V.cliente.nombre,n,V.cliente.celular),ie(n,V.cliente.celular),j(!0),x(!0),Q(W())}}),[Q,V,_,ie]),Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("clientes/edit/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,C(c.cliente.uid),A(c.cliente.evento),M(c.cliente.tipo),F(c.cliente.entradas[c.cliente.entradas.length-1].evento);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var be=Object(c.useState)(["e","E","+","-",".",","]),me=Object(T.a)(be,1)[0];return Object(u.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4 mt-1",children:[Object(u.jsx)("h4",{style:{"text-align":"center",color:"white"},children:"Ingreso al evento con DNI real en mano"}),Object(u.jsx)("p",{style:{"text-align":"center",color:"white"},children:"Como ultima instancia llevar QR generado de esta carga"}),Object(u.jsx)("p",{style:{"text-align":"center",color:"white"},children:"Guardar comprobante QR en el celular"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===le||""===je||""===de||""===ue)return v.a.fire("Error","Debes de rellenar todos los campos","error");if(f){var n=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r){var s,o,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/autoupdatefree",{id:t,dni:n,celular:c,fecha:a,dataUrl:r},"PUT");case 2:return s=e.sent,e.next=5,s.json();case 5:(o=e.sent).ok?(v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success"),i=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("clientes/fileuploadsintoken",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&(v.a.fire({title:"Exito",text:a.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){window.open("".concat(a.pdfurl)),Q(S()),G.push("/logincliente")}),1500));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){i(je,B)}),1e3)):(v.a.fire("Error",o.msg,"error"),Q(S()),G.push("/logincliente"));case 7:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r){return e.apply(this,arguments)}}();n(t,je,le,Tt.toDate(),a)}else{var c=function(){var e=Object(h.a)(p.a.mark((function e(t,n,c,a,r,s,o){var i,l,u,d,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.toUpperCase(),console.log(i),l=a.toUpperCase(),console.log(l),e.next=6,y("clientes/autocargafree",{id:t,dni:n,nombre:i,apellido:l,celular:r,fecha:s,dataUrl:o},"PUT");case 6:return u=e.sent,e.next=9,u.json();case 9:(d=e.sent).ok?(v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success"),j=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("clientes/fileuploadsintoken",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:(a=e.sent).ok&&(v.a.fire({title:"Exito",text:a.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){window.open("".concat(a.pdfurl)),Q(S()),G.push("/logincliente")}),1500));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),setTimeout((function(){j(n,B)}),1e3)):(v.a.fire("Error",d.msg,"error"),Q(S()),G.push("/logincliente"));case 11:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,s,o){return e.apply(this,arguments)}}();c(t,je,ue,de,le,Tt.toDate(),a)}},children:[Object(u.jsx)("p",{style:{"text-align":"center",color:"white"},children:"INGRESE SUS DATOS PARA CARGARSE EN EL SISTEMA"}),Object(u.jsx)("div",{className:"form-group mb-5",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:je,autoComplete:"off",onChange:function(e){return ce(e)},onKeyDown:function(e){return me.includes(e.key)&&e.preventDefault()}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:H?"Cargando...":"Celular",name:"cCelular",id:"cCelular",value:le,onChange:oe})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:d?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:H?"Cargando...":"Nombre",name:"cNombre",id:"cNombre",value:ue,disabled:d,onChange:$})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:d?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:H?"Cargando...":"Apellido",name:"cApellido",id:"cApellido",value:de,disabled:d,onChange:$})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar"})})]})]}),Object(u.jsx)(Pt,{uid:w,dni:je,celular:le})]})},Dt=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=e.pathname.split("/")[2],a=Object(c.useState)(""),r=Object(T.a)(a,2),s=r[0],o=r[1],i=Object(c.useState)(""),d=Object(T.a)(i,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var c,a,r,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N("clientes/clientepapdf/".concat(n,"/").concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:"error"===(a=e.sent).status?v.a.fire("Error",a.message,"error"):(o(a.cliente),r=a.url.split("/",6),s=a.url.split("/"),i=r[0]+"/"+r[1]+"/"+r[2]+"/"+r[3]+"/"+r[4]+"/"+r[5]+"/fl_attachment/"+s[6]+"/"+s[7],b(i));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4 mt-5",children:[Object(u.jsx)("h4",{style:{textAlign:"center",color:"white"},children:"DESCARGAR PDF DEL EVENTO"}),Object(u.jsx)("hr",{style:{color:"white"}}),s&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("a",{className:"btn btn-lg btn-success",style:{textAlign:"center",color:"white"},href:j,target:"_blank",download:"comprobante-"+s.dni,rel:"noreferrer",children:"Descargar PDF"})})]})})},It=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),n=t.checking,a=t.uid;return Object(c.useEffect)((function(){e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(k({uid:c.uid,nombre:c.nombre,rol:c.rol}))):t(E());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(u.jsx)(P,{checking:n}):Object(u.jsx)(f.a,{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsxs)(l.Switch,{children:[Object(u.jsx)(m,{exact:!0,isAuthenticated:!!a,path:"/login",component:F}),Object(u.jsx)(m,{exact:!0,isAuthenticated:!!a,path:"/logincliente",component:At}),Object(u.jsx)(m,{exact:!0,isAuthenticated:!!a,path:"/logincliente/:id",component:Rt}),Object(u.jsx)(m,{exact:!0,isAuthenticated:!!a,path:"/descargapdf/:idevento/:id",component:Dt}),Object(u.jsx)(j,{isAuthenticated:!!a,path:"/",component:St}),Object(u.jsx)(l.Redirect,{to:"/"})]})})})})},Bt=n(74),Ft=n(267),Lt={checking:!0,userAsoc:null},Ut={clienteAsoc:null,cargando:!1},Mt=n(53),zt={activeEvent:null,currentPage:1,eventos:[],precios:null,isFilter:!1},Vt={modalOpen:!1,modalOpenn:!1,modalOpennn:!1,modalOpennnn:!1,modalOpennnnn:!1,waitQR:!1,estadoWsp:"Desconectado"},Ht=Object(Bt.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.uiOpenModal:return Object(o.a)(Object(o.a)({},e),{},{modalOpen:!0});case w.waitQr:return Object(o.a)(Object(o.a)({},e),{},{waitQR:!0});case w.stopWaitQr:return Object(o.a)(Object(o.a)({},e),{},{waitQR:!1});case w.uiOpenModall:return Object(o.a)(Object(o.a)({},e),{},{modalOpenn:!0});case w.uiOpenModalll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennn:!0});case w.uiOpenModallll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennnn:!0});case w.uiOpenModalllll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennnnn:!0});case w.uiCloseModal:return Object(o.a)(Object(o.a)({},e),{},{modalOpen:!1});case w.uiCloseModall:return Object(o.a)(Object(o.a)({},e),{},{modalOpenn:!1});case w.uiCloseModalll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennn:!1});case w.uiCloseModallll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennnn:!1});case w.uiCloseModalllll:return Object(o.a)(Object(o.a)({},e),{},{modalOpennnnn:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.authLogin:return Object(o.a)(Object(o.a)({},e),{},{checking:!1},t.payload);case w.userAsociar:case w.startClearUserAsoc:return Object(o.a)(Object(o.a)({},e),{},{userAsoc:t.payload});case w.authCheckingFinish:return Object(o.a)(Object(o.a)({},e),{},{checking:!1});case w.authLogout:return{checking:!1};default:return e}},eventos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.eventSetActive:return Object(o.a)(Object(o.a)({},e),{},{activeEvent:t.payload});case w.eventAddNew:return Object(o.a)(Object(o.a)({},e),{},{eventos:[].concat(Object(Mt.a)(e.events),[t.payload])});case w.eventClearActiveEvent:return Object(o.a)(Object(o.a)({},e),{},{activeEvent:null});case w.eventUpdate:return Object(o.a)(Object(o.a)({},e),{},{eventos:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case w.eventDelete:return Object(o.a)(Object(o.a)({},e),{},{eventos:e.events.filter((function(t){return t.id!==e.activeEvent.id})),activeEvent:null});case w.eventosLoaded:return Object(o.a)(Object(o.a)({},e),{},{eventos:Object(Mt.a)(t.payload.eventos)});case w.eventosByRppLoaded:return Object(o.a)(Object(o.a)({},e),{},{eventos:Object(Mt.a)(t.payload.eventosRpp)});case w.setPrice:return Object(o.a)(Object(o.a)({},e),{},{precios:[t.payload]});case w.rppLoaded:return Object(o.a)(Object(o.a)({},e),{},{rpps:Object(Mt.a)(t.payload.rpps),total:t.payload.total});case w.eventLogout:return Object(o.a)(Object(o.a)({},e),{},{eventos:[]});case w.currentPage:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.payload});case w.isFilter:return Object(o.a)(Object(o.a)({},e),{},{isFilter:!0});case w.ClearisFilter:return Object(o.a)(Object(o.a)({},e),{},{isFilter:!1});default:return e}},clientes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.clienteAsociar:case w.startClearClienteAsoc:return Object(o.a)(Object(o.a)({},e),{},{clienteAsoc:t.payload});case w.setLoading:return Object(o.a)(Object(o.a)({},e),{},{cargando:!0});case w.setClearLoading:return Object(o.a)(Object(o.a)({},e),{},{cargando:!1});case w.setClientes:return Object(o.a)(Object(o.a)({},e),{},{clientes:t.payload});case w.pasarBody:return Object(o.a)(Object(o.a)({},e),{},{body:t.payload});case w.borrarBody:return Object(o.a)(Object(o.a)({},e),{},{body:null});default:return e}}}),qt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Bt.c,Wt=Object(Bt.d)(Ht,qt(Object(Bt.a)(Ft.a))),Gt=function(){return Object(u.jsx)(s.a,{store:Wt,children:Object(u.jsx)(It,{})})};n(611),n(612),n(613),n(614);r.a.render(Object(u.jsx)(Gt,{}),document.getElementById("root"))},92:function(e,t,n){}},[[616,1,2]]]);
//# sourceMappingURL=main.a095b407.chunk.js.map