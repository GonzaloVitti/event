(this["webpackJsonpevent-app"]=this["webpackJsonpevent-app"]||[]).push([[0],{329:function(e,t){},331:function(e,t){},365:function(e,t){},366:function(e,t){},446:function(e,t){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){},609:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(44),a=n.n(r),s=n(7),o=n(11),i=n(37),l=n(26),u=n(1),j=["isAuthenticated","component"],d=function(e){var t=e.isAuthenticated,n=e.component,c=Object(i.a)(e,j);return localStorage.setItem("lastPath",c.location.pathname),Object(u.jsx)(l.Route,Object(o.a)(Object(o.a)({},c),{},{component:function(e){return t?Object(u.jsx)(n,Object(o.a)({},e)):Object(u.jsx)(l.Redirect,{to:"/login"})}}))},b=["isAuthenticated","component"],m=function(e){var t=e.isAuthenticated,n=e.component,c=Object(i.a)(e,b);return Object(u.jsx)(l.Route,Object(o.a)(Object(o.a)({},c),{},{component:function(e){return t?Object(u.jsx)(l.Redirect,{to:"/"}):Object(u.jsx)(n,Object(o.a)({},e))}}))},f=n(19),x=n(5),p=n.n(x),h=n(8),O=n(9),v=n.n(O),g="https://event-a.herokuapp.com/api",N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(g,"/").concat(e);return"GET"===n?fetch(c):fetch(c,{method:n,headers:{"Content-type":"application/json"},body:JSON.stringify(t)})},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",c="".concat(g,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(c,{method:n,headers:{"x-token":r}}):fetch(c,{method:n,headers:{"Content-type":"application/json","x-token":r},body:JSON.stringify(t)})},C={uiOpenModal:"[UI] Open Modal",uiCloseModal:"[UI] Close Modal",uiOpenModall:"[UI] Open Modall",uiCloseModall:"[UI] Close Modall",eventStartAddNew:"[Calendar] Start add new",eventAddNew:"[Calendar] Add new",eventSetActive:"[Calendar] Set active",eventClearActiveEvent:"[Calendar] Clear active event",eventUpdate:"[Calendar] Update event",eventDelete:"[Calendar] Delete event",eventosLoaded:"[Eventos] Eventos cargados",eventosByRppLoaded:"[Eventos] Eventos de RPP cargados",eventLogout:"[Calendar] Events logout",currentPage:"[Page] Current Page",authChecking:"[Auth] Checking login state",authCheckingFinish:"[Auth] Finish checking login state",authStartLogin:"[Auth] Start login",authLogin:"[Auth] Login",authStartRegister:"[Auth] Start register",authStartTokenRenew:"[Auth] Start token renew",authLogout:"[Auth] Logout",userAsociar:"[Usuario] Listo para asociar",startClearUserAsoc:"[Usuario] Limpiando usuario",clienteAsociar:"[Cliente] Listo para asociar",startClearClienteAsoc:"[Cliente] Limpiando cliente",setPrice:"[Evento] Cargando precios de evento",setLoading:"[UI] Recargando",getEstadoWsp:"[UI] Obteniendo estado Wsp",setClientes:"[Clientes] Obteniendo clientes",pasarBody:"[Clientes] Pasando resultado",borrarBody:"[Clientes] Borrando resultado",ClearisFilter:"[Evento] Limpiando filtro por evento",isFilter:"[Evento] Filtrando por evento"},w=function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var r,a,s;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.value,n.next=3,y("auth/asociar",{uid:e,evento:r},"POST");case 3:return a=n.sent,n.next=6,a.json();case 6:s=n.sent,201===a.status||v.a.fire("Error",s.msg,"error");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e){return{type:C.userAsociar,payload:e}},S=function(){return{type:C.startClearUserAsoc,payload:null}},A=function(){return{type:C.authCheckingFinish}},k=function(e){return{type:C.authLogin,payload:e}},P=function(){return{type:C.authLogout}},R=function(e){var t=e.checking,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(t){var e=n,c=!1;return function e(t,n){t.current&&t.current.classList.add(n),setTimeout((function(){c||(t.current.classList.remove(n),setTimeout((function(){e(t,n)}),500))}),2e3)}(e,"dots--animate"),function(){null===e.current&&(c=!0)}}}),[t,n]),Object(u.jsx)("div",{className:"body__loading",children:Object(u.jsxs)("h1",{children:["Cargando",Object(u.jsxs)("div",{ref:n,className:"dots",children:[Object(u.jsx)("span",{className:"dot z"}),Object(u.jsx)("span",{className:"dot f"}),Object(u.jsx)("span",{className:"dot s"}),Object(u.jsx)("span",{className:"dot t",children:Object(u.jsx)("span",{className:"dot l"})})]})]})})},D=n(6),T=n(25),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(D.a)(t,2),r=n[0],a=n[1],s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;a(t)},i=function(e){var t=e.target;a(Object(o.a)(Object(o.a)({},r),{},Object(T.a)({},t.name,t.value)))},l=function(e,t,n,c,s,i){var l;a(Object(o.a)(Object(o.a)({},r),{},(l={},Object(T.a)(l,e.name,t),Object(T.a)(l,n.name,c),Object(T.a)(l,s.name,i),l)))},u=function(e,t){a(Object(o.a)(Object(o.a)({},r),{},Object(T.a)({},e.name,t)))};return[r,i,s,l,u]},I="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAokSURBVHic5ZtrkBxVFcd/587sJpt9Z01CliTEmLghCFoFaHgUkkCJ8MFHUUYCksgzgqWUpZZF8YF8UUtK/IASKhCNUJQKJUWBIAQIAQKiVoAqgkggMeS12bzYnZl9Znb6+KG7Z2739O7O9PaOVHmqZqfn9u3T5/+/55577ule+D8XqdmdHtXU9BmZ0/J5pwsjs1W10XFoBsBxBlAZQJ2jGH2fjll7WSGjtTBrygiYs6WncShff3FeZQVwsSqfcZRpqqAojoJ7jHfg/VAFyIP+G3VeQnkRU/8Sq2ZmpsLOZAlYr6b13Mwlgq4pIF9X1UbHwlUCPSEB4bZh0KdAHiI351nWST4pk5MhYIfWdRzvW+2o3K7KUlVwAFUPKJMmACge70f5FYM8wLrOwcmaPmkCZm3p+6YqdyksKIKaWgL89h6UO1jTuRkRrTkBs57LLDHKBge91LezxgR4bfo34BbWzn87Dg4T56K5z2WuTcGbCJfGuT5hOR/ln2zedxuqVQ9oVRcs/qtOG67PbHBUrneKo678jz3A7vMYgw3f5ruz+yvFVLEHzNnS0zhcn31CkesrvabmonIlDUPb+N0Hsyq9pCICTn0h2zEt3fAycFls42on56B123ng4LxKOk9IQOdfumekDU8AZ0/atNpJFzK6hU0HZk7UcVwCzt6hdfVNTY8BFyRmWu1kGTr6FBu7Z4zXaVwC+nK5nwFfTtSs2sp5MPKb8TqMScCilzNXKPwweZtqLKLXsXHv2rFORxKw+JXcLFF5iFruFqdSRO/lvr0Lo06lI/ujv1DoiHu/GxuO8IWOegBUfA4FO19VSu2hm5e3AffsPMHrzI5rUiPG2QBcET5RdqeuV7IXOMp2R5FSQjNGUkN0IrRxXh+rzjwtrrGRsvrBrfzpaB10Lhk7EYpssxKrgvNVbl3ypK23fAooP+Xj6PpioHu3+4krRn7Oeg1gDvw4/dXMcoUvxr+DL1PAn4j7ObwHev4TV8syZu/5it0QIKDgpO6Iq9mWKXMfEdcTeva6n1g69Hb7Z5GArlcHOgW9fHIW+jdJREtIpwfeeJ5w9EM4ui+Oos/z6z1n+r+KBBincA2QSsDUqRGfADwCjIFj++HYgep1pZxr/MPSFBC5Kgk7PWXJqSqqNCXgYkpkHD8AJw5Wq+1q/yANsPQf2Q5O8rkEzZ1QfvLk6zz97n7UBwLutw8UcZu98wezg6VzIqDiTgcETnS7y97MUyu9/Xw2vNfFrUt3pQHMSVmpMatDkVKBAxzKDPLukYxHAOUubh/bbu8rNxZRCPT2uNe0n1KhjamVwC4f9IWVo6tIewVdrNG23TrQLqURt0c/cGz16zsCvYcrM1H1IvBTYcMZOLHRxpMoMP5o2iPte4KxzosAppQ2F73FQOa4e9w6ZyILloFPgENXwugm7iGCMSk0DLbo/hSBFscmaloUybDiQvaEe75lvMqYLGG9Glm4TafPqOsfVEUcL+e38/o4e4H7T+vnG8sqDkgTyqJfPsPezGAJKJSOfQKKBFEiqGkmNHt7usjCqyxINzLQph/H3N8WO0YoJdD2tCh6kUXKYMZtbx6jMubk29KOKTRLgguAZ0XC6qx57oMW2xssr7DPKzCUddtmtEUpbkmbdKpRfZdI0uBE9dm5gTXni7WDMCl+MPW+h/rd74aWoF6Tbk6ramJPWqdMhLFzA6AUG0JeIRYxwwPu8fRmW/NIWkjnlJq8izAJMd7S6Ed7vNEG949NgHdJMcO0iDg55PaZ5hWKndFc2uhIriAJ74GSDql+EPRjlQkBs9PpyDYrxp0ccvvUNwDSn955YWvfstf6+4Gm5CyemIHNb+5lR3efWxssdreXMV+PcHxoNDiiEBEXvOvDS2PgvEdMfgRElKa6Q2lElFdzu6G2m6Gte4/xh7cPeomQZVwgwQnP+9A6H84gx1sa7UCpwGj+MDecmTPerXcliq6iVUC8eY1rVHGt96O5/VtC56R0DVZ/E75Ggvr8+7l7hw/Ao9RB30iUgErEJ8nYwHwyPMNNGIjfZoEPbKRCu8lI8H7f1Bvg7QVSpLYVar4bIjhibkPQeD/aQ6k9sO6H8gIlYgp4pBVXDp84toJHwDvdM946fW5/L9CeDLKJp8Btyxdz5Rn2E2x7vpbr2Xl8gDtf22+1meBqoFg1Au98McCGyEJGaarbDv5ucJUU2J59CuTaKpFGSwUh4NzONs6tQmXb9DoQv/RlTZlA1hfKDYr2hDJEeJEbluawe6kxD1dhT+3FDmgmNFXKiikmor/VljYP+WqLBLx3qHEryqGErE1GTZnacGSPWg1kfPAmlSPd/rivsuQnq6QgovdOjeUJSdRyGVgNorwi5A1qNtkvWAb2waP1+XuB3skbOmkN0UqjcoXxwJsQeDEjpLnb1hogYPfyjizoPYkYm7T4OULknI8CH5EIIb/llq7ANDfh+/Q3DtwFxHzwNpUiEeCtxKgMfBlZH5Hmzgit5fLpV7JfKzg8HrcmOGekjxnH9+G+EmlQEffjHYP7soSK8TZD1no+xvdA3mF//6hlskQkPcYbUnELpLYeh5u4dcmmiggA+NRLmUdUZVUcAlShkD1B4cD77m8x3scnAfcbKVWFw8VNezMUyPAotZclPVZSZG+HjXmB7kWXsV7K0t2yKeDLdB25gUlskqSlAzNvCZjUGEHKCmpRkT0ywkctbSG3LwuWcgRNrYkCPy4B/1oxu984ztWIxH4nX1o6kFMXuwaNu0xFgLeLoOFgNlYwLAefh/Rq1i0c83HRmAQA7L6k7U11nFUQv2Ymze3I3EVjAzVR4L0cPjLARSQ9ZTtDAREFczPrFm4bz75xCQDYt7L1aRFuhMBLXtWR0NSGnLIwCCJqPx+1h48CHyatHDxgfszNn/z9RLZNSADAhytaHhTlWiB2BVkaW5E5C9yYEDB8jOXMxAaviPkRNy28ewKTXLuqATH/+cxljvBnVZpi/7/AQA6nt8dbHcR9PB7YqXmA7CdAfrT3awPFUpnVx/0xgpi1XL/gkUoxVZ2ydb6Y7aLAo47qWbEIUNChHE7vUXcZjCqIhCu+4UKHSPAFCRfGPiR9FdfN+3s1eCqaArZ0r2zZZRqblyuykbhxoaEJ2udEB8FwmSuwEozh9sb8kXzhs9WChxgeYMvc5/rOGVXuU+WcqjzA/5eZ4SE095FligW0rM5veUNpauxB5Husnf9MXAxVe4Ath7/UtuNYfet5wM2qVP/24rQGaOmwRzK4DIbX/lKZvJtU6gdkR86YDHiYpAcEZJum20ayq1HnO+rI+VX909TJYRjIEjnqdm1PzFs4cj+5kc18f8lIEmYnR4AlLc9mFlNwvlVQLlflbIXUhP81dnLEe4pLyQsQB5GdYJ5F5GHWLHgnaVunhABb2p//qHVkmIsc5SzHkS6FLkf0E+rQrkqTgqCaQ50+8vleTg7vBnbhsJNp+W1c3XV8Ku37L9MMkapjc2UEAAAAAElFTkSuQmCC",F=(n(88),n(23)),L=function(){var e=Object(s.b)(),t=B({lEmail:"",lPassword:""}),n=Object(D.a)(t,2),c=n[0],r=n[1],a=c.lEmail,o=c.lPassword,i=function(t){var n,c;t.preventDefault(),e((n=a,c=o,function(){var e=Object(h.a)(p.a.mark((function e(t){var r,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.toLowerCase(),e.next=3,N("auth",{email:r,password:c},"POST");case 3:return a=e.sent,e.next=6,a.json();case 6:(s=e.sent).ok?(localStorage.setItem("token",s.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(k({uid:s.uid,nombre:s.nombre,rol:s.rol,maxFree:s.maxFree}))):v.a.fire("Error",s.msg,"error");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(u.jsx)(u.Fragment,{children:F.isMobile?Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row ",children:Object(u.jsxs)("div",{className:"col-md-11 col-11 login-form-1 mt-5",children:[Object(u.jsx)("h3",{children:"Ingreso"}),Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Correo",name:"lEmail",value:a,onChange:r})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-3",placeholder:"Contrase\xf1a",name:"lPassword",value:o,onChange:r})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]}):Object(u.jsxs)("div",{className:"login-container",children:[Object(u.jsx)("h2",{className:"d-flex align-items-center justify-content-center mt-4",style:{color:"#0062cc"},children:Object(u.jsx)("img",{src:I,alt:""})}),Object(u.jsx)("div",{className:"row mt-4",children:Object(u.jsxs)("div",{className:"col-md-6 col-6 me-5 login-form-3",children:[Object(u.jsx)("h3",{children:"Ingreso"}),Object(u.jsxs)("form",{onSubmit:i,children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Correo",name:"lEmail",value:a,onChange:r})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-3",placeholder:"Contrase\xf1a",name:"lPassword",value:o,onChange:r})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Ingresar"})})]})]})})]})})},U=function(){return{type:C.uiOpenModal}},V=function(){return{type:C.uiCloseModal}},H=function(){return{type:C.uiOpenModall}},z=function(){return{type:C.uiCloseModall}},M=function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("wsp/auth/checkauth");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(q(c.estado)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},q=function(e){return{type:C.getEstadoWsp,payload:e}},G=function(){var e=Object(s.c)((function(e){return e.ui})).estadoWsp,t=Object(s.b)();return Object(c.useEffect)((function(){setTimeout((function(){t(M())}),1e3),setTimeout((function(){t(M())}),5e3)}),[t]),Object(u.jsxs)("div",{className:"container text-center",children:[Object(u.jsx)("h2",{className:"mb-5 mt-2",style:{color:"black"},children:"Administrar"}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",children:[Object(u.jsx)(f.b,{to:"/controlrpp",children:Object(u.jsxs)("button",{className:"btn btn-primary btn-lg",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user"})," Controlar RRPP"]})}),Object(u.jsx)(f.b,{to:"/controlevento",children:Object(u.jsxs)("button",{className:"btn btn-primary btn-lg",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-calendar-alt"})," Controlar Eventos"]})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mt-5",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("span",{className:"bg-light rounded",children:["Estado ",Object(u.jsx)("i",{style:{fontSize:"1.1rem",color:"green",marginLeft:"-8px",marginRight:"-5px"},className:"py-3 px-2 fab fa-whatsapp fa-xs position-sticky"}),": ",Object(u.jsx)("b",{className:"Conectado"===e?"text-success":"text-danger",children:e})]})}),"Desconectado"===e&&Object(u.jsx)("div",{className:"mb-5",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-success mt-2 d-flex justify-content-center align-items-center",onClick:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("wsp/auth/getqr");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,document.write(n.pagina);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()},children:[Object(u.jsx)("i",{style:{fontSize:"1.5rem"},className:"py-0 px-2 fab fa-whatsapp fa-xs position-sticky"})," Conectar WSP"]})})})]})]})},W=n(22),K=n.n(W),J=function(e,t,n,c,r,a,s,o,i,l){return function(){var u=Object(h.a)(p.a.mark((function u(j){var d,b,m,f,x;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return d=i.label,b=o.label,m=o.value,!1,u.next=6,y("clientes",{dni:e,nombre:t,apellido:n,celular:c,fecha:r,estado:a,usuario:s,dataUrl:l,evento:b,tipo:d,free:false,eventoid:m},"POST");case 6:return f=u.sent,u.next=9,f.json();case 9:(x=u.sent).ok?(b=o,d=i,j(ce(x.cliente.uid,b,d,s)),v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success")):x.oki?(j(ce(x.cliente.uid,b,d,s)),v.a.fire("Exito","Cliente asociado con \xe9xito","success")):v.a.fire("Error",x.msg,"error");case 11:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()},Y=function(e,t,n,c,r,a,s,o,i,l){return function(){var u=Object(h.a)(p.a.mark((function u(j){var d,b,m,f,x;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return d=i.label,b=o.label,m=o.value,!0,u.next=6,y("clientes/free",{dni:e,nombre:t,apellido:n,celular:c,fecha:r,estado:a,usuario:s,dataUrl:l,evento:b,tipo:d,free:true,eventoid:m},"POST");case 6:return f=u.sent,u.next=9,f.json();case 9:(x=u.sent).ok?(b=o,d=i,j(ce(x.cliente.uid,b,d,s)),v.a.fire("Exito","Cliente nuevo cargado con \xe9xito","success")):x.oki?(j(ce(x.cliente.uid,b,d,s)),v.a.fire("Exito","Cliente asociado con \xe9xito","success")):v.a.fire("Error",x.msg,"error");case 11:case"end":return u.stop()}}),u)})));return function(e){return u.apply(this,arguments)}}()},Q=function(e,t,n,c,r,a,s){return function(){var o=Object(h.a)(p.a.mark((function o(i){var l,u,j,d,b;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=r.label,u=r.value,j=a.label,!1,o.next=6,y("clientes/update",{dni:e,celular:t,fecha:n,usuario:c,dataUrl:s,evento:l,tipo:j,free:false,eventoid:u},"POST");case 6:return d=o.sent,o.next=9,d.json();case 9:(b=o.sent).ok?(i(ce(b.cliente.uid,r,a,c)),v.a.fire("Exito","Cliente actualizado con \xe9xito","success")):b.oki?(i(ce(b.cliente.uid,r,a,c)),v.a.fire("Exito","Cliente asociado con \xe9xito","success")):v.a.fire("Error",b.msg,"error");case 11:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},Z=function(e,t,n,c,r,a,s){return function(){var o=Object(h.a)(p.a.mark((function o(i){var l,u,j,d,b;return p.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=r.label,u=r.value,j=a.label,!0,o.next=6,y("clientes/updatefree",{dni:e,celular:t,fecha:n,usuario:c,dataUrl:s,evento:l,tipo:j,free:true,eventoid:u},"POST");case 6:return d=o.sent,o.next=9,d.json();case 9:(b=o.sent).ok?(i(ce(b.cliente.uid,r,a,c)),v.a.fire("Exito","Cliente actualizado con \xe9xito","success")):b.oki?(i(ce(b.cliente.uid,r,a,c)),v.a.fire("Exito","Cliente asociado con \xe9xito","success")):v.a.fire("Error",b.msg,"error");case 11:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},X=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("clientes/edit/".concat(e));case 2:return c=t.sent,t.next=5,c.json();case 5:r=t.sent,n($(r.cliente));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return{type:C.clienteAsociar,payload:e}},_=function(e){return{type:C.pasarBody,payload:e}},ee=function(){return{type:C.borrarBody,payload:null}},te=function(){return{type:C.startClearClienteAsoc,payload:null}},ne=function(){return{type:C.setLoading,payload:null}},ce=function(e,t,n,c){return function(){var r=Object(h.a)(p.a.mark((function r(a){var s,o,i,l,u,j,d;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.label.substring(n.label.lastIndexOf("-")+1),o=s.trim(),i=n.value,l=t.value,u=t.label,r.next=7,y("clientes/asociar",{uid:e,evento:l,tipo:o,importe:i,usuario:c,nombrevento:u},"POST");case 7:return j=r.sent,r.next=10,j.json();case 10:d=r.sent,201===j.status||v.a.fire("Error",d.msg,"error");case 12:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},re=function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var r,a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/desasociarsinevento",{uid:t,id:e},"POST");case 2:return r=n.sent,n.next=5,r.json();case 5:a=n.sent,201===r.status?v.a.fire({title:"Exito",text:"Eliminado con \xe9xito",icon:"success",showConfirmButton:!1}):v.a.fire("Error",a.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ae=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),r=Object(l.useHistory)(),a=Object(s.c)((function(e){return e.auth})).uid;if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:e.entradas.map((function(t){return Object(u.jsxs)("pre",{children:[t.nombre," - $",t.importe," - ",t.tipo]},e.uid)}))}),Object(u.jsx)("td",{className:"text-center",children:e.usuario.nombre+" "+e.usuario.apellido}),e.usuario._id===a?Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){c(X(e)),setTimeout((function(){r.push("/editarcliente/".concat(e))}),500)}(e.uid)},children:"Editar"})}):Object(u.jsx)("td",{className:"text-center",children:"-"}),e.usuario._id===a?Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.uid,c(re(t,a)),void setTimeout((function(){r.push("/")}),500);var t},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})}):Object(u.jsx)("td",{className:"text-center",children:"-"})]},e.uid)}))})]})})},se=function(e){return{type:C.eventSetActive,payload:e}},oe=function(){return{type:C.isFilter}},ie=function(){return{type:C.ClearisFilter}},le=function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("eventos");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(me(c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("eventos/rpp/".concat(e));case 3:return c=t.sent,t.next=6,c.json();case 6:r=t.sent,n(be(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y("eventos/".concat(e,"/precios"));case 3:return c=t.sent,t.next=6,c.json();case 6:r=t.sent,n(de(r)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},de=function(e){return{type:C.setPrice,payload:e}},be=function(e){return{type:C.eventosByRppLoaded,payload:e}},me=function(e){return{type:C.eventosLoaded,payload:e}},fe=function(e){return{type:C.currentPage,payload:e}},xe=function(e){for(var t=e.dataPerPage,n=e.totalData,r=e.data,a=e.setCurrentPage,o=Object(s.b)(),i=[],l=Object(c.useState)(10),j=Object(D.a)(l,2),d=j[0],b=(j[1],1);b<=Math.ceil(n/t);b++)i.push(b);var m=Object(s.c)((function(e){return e.eventos})).currentPage;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item first",children:Object(u.jsx)("span",{onClick:function(){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].innerText,e.toString();document.getElementsByClassName("first"),1!==e&&(a((function(e){return e-1})),o(fe(e-1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-left"})})}),function(){var e=Math.floor((m-1)/d)*d;return new Array(d).fill().map((function(t,n){return e+n+1}))}().map((function(e){return Object(u.jsx)("li",{onClick:function(e){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.parentElement.classList.add("active")}(e)},className:1===e?"page-item active":"page-item",children:Object(u.jsx)("span",{onClick:function(){return n=e,Math.ceil(r.length/t),a(n),o(fe(n)),document.getElementsByClassName("last"),void document.getElementsByClassName("first");var n},className:"page-link",children:e})},e)})),Object(u.jsx)("li",{className:"page-item last",children:Object(u.jsx)("span",{onClick:function(){return function(e){console.log(e);for(var n=document.getElementsByTagName("li"),c=0;c<n.length;c++)n[c].innerText,e.toString();var s=Math.ceil(r.length/t);document.getElementsByClassName("last"),document.getElementsByClassName("first"),e!==s&&(a((function(e){return e+1})),o(fe(e+1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-right"})})})]})})},pe=n(28),he=n.n(pe),Oe=n(24),ve=(n(71),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});he.a.setAppElement("#root");var ge=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpen,n=Object(s.c)((function(e){return e.auth})).uid,r=Object(s.c)((function(e){return e.clientes})).clienteAsoc,a=Object(s.c)((function(e){return e.eventos})),o=a.eventos,i=a.precios,l=[],j=0;j<o.length;j++){var d={value:o[j].id,label:o[j].nombre};l.push(d)}var b=[];i&&(b=[{value:i[0].vip,label:"$".concat(i[0].vip," - VIP")},{value:i[0].general,label:"$".concat(i[0].general," - General")},{value:i[0].preferencial,label:"$".concat(i[0].preferencial," - Preferencial")}]);var m=Object(c.useState)(""),f=Object(D.a)(m,2),x=f[0],p=f[1],h=Object(c.useState)(""),O=Object(D.a)(h,2),v=O[0],g=O[1];Object(c.useEffect)((function(){e(le())}),[e,n]);var N=function(){e(V()),e(te())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(he.a,{isOpen:t,onRequestClose:N,style:ve,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:l,value:x,onChange:function(t){p(t),e(je(t.value))}})}),i&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(Oe.a,{options:b,value:v,onChange:function(e){g(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(ce(r,x,v)),void N()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-link"}),Object(u.jsx)("span",{children:" Asociar"})]})})]})})},Ne={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};he.a.setAppElement("#root");var ye=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpenn,n=Object(s.c)((function(e){return e.eventos})).eventos,r=[],a=0;a<n.length;a++){var o={value:n[a].id,label:n[a].nombre};r.push(o)}var i=Object(c.useState)(""),l=Object(D.a)(i,2),j=l[0],d=l[1];Object(c.useEffect)((function(){e(le())}),[e]);var b=function(){e(z())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(he.a,{isOpen:t,onRequestClose:b,style:Ne,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento a filtrar"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:r,value:j,onChange:function(e){d(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(oe()),e(se(j)),void b()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-filter"}),Object(u.jsx)("span",{children:"Filtrar"})]})})]})})},Ce=function(){var e=Object(s.b)(),t=(Object(l.useHistory)(),Object(s.c)((function(e){return e.auth}))),n=t.uid,r=t.rol,a=t.maxFree,i=Object(s.c)((function(e){return e.eventos})).isFilter,j=Object(s.c)((function(e){return e.eventos})).activeEvent,d=Object(c.useState)(0),b=Object(D.a)(d,2),m=b[0],x=b[1],O=Object(c.useState)(0),v=Object(D.a)(O,2),g=v[0],N=v[1],C=Object(c.useState)(0),w=Object(D.a)(C,2),E=w[0],S=w[1],A=Object(c.useState)(1),k=Object(D.a)(A,2),P=k[0],R=k[1],B=Object(c.useState)([]),I=Object(D.a)(B,2),L=I[0],U=I[1],V=Object(c.useState)(0),z=Object(D.a)(V,2),M=z[0],q=z[1],G=Object(c.useState)(!1),W=Object(D.a)(G,2),K=W[0],J=W[1],Y=Object(c.useState)(10),Q=Object(D.a)(Y,2),Z=Q[0],X=(Q[1],P*Z),$=X-Z,_=L.slice($,X);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,U(c.clientess),J(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,y("clientes/rrpp/".concat(n,"/evento/").concat(j.value));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,U(c.clientes),J(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/gananciaop/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,S(c.ganclientes);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/ganancia/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,S(c.ganclientes),N(c.gancomision),x(c.gantotal);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/getfree/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,q(c.total);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"RRPP"===r?a():c(),i?t():e(),s()}),[r,n,i,j]);var ee=Object(c.useState)({cSearch:""}),te=Object(D.a)(ee,2),ne=te[0],ce=te[1],re=Object(c.useState)({cSearchTar:""}),se=Object(D.a)(re,2),oe=se[0],le=se[1],ue=function(e){var t=e.target,c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,U(c.clientess),J(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&c(),ce(Object(o.a)(Object(o.a)({},ne),{},Object(T.a)({},t.name,t.value)))},je=function(e){var t=e.target,c=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J(!0),e.next=3,y("clientes/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,U(c.clientess),J(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();""===t.value&&c(),le(Object(o.a)(Object(o.a)({},oe),{},Object(T.a)({},t.name,t.value)))},de=ne.cSearch,be=oe.cSearchTar,me=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/search/".concat(de,"/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,U(c.clientess);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()},fe=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/searchportar/".concat(be,"/").concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,U(c.clientess);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{className:"container",children:[F.isMobile?Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:me,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido del cliente...",type:"text",name:"cSearch",value:de,onChange:ue}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:fe,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido del tarjetero...",type:"text",name:"cSearchTar",value:be,onChange:je}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),"TARJETERO"===r&&Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-2",children:Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(E||0)})]})}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(u.jsx)(f.b,{className:"d-flex justify-content-end text-decoration-none",to:"/addcliente",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})}),M<a&&Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/addclientefree",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente FREE"]})})]})]}):Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-25",onSubmit:me,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda de cliente por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:de,onChange:ue}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-25",onSubmit:fe,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda de cliente por apellido de Tarjetero",placeholder:"Ingrese el apellido del tarjetero...",type:"text",name:"cSearchTar",value:be,onChange:je}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),"TARJETERO"===r&&Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("div",{className:"form-group text-center mb-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(E||0)})]})}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center",children:[Object(u.jsx)(f.b,{className:" d-flex justify-content-end text-decoration-none",to:"/addcliente",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})}),M<a&&Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/addclientefree",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente FREE"]})})]})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:["RRPP"===r&&Object(u.jsxs)("div",{className:"d-flex justify-content-center align-items-center mb-2",children:[Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia total"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(m||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia de comision"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(g||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia de clientes propios"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:"$ ".concat(E||0)})]})]}),Object(u.jsx)("h4",{children:"Cantidad de Clientes"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:L.length}),Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsxs)("button",{className:"btn btn-primary mb-2 me-2",onClick:function(){e(H())},title:"Filtrar por Evento",children:[Object(u.jsx)("i",{className:"fas fa-filter"})," Filtrar por Evento"]}),i&&Object(u.jsxs)("button",{className:"btn btn-outline-danger mb-2 ms-2",onClick:function(){e(ie())},title:"Sacar filtro",children:[Object(u.jsx)("i",{className:"fas fa-close"})," Filtrado por evento: ",j.label]})]}),Object(u.jsx)(ae,{clientes:_,loading:K}),Object(u.jsx)(ge,{}),Object(u.jsx)(ye,{}),Object(u.jsx)(xe,{dataPerPage:Z,totalData:L.length,data:L,setCurrentPage:R})]})]})};he.a.setAppElement("#root");var we=function(){var e=Object(s.c)((function(e){return e.auth})).rol,t=Object(c.useState)(!1),n=Object(D.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(D.a)(o,2),l=i[0],j=i[1],d=Object(c.useState)(!1),b=Object(D.a)(d,2),m=b[0],f=b[1];return Object(c.useEffect)((function(){"ADMIN"===e&&a(!0),"RRPP"===e&&j(!0),"TARJETERO"===e&&f(!0)}),[a,j,f,e]),Object(u.jsxs)("div",{className:"container",children:[r&&Object(u.jsx)(G,{}),l&&Object(u.jsx)(Ce,{}),m&&Object(u.jsx)(Ce,{})]})},Ee=n(32),Se=n(100),Ae=n.n(Se),ke=function(e){var t=e.uid,n=e.dni,r=Object(c.useState)(""),a=Object(D.a)(r,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/sethash",{uid:t,dni:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,o(r.hash);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),Object(u.jsx)("div",{children:Object(u.jsx)(Ae.a,{className:"d-none",value:"".concat(s),size:128,level:"H"})})},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(c.useState)(e),n=Object(D.a)(t,2),r=n[0],a=n[1],i=Object(s.b)(),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;a(t)},u=function(e){var t=e.target;if(8===t.value.length){var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/verificardb/".concat(t.value));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,i(_(c));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}a(Object(o.a)(Object(o.a)({},r),{},Object(T.a)({},t.name,t.value)))};return[r,u,l]},Re=K()(),De=function(){for(var e=Object(c.useState)(!1),t=Object(D.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(D.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(!1),d=Object(D.a)(j,2),b=d[0],m=d[1],f=document.querySelector("canvas"),x=f&&f.toDataURL("image/jpg",.3),O=Object(s.c)((function(e){return e.auth})).uid,g=Object(s.c)((function(e){return e.ui})).estadoWsp,N=Object(s.c)((function(e){return e.clientes})).body,C=Object(Ee.useHistory)(),w=Object(s.b)(),E=B({cNombre:"",cApellido:""}),S=Object(D.a)(E,4),A=S[0],k=S[1],P=S[2],R=S[3],T=Pe({cDni:""}),I=Object(D.a)(T,2),F=I[0],L=I[1],U=B({cCelular:""}),V=Object(D.a)(U,5),H=V[0],z=V[1],q=V[2],G=(V[3],V[4]),W=H.cCelular,K=A.cNombre,Y=A.cApellido,Z=F.cDni,X=Object(s.c)((function(e){return e.eventos})),$=X.eventos,_=X.precios,te=[],ne=0;ne<$.length;ne++){var ce={value:$[ne].id,label:$[ne].nombre};te.push(ce)}var re=[];_&&(re=[{value:_[0].vip,label:"$".concat(_[0].vip," - VIP")},{value:_[0].general,label:"$".concat(_[0].general," - General")},{value:_[0].preferencial,label:"$".concat(_[0].preferencial," - Preferencial")}]);var ae=re.filter((function(e){if(0!==e.value)return e})),se=Object(c.useState)(""),oe=Object(D.a)(se,2),ie=oe[0],ue=oe[1],de=Object(c.useState)(""),be=Object(D.a)(de,2),me=be[0],fe=be[1];Object(c.useEffect)((function(){if(w(le()),N)if("error"===N.status)P(),q(),w(ee()),r(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");R(t,N.cliente.apellido,e,N.cliente.nombre,n,N.cliente.celular),G(n,N.cliente.celular),r(!0),l(!0),w(ee())}}),[w,N]),Object(c.useEffect)((function(){setTimeout((function(){w(M())}),1e3),setTimeout((function(){w(M())}),5e3)}),[w]);var xe=Object(c.useState)(["e","E","+","-",".",","]),pe=Object(D.a)(xe,1)[0];return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("span",{className:"bg-light rounded",children:["Estado ",Object(u.jsx)("i",{style:{fontSize:"1.1rem",color:"green",marginLeft:"-8px",marginRight:"-5px"},className:"py-3 px-2 fab fa-whatsapp fa-xs position-sticky"}),": ",Object(u.jsx)("b",{className:"Conectado"===g?"text-success":"text-danger",children:g})]})}),Object(u.jsx)("h3",{children:"Cargar cliente"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===W||""===Z||""===Y||""===K||""===ie||""===me)return v.a.fire("Error","Debes de rellenar todos los campos","error");i?(w(Q(Z,W,Re.toDate(),O,ie,me,x)),m(!0),r(!1),P(),q(),l(!1)):(w(J(Z,K.trim(),Y.trim(),W,Re.toDate(),!0,O,ie,me,x)),m(!0),r(!1),l(!1))},children:[Object(u.jsx)("div",{className:"form-group mb-5",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:Z,autoComplete:"off",onChange:function(e){return L(e)},onKeyDown:function(e){return pe.includes(e.key)&&e.preventDefault()}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:W,onChange:z})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:K,disabled:n,onChange:k})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:Y,disabled:n,onChange:k})}),Object(u.jsx)("h3",{children:"Elegir evento"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:te,value:ie,onChange:function(e){ue(e),w(je(e.value))}})}),Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),_&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(Oe.a,{options:ae,value:me,onChange:function(e){fe(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){C.push("/")},children:"Volver"})}),Object(u.jsx)(ke,{uid:O,dni:Z}),b&&"Desconectado"!==g&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-success mt-2 d-flex justify-content-center align-items-center",onClick:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:"ok"===(r=e.sent).status?(v.a.fire({title:"Exito",text:r.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("wsp/chat/sendpdf/".concat(W),{dni:Z},"POST");case 2:return t=e.sent,e.next=5,t.json();case 5:"error"===(n=e.sent).status?(v.a.fire("Error",n.message,"error"),w(M())):(v.a.fire("Exito",n.message,"success"),w(M()));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"Conectado"===g?v.a.fire({title:"\xbfEstas seguro de enviar el PDF a este numero +54 9 "+W+"?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, enviar!"}).then((function(t){t.isConfirmed&&(e(),w(M()))})):v.a.fire("Error","Ningun celular esta conectado al servidor","error")}),2e3)):v.a.fire("Error",r.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e(Z,ie.value)},children:[Object(u.jsx)("i",{style:{fontSize:"1.5rem"},className:"py-0 px-2 fab fa-whatsapp fa-xs position-sticky"})," Enviar PDF por WSP"]})})]})},Te=n(66),Be=n.n(Te),Ie=function(e){var t=e.evento,n=Object(c.useState)(""),r=Object(D.a)(n,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/sethashpuerta/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,s(c.hash);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(u.jsx)("div",{children:Object(u.jsx)(Ae.a,{className:"d-none",value:"".concat(a),size:128,level:"H"})})},Fe=n(16),Le=function(e){var t=e.datos;return Object(u.jsx)(Fe.Document,{children:Object(u.jsx)(Fe.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white"},children:Object(u.jsxs)(Fe.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Fe.Text,{style:{marginTop:"35px",fontSize:"45px"},children:"Evento"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"50px",marginBottom:"100px"},children:t.evento?t.evento:""}),t.uri&&Object(u.jsx)(Fe.Image,{allowDangerousPaths:!0,src:t.uri,style:{width:"256px",height:"256px",marginTop:"15px"}})]})})})},Ue=K()(),Ve=function(){var e=document.querySelector("canvas"),t=e&&e.toDataURL("image/png",.3),n=Object(s.c)((function(e){return e.auth})).uid,r=Object(c.useState)(Ue.toDate()),a=Object(D.a)(r,2),o=a[0],i=a[1],j=Object(s.b)(),d=Object(l.useHistory)(),b=B({eNombre:"",eUbicacion:"",eVip:"",ePreferencial:"",eGeneral:"",ePuerta:""}),m=Object(D.a)(b,2),f=m[0],x=m[1],O=f.eNombre,g=f.eUbicacion,N=f.eVip,C=f.ePreferencial,w=f.eGeneral,E=f.ePuerta;return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:"Cargar Evento"}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===g||""===O)return v.a.fire("Error","Debes de rellenar todos los campos","error");j(function(e,t,n,c,r,a,s,o,i){return function(){var l=Object(h.a)(p.a.mark((function l(u){var j,d;return p.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,y("eventos",{nombre:e,ubicacion:t,vip:n,preferencial:c,general:r,fecha:s,usuario:o,puerta:a,dataUrl:i},"POST");case 2:return j=l.sent,l.next=5,j.json();case 5:(d=l.sent).ok?(v.a.fire("Exito","Cargado con \xe9xito","success"),u(se(d.evento))):v.a.fire("Error",d.msg,"error");case 7:case"end":return l.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}(O,g,N,C,w,E,o,n))},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 text-center",placeholder:"Nombre",name:"eNombre",value:O,onChange:x})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 text-center",placeholder:"Ubicacion",name:"eUbicacion",value:g,onChange:x})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(Be.a,{onChange:function(e){i(e)},value:o,className:"form-control mb-2 text-center",format:"dd-MM-yyyy"})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",style:{color:"white"},children:Object(u.jsx)("label",{className:"h5",children:"Precios por entrada anticipada"})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Vip",name:"eVip",value:N,onChange:x})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Preferencial",name:"ePreferencial",value:C,onChange:x})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-3 text-center",placeholder:"General",name:"eGeneral",value:w,onChange:x})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",style:{color:"white"},children:Object(u.jsx)("label",{className:"h5",children:"Precio por entrada por puerta"})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-3 text-center",placeholder:"Precio",name:"ePuerta",value:E,onChange:x})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(){d.push("/controlevento")},children:"Volver"})}),Object(u.jsx)(Ie,{evento:O,dataUrl:t}),t&&Object(u.jsx)(Fe.PDFDownloadLink,{document:Object(u.jsx)(Le,{datos:{uri:t,evento:O}}),fileName:"qr-".concat(O,".pdf"),className:"text-decoration-none downloadpdfwsp",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",children:"Descargar QR"})})})]})},He=function(){var e=Object(c.useState)(),t=Object(D.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),o=Object(D.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(""),d=Object(D.a)(j,2),b=d[0],m=d[1],f=[];if(n)for(var x=0;x<n.length;x++){var O={value:n[x].uid,label:n[x].nombre+" "+n[x].apellido};f.push(O)}var g=Object(s.b)(),N=Object(Ee.useHistory)(),C=B({rDni:"",rNombre:"",rApellido:"",rEmail:"",rPassword:"",rComision:"",rComisionTarjetero:"",rCantidadFree:""}),w=Object(D.a)(C,2),E=w[0],S=w[1],A=E.rDni,k=E.rNombre,P=E.rApellido,R=E.rEmail,T=E.rPassword,I=E.rComision,F=E.rComisionTarjetero,L=E.rCantidadFree;Object(c.useEffect)((function(){g(le());var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps/rpps");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[g]);return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:"Cargar RPP"}),Object(u.jsxs)("form",{onSubmit:function(e){return e.preventDefault(),""===A||""===k||""===P||""===R||""===T||""===I||""===L?v.a.fire("Error","Debes de rellenar todos los campos","error"):A.length<7||A.length>8?v.a.fire("Error","El DNI tiene que tener entre 7 y 8 digitos","error"):void g((t=A,n=R,c=T,r=k,a=P,s=I,o=b,l=F,u=i,j=L,function(){var e=Object(h.a)(p.a.mark((function e(i){var d,b,m,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=o.value,b=u.value,e.next=5,y("auth/new",{email:n,password:c,nombre:r,apellido:a,rol:d,dni:t,estado:!0,comisionEnt:s,comisionRRPP:l,rrpp:b,maxFree:j},"POST");case 5:return m=e.sent,e.next=8,m.json();case 8:(f=e.sent).ok?v.a.fire("Exito","RPP Cargado con exito","success"):v.a.fire("Error",f.msg,"error");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,n,c,r,a,s,o,l,u,j},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2",placeholder:"DNI",name:"rDni",value:A,onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nombre",name:"rNombre",value:k,onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Apellido",name:"rApellido",value:P,onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"email",className:"form-control mb-2",placeholder:"Correo",name:"rEmail",value:R,autoComplete:"new-password",onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"password",className:"form-control mb-2",placeholder:"Contrase\xf1a",name:"rPassword",value:T,autoComplete:"new-password",onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision de Entradas de cada RRPP o TARJETERO",name:"rComision",value:I,onChange:S})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Cantidad Free",className:"form-control mb-2",placeholder:"Cantidad de clientes FREE de este usuario",name:"rCantidadFree",value:L,onChange:S})}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Rol"})}),Object(u.jsx)(Oe.a,{className:"form-control mb-2",options:[{value:"RRPP",label:"RRPP"},{value:"TARJETERO",label:"TARJETERO"}],value:b,onChange:function(e){m(e)}})]}),"RRPP"===b.value&&Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision que cobra el RRPP a los TARJETEROS",name:"rComisionTarjetero",value:F,onChange:S})}),"TARJETERO"===b.value&&Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Elegir RRPP para este TARJETERO"})}),Object(u.jsx)(Oe.a,{className:"form-control mb-2",options:f,value:i,onChange:function(e){l(e)}})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){N.push("/controlrpp")},children:"Volver"})})]})},ze=function(){var e=Object(s.c)((function(e){return e.auth})),t=e.nombre,n=e.rol,r=Object(s.b)(),a=Object(c.useState)(!1),o=Object(D.a)(a,2),i=o[0],l=o[1];Object(c.useEffect)((function(){"ADMIN"===n&&l(!0)}),[l,n]);return Object(u.jsxs)("div",{className:"navbar navbar-dark bg-dark mb-3",children:[Object(u.jsx)(f.b,{className:"text-decoration-none",to:"/",children:Object(u.jsx)("span",{role:"button",className:"navbar-brand ms-4 text-decoration-none",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAASxSURBVFiFtZdbbBRlFMd/55spsPRCS4HaUjXcBCVBE4gJBRVvMSEhxBeiJIIaIsiDvmiiDxgfjFFjYtT4otTE+KCBBDFEwYRYEZEQg0SjVaBImwqWti6lu9st253v+DCzu7PXbgFPMpnv+3LmnP/5n8vMCNcie/oj09zaRSlja/FE8CRBZPwcG9rGpmpKqtJSlfqDsQ613mNW5UFPdZlnVTwFtQqqYFWxegb1vsXq52xuPYqIXjeAeQdHV6fRNz3VezyrWAVPwbNKAQD/Uhvc9TfUvsQT7V9dE4D5h0eb0552WnSjZ3NOpwAArAXVr5GrT7Fl8WApP6aM89tU9RjCxskYmlSU9dhpJ/mob2VVABZ2jawyoj8BS6/beQ5EO4YjdJ5bWxHArd8nWj01XwANN8x5TmpRs5+P+xaWBLCuS13HevsF2v8H5xlpJu3t472z0zMHbmZxwYlvw3J3uSfvc6K8ftcsfyN+7fo9FsSQLWfh0QNn6YnML2fqTmrMTuCdLIAV3wzUJlVfqQS9wViWt86upJKVGdF+MOPQsqC0grCL3b9/wrblUQOQmlm3HWitaFWqm1m+roFL5+FSbzmNJlI1OyHDn+rW6q1XIcbxr+F+GP67DEjZAuAu/SHRhrUrJrdazMC697+ke2jUj1gcwAEjRJNpMK7PWvSif28sIngJH/Qsdl2xHV41UZVIweWrHkNjE360WDDW1xMnABVcI4OgAo3zCix4Ha5UO3BKlMCza+5gMJEKwAmIcLw/yqGzgwGoEJhYFIyBuuaQTbPUVWVOVQBKTO0dq5cVnb17vIdDf0Vz0WNyrIxd8fczG31lq3NcYHqRlVJSbRNkHBsnYCZYE+zH4/5ZpA6MRlwRHavKerVtKAKOGwAR33EmHSZgZCLpr6dF4q5iLmZm2iSWi04e33uCnsvJgGLf+KVkUJThIsx0SYYRDKRTgA64WLqrC61YuocT/DoUDyLMUB9QbsI14IQYyewBlW43LcljojPShN4LpQkoZuCRJS3cflNTKDIBI5z4J07v6AS5LgjfDagBYxQz84h7eu3c2LKjsS6Uh6cK4K2HlpdUffLgGXq7hwuK0OTvRX7kuSVDBkAtuys6n6qIAScoPsfNjebs3oArnRA09+l76/YKcvKGAcjWQRnnYk4zOPgpZPIuorYr9gJCVzmb58eFD3/uRcWgCCqCkpuA4fufV1K+c8gfy9macF/k1fvTUNBbC78b7bSWpz1VMl/CNrRODw/gDfRhjYMnBisOKk4ox6FCC09Cky08EPMZzyzanCUrDKCprn4HcKQcCzK7BWlbkMur4+avTZncS0bXOYVGtuVlK7w5uUomnAnZBPJLWRCz5sLc9gLnQd/ngSnMvfMHNTUb2J7/+1b0hjn3SP1gKj22RpB9ZUE0NCPNbSHnTmXnjjmEox1svflCka1yTlCVlsOjz6vVXWnL7JJ/RokYGh/JFRpOEFK28EZA3qD2lrfZJCU/OyZ9wzR2XW50kvJyGnZ4VhuKfs2SCRiL5xecmBiYTsR5ja3t/1ayX/WXZvue/shIbf16qzyQVrvSerrAU2lSq8LV5Aip8T4wpxA5zPj0A4W5Lif/ARuG3wLaAVD7AAAAAElFTkSuQmCC",alt:"Event App"})})}),i&&Object(u.jsx)(f.b,{className:"text-decoration-none me-3",to:"/verificar",children:Object(u.jsxs)("span",{role:"button",className:"navbar-brand ms-4 text-decoration-none",style:{color:"white"},children:[" ",Object(u.jsx)("i",{className:"fas fa-check-circle    "})," Verificar"]})}),Object(u.jsxs)("div",{className:"nav-item dropdown me-3",children:[Object(u.jsx)("a",{style:{color:"white"},className:"nav-link dropdown-toggle",href:"!#",id:"userDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:t}),Object(u.jsx)("ul",{className:"dropdown-menu dropdown-pull-right","aria-labelledby":"userDropdown",children:Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){r((function(e){localStorage.clear(),e(P())})),r({type:C.eventLogout})},className:"dropdown-item active bg-danger",children:"Cerrar sesion"})})})]})]})},Me=function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"alert alert-danger d-flex flex-column justify-content-center align-items-center mt-5",children:[Object(u.jsx)("h1",{style:{color:"red"},children:"Error"}),Object(u.jsx)("h3",{children:"No existe ninguna pagina aqu\xed"})]})})},qe=(n(603),{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}});he.a.setAppElement("#root");var Ge=function(){var e=Object(s.b)(),t=Object(l.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),c=Object(s.c)((function(e){return e.ui})).modalOpen,r=Object(s.c)((function(e){return e.auth})).uid,a=B({pass:""}),o=Object(D.a)(a,2),i=o[0],j=o[1],d=i.pass,b=function(){e(V()),e(te()),window.location.reload()},m=function(e,t){if(n){var c=function(){var c=Object(h.a)(p.a.mark((function c(){var r;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y("eventos/delpuerta",{evento:n,pass:t,uid:e},"POST");case 2:return r=c.sent,c.next=5,r.json();case 5:c.sent.ok;case 7:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}();c()}};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(he.a,{isOpen:c,onRequestClose:b,style:qe,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black mt-5",children:"Verifique su identidad"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:" mb-2",children:Object(u.jsx)("input",{type:"password",autoComplete:"new-password",className:"form-control mb-3 text-center",placeholder:"Contrase\xf1a",name:"pass",value:d,onChange:j})}),Object(u.jsx)("div",{children:Object(u.jsxs)("button",{onClick:function(){return m(r,d),void b()},className:"btn btn-outline-danger btn-block",children:[Object(u.jsx)("i",{className:"fas fa-trash"}),Object(u.jsx)("span",{children:" Eliminar"})]})})]})})},We=function(e){var t=e.clientes;return e.loading?Object(u.jsx)("h2",{children:"Cargando..."}):Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Fecha de compra"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Horario ingreso"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Horario salida"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:K()(e.fecha).format("DD/MM/YYYY")}),Object(u.jsx)("td",{className:"text-center",children:K()(e.entrada).format("HH:mm")}),Object(u.jsx)("td",{className:"text-center",children:K()(e.salida).format("HH:mm")})]},e.uid)}))})]})})},Ke=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=Object(s.b)(),r=Object(c.useState)(0),a=Object(D.a)(r,2),o=a[0],i=a[1],j=B({vDni:""}),d=Object(D.a)(j,2),b=d[0],m=d[1],x=b.vDni,O=Object(s.c)((function(e){return e.eventos})).activeEvent,g=Object(c.useRef)(null),N=Object(c.useState)(1),C=Object(D.a)(N,2),w=C[0],E=C[1],S=Object(c.useState)([]),A=Object(D.a)(S,2),k=A[0],P=A[1],R=Object(c.useState)(!1),T=Object(D.a)(R,2),I=T[0],L=T[1],V=Object(c.useState)(50),H=Object(D.a)(V,1)[0],z=w*H,M=z-H,q=k.slice(M,z);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,y("clientes/verificados/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,P(c.clientes),L(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var n=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/puerta/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,i(c.cantidad);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}),[t]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-1",children:O&&Object(u.jsx)("span",{className:"h1",children:O.nombre})}),Object(u.jsx)(f.b,{className:"d-flex justify-content-center text-decoration-none mb-2",to:"/verificarqr/".concat(t),children:Object(u.jsxs)("button",{className:"btn btn-warning",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fa-solid fa-qrcode"})," Verificar Entrada"]})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("h4",{children:["Clientes que ingresaron por ",Object(u.jsx)("b",{children:"PUERTA"})]}),Object(u.jsx)("h4",{className:"border p-2 mb-3 ",children:o})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsx)("div",{className:"form-group text-center mb-2",children:Object(u.jsxs)("button",{onClick:function(){n(U())},className:"btn btn-danger ms-1",title:"Eliminar un Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-minus"})," Cliente por Puerta"]})})}),Object(u.jsx)("h2",{className:"d-flex justify-content-center",children:"INGRESE EL C\xd3DIGO"}),Object(u.jsxs)("form",{className:"mb-5",onSubmit:function(e){if(e.preventDefault(),/^\d+$/.test(x)){if(t)if("111"===x){var c=function(){var e=Object(h.a)(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/addpuerta",{evento:t},"POST");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.ok&&(window.location.reload(),v.a.fire("Exito","Cliente por puerta cargado","success"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c()}else{var r=function(){var e=Object(h.a)(p.a.mark((function e(){var n,c,r,a,s,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/dni/".concat(x.trim(),"/").concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,201===n.status?(r="".concat(c.cliente.dni),a="".concat(c.cliente.nombre.toUpperCase()," ").concat(c.cliente.apellido.toUpperCase()),s="".concat(K()(c.cliente.entrada).format("HH:mm")),o="".concat(K()(c.cliente.salida).format("HH:mm")),c.egreso?v.a.fire({title:"EGRESO",html:"<pre> <b>DNI</b> <br/>"+r+"<br/> <b>Nombre completo</b> <br/>"+a+"<br/> <b>Horario de salida</b> <br/>"+o+"</pre>",icon:"info"}).then((function(e){e.isConfirmed&&window.location.reload()})):v.a.fire({title:"INGRESO",html:"<pre> <b>DNI</b> <br/>"+r+"<br/> <b>Nombre completo</b> <br/>"+a+"<br/> <b>Horario de entrada</b> <br/>"+s+"</pre>",icon:"success"}).then((function(e){e.isConfirmed&&window.location.reload()}))):v.a.fire("Error",c.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}}else if(x.indexOf('"')>=0){var a=x.split('"');if(console.log(a),t){n(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var r,a,s,o,i,l;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/dni/".concat(e,"/").concat(t));case 2:return r=n.sent,n.next=5,r.json();case 5:a=n.sent,201===r.status?(s="".concat(a.cliente.dni),o="".concat(a.cliente.nombre.toUpperCase()," ").concat(a.cliente.apellido.toUpperCase()),i="".concat(K()(a.cliente.entrada).format("HH:mm")),l="".concat(K()(a.cliente.salida).format("HH:mm")),a.egreso?v.a.fire({title:"EGRESO",html:"<pre> <b>DNI</b> <br/>"+s+"<br/> <b>Nombre completo</b> <br/>"+o+"<br/> <b>Horario de salida</b> <br/>"+l+"</pre>",icon:"info"}).then((function(e){e.isConfirmed&&window.location.reload()})):v.a.fire({title:"INGRESO",html:"<pre> <b>DNI</b> <br/>"+s+"<br/> <b>Nombre completo</b> <br/>"+o+"<br/> <b>Horario de entrada</b> <br/>"+i+"</pre>",icon:"success"}),c(ne())):v.a.fire("Error",a.msg,"error");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(a[4],t));var s=setTimeout((function(){window.location.reload()}),2e3);return function(){return clearTimeout(s)}}}},children:[Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{ref:g,autoFocus:!0,autoComplete:"off",type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"C\xd3DIGO...",name:"vDni",value:x||"",onChange:m})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success btn-lg px-5",title:"Verificar",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Verificar"]})})]}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[F.isMobile?Object(u.jsxs)("h5",{children:["Clientes que ingresaron con ",Object(u.jsx)("b",{children:"ANTICIPADA"})]}):Object(u.jsxs)("h4",{children:["Clientes que ingresaron con ",Object(u.jsx)("b",{children:"ANTICIPADA"})]}),Object(u.jsx)("h4",{className:"border p-2 mb-3 ",children:k.length}),Object(u.jsx)(We,{clientes:q,loading:I}),Object(u.jsx)(Ge,{}),Object(u.jsx)(xe,{dataPerPage:H,totalData:k.length,data:k,setCurrentPage:E})]})})]})},Je=function(){var e=Object(s.c)((function(e){return e.auth})).rol,t=Object(l.useHistory)(),n=Object(c.useState)([]),r=Object(D.a)(n,2),a=r[0],o=r[1],i=Object(s.b)();Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,o(n.eventos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[e]);return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-row mb-5",children:a.map((function(e){return Object(u.jsx)("div",{role:"button",onClick:function(){return function(e){i(se(e)),t.push("/verificar/".concat(e.id))}(e)},children:Object(u.jsx)("div",{className:"card me-3",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:e.nombre}),Object(u.jsx)("p",{className:"card-text",children:e.ubicacion})]})})},e.id)}))}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(e){t.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})},Ye=function(){var e=Object(l.useHistory)(),t=Object(c.useState)([]),n=Object(D.a)(t,2),r=n[0],a=n[1],o=Object(s.b)();Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a(n.eventos);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var i=function(e){o(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("eventos/".concat(e.id),{evento:e},"DELETE");case 2:return c=t.sent,t.next=5,c.json();case 5:(r=t.sent).ok?v.a.fire("Exito","Eliminado con \xe9xito","success"):v.a.fire("Error",r.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e));var t=setTimeout((function(){window.location.reload()}),500);return function(){return clearTimeout(t)}};return Object(u.jsxs)("div",{className:"container-fluid d-flex justify-content-center align-items-center flex-column",children:[Object(u.jsx)(f.b,{className:"mb-3",to:"/addevento",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-plus-circle"})," Evento"]})}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"row m-auto",children:r.map((function(t){return Object(u.jsx)("div",{className:"col d-flex justify-content-center align-items-center mb-2",role:"button",children:Object(u.jsxs)("div",{className:"card d-flex justify-content-center align-items-center",style:{width:"12rem"},onClick:function(n){return function(t,n){"button"!==t.target.localName&&"i"!==t.target.localName&&(o(se(n)),e.push("/detalle/".concat(n.id)))}(n,t)},children:[Object(u.jsx)("button",{className:"btn btn-danger btn-sm align-self-baseline",onClick:function(){return i(t)},children:Object(u.jsx)("i",{className:"fas fa-times fa-xs"})}),Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)("b",{children:t.nombre})}),Object(u.jsx)("p",{className:"card-text",children:t.ubicacion})]})]})},t.id)}))}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},Qe=function(e){var t=e.rpps,n=e.loading,c=Object(s.b)(),r=Object(l.useHistory)();if(n)return Object(u.jsx)("h2",{children:"Cargando..."});var a=function(e){var t;c((t=e,function(){var e=Object(h.a)(p.a.mark((function e(n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/edit/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,n(E(r.usuario));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){r.push("/editarrrpp/".concat(e))}),500)},o=function(e){c(function(e){return function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("auth/".concat(e),{},"DELETE");case 2:return c=t.sent,t.next=5,c.json();case 5:(r=t.sent).ok?v.a.fire("Exito","RPP eliminado con exito","success"):v.a.fire("Error",r.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),r.push("/controlrpp")};return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Estado"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Email"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Rol"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Deuda"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.estado?"Activo":"Inactivo"}),Object(u.jsx)("td",{className:"text-center",children:e.email}),Object(u.jsx)("td",{className:"text-center",children:e.rol}),Object(u.jsx)("td",{className:"text-center",children:e.deuda?e.deuda:"-"}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return a(e.uid)},children:"Editar"})}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return o(e.uid)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},e.uid)}))})]})})},Ze={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};he.a.setAppElement("#root");var Xe=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpen,n=Object(s.c)((function(e){return e.auth})),r=n.userAsoc,a=(n.uid,Object(s.c)((function(e){return e.eventos})).eventos),o=[],i=0;i<a.length;i++){var l={value:a[i].id,label:a[i].nombre};o.push(l)}var j=Object(c.useState)(""),d=Object(D.a)(j,2),b=d[0],m=d[1];Object(c.useEffect)((function(){e(le())}),[e]);var f=function(){e(V()),e(S())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(he.a,{isOpen:t,onRequestClose:f,style:Ze,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black d-flex justify-content-center",children:"Elegir evento"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(Oe.a,{className:"form-control mb-5",options:o,value:b,onChange:function(e){m(e)}})}),Object(u.jsxs)("button",{onClick:function(){return e(w(r,b)),void f()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-link"}),Object(u.jsx)("span",{children:" Asociar"})]})]})})},$e={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}};he.a.setAppElement("#root");var _e=function(){for(var e=Object(s.b)(),t=Object(s.c)((function(e){return e.ui})).modalOpenn,n=Object(s.c)((function(e){return e.eventos})).eventos,r=[],a=0;a<n.length;a++){var o={value:n[a].id,label:n[a].nombre};r.push(o)}var i=Object(c.useState)(""),l=Object(D.a)(i,2),j=l[0],d=l[1];Object(c.useEffect)((function(){e(le())}),[e]);var b=function(){e(z())};return Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)(he.a,{isOpen:t,onRequestClose:b,style:$e,closeTimeoutMS:200,className:"modal",ariaHideApp:!1,children:[Object(u.jsx)("h1",{className:"black",children:"Elegir evento a filtrar"}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:r,value:j,onChange:function(e){d(e)}})}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsxs)("button",{onClick:function(){return e(oe()),e(se(j)),void b()},className:"btn btn-outline-primary btn-block",children:[Object(u.jsx)("i",{className:"fas fa-filter"}),Object(u.jsx)("span",{children:"Filtrar"})]})})]})})},et=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.auth})).uid,r=Object(c.useState)(0),a=Object(D.a)(r,2),o=a[0],i=a[1],j=Object(s.c)((function(e){return e.eventos})).isFilter,d=Object(s.c)((function(e){return e.eventos})).activeEvent,b=Object(c.useState)(1),m=Object(D.a)(b,2),x=m[0],O=m[1],v=Object(c.useState)([]),g=Object(D.a)(v,2),N=g[0],C=g[1],w=Object(c.useState)(!1),E=Object(D.a)(w,2),S=E[0],A=E[1],k=Object(c.useState)(10),P=Object(D.a)(k,2),R=P[0],T=(P[1],x*R),I=T-R,L=N.slice(I,T);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,C(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rrpps/".concat(d.value));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n.rpps),C(n.rpps);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var t=Object(h.a)(p.a.mark((function t(){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(!0),t.next=3,y("auth/rpps/deudad/".concat(n));case 3:return c=t.sent,t.next=6,c.json();case 6:r=t.sent,i(r.deutotal),e(),A(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();c(),j&&t()}),[n,d,j]);var U=B({cSearch:""}),V=Object(D.a)(U,2),z=V[0],M=V[1],q=z.cSearch,G=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/search/".concat(q));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,C(n.rpps);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{id:"rpp",className:"container",children:[F.isMobile?Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center mb-3",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:G,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:q,onChange:M}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3",children:Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda total a todos los rpps"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:S?"Cargando...":"$ ".concat(o||0)})]})}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none",to:"/addrpp",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," RPP"]})})]}):Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-25",onSubmit:G,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:q,onChange:M}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(u.jsxs)("div",{className:"form-group text-center me-2",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda total a todos los rpps"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:S?"Cargando...":"$ ".concat(o||0)})]})}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none",to:"/addrpp",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo RPP",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," RPP"]})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de RPP"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:N.length}),Object(u.jsxs)("div",{className:"d-flex flex-row",children:[Object(u.jsxs)("button",{className:"btn btn-primary mb-2 me-2",onClick:function(){t(H())},title:"Filtrar por Evento",children:[Object(u.jsx)("i",{className:"fas fa-filter"})," Filtrar por Evento"]}),j&&Object(u.jsxs)("button",{className:"btn btn-outline-danger mb-2 ms-2",onClick:function(){t(ie())},title:"Sacar filtro",children:[Object(u.jsx)("i",{className:"fas fa-close"})," Filtrado por evento: ",d.label]})]}),Object(u.jsx)(Qe,{rpps:L,loading:S}),Object(u.jsx)(Xe,{}),Object(u.jsx)(_e,{}),Object(u.jsx)(xe,{dataPerPage:R,totalData:N.length,data:N,setCurrentPage:O}),Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3",children:Object(u.jsxs)("button",{className:"btn btn-primary mt-2",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},tt=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),r=Object(s.c)((function(e){return e.auth})).uid,a=Object(l.useLocation)(),o=Object(l.useHistory)(),i=a.pathname.substring(a.pathname.lastIndexOf("/")+1);if(n)return Object(u.jsx)("h2",{children:"Cargando..."});var j=function(e){c(function(e,t,n){return function(){var c=Object(h.a)(p.a.mark((function c(r){var a,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y("clientes/desasociar",{uid:n,evento:t,id:e},"POST");case 2:return a=c.sent,c.next=5,a.json();case 5:s=c.sent,201===a.status?v.a.fire({title:"Exito",text:"Desasociado con \xe9xito",icon:"success",showConfirmButton:!1}):v.a.fire("Error",s.msg,"error");case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(e,i,r)),setTimeout((function(){o.push("/detalle/".concat(i))}),500)};return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-sm table-bordered table-striped":"table table-sm table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Fecha"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Entrada"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Tipo entrada"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Desasociar"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Editar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:K()(e.fecha).format("DD/MM/YYYY HH:mm")}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),e.entradas.map((function(t){return t.evento===i&&Object(u.jsxs)("td",{className:"text-center",children:["$ ",t.importe]},e.uid)})),e.entradas.map((function(t){return t.evento===i&&Object(u.jsx)("td",{className:"text-center",children:t.tipo},e.uid)})),Object(u.jsx)("td",{className:"text-center",children:e.usuario.nombre+" "+e.usuario.apellido}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return j(e.uid)},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return t=e.uid,c(X(t)),void setTimeout((function(){o.push("/editarcliente/".concat(t))}),500);var t},children:"Editar"})})]},e.uid)}))})]})})},nt=function(e){var t=e.rpps,n=e.loading,c=(Object(s.b)(),Object(l.useLocation)()),r=c.pathname.substring(c.pathname.lastIndexOf("/")+1);if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-sm table-bordered table-striped w-auto":"table table-sm table-bordered w-auto table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center",scope:"col",children:"Deuda"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsxs)("td",{className:"text-center",children:[e.nombre,"-",e.apellido]}),e.eventos.map((function(t){return t.evento===r&&Object(u.jsx)("td",{className:"text-center",children:t.deuda},e.uid)}))]},e.uid)}))})]})})},ct=function(e){var t=e.datos;return Object(u.jsx)(Fe.Document,{children:Object(u.jsx)(Fe.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white"},children:Object(u.jsxs)(Fe.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Fe.Text,{style:{marginTop:"35px",fontSize:"45px"},children:"Evento"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"45px",marginBottom:"10px"},children:t.evento?t.evento:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"35px"},children:"Fecha"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"35px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"30px",marginBottom:"5px"},children:"Detalle"}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Ganancia Total"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.gan?t.gan:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Deuda Total"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.deuTotal?t.deuTotal:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Ganancia anticipadas"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.ganTotal?t.ganTotal:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Ganancia puerta"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.ganPuerta?t.ganPuerta:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Cantidad de Clientes"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.cantCli?t.cantCli:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Cantidad de RRPP"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"10px"},children:t.cantRrpp?t.cantRrpp:""})]})})})},rt=Fe.StyleSheet.create({table:{width:"100%"},row:{display:"flex",flexDirection:"row",borderTop:"1px solid #EEE",paddingTop:8,paddingBottom:8},header:{borderTop:"none"},bold:{fontWeight:"bold"},row1:{width:"20%"},row2:{width:"20%"},row3:{width:"20%"},row4:{width:"20%"},row5:{width:"20%"}}),at=function(e){var t=e.datos,n=e.clientes;return Object(u.jsx)(Fe.Document,{children:Object(u.jsx)(Fe.Page,{size:"A4",style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:25},children:Object(u.jsxs)(Fe.View,{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",backgroundColor:"white",padding:5},children:[Object(u.jsx)(Fe.Text,{style:{marginTop:"35px",fontSize:"30px"},children:"Evento"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"30px",marginBottom:"10px"},children:t.evento?t.evento:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px"},children:"Fecha"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"20px",marginBottom:"5px"},children:t.fecha?t.fecha:""}),Object(u.jsx)(Fe.Text,{style:{fontSize:"20px",marginBottom:"5px"},children:"Planilla"}),Object(u.jsx)(Fe.Text,{style:{fontSize:"15px"},children:"Cantidad de Clientes"}),Object(u.jsx)(Fe.Text,{style:{color:"#08298A",fontSize:"15px",marginBottom:"10px"},children:t.cantCli?t.cantCli:""}),Object(u.jsxs)(Fe.View,{style:rt.table,children:[Object(u.jsxs)(Fe.View,{style:[rt.row,rt.bold,rt.header],fixed:!0,children:[Object(u.jsx)(Fe.Text,{style:{width:"20%",border:"1px solid black"},children:"DNI"}),Object(u.jsx)(Fe.Text,{style:{width:"20%",border:"1px solid black"},children:"NOMBRE"}),Object(u.jsx)(Fe.Text,{style:{width:"20%",border:"1px solid black"},children:"APELLIDO"}),Object(u.jsx)(Fe.Text,{style:{width:"20%",border:"1px solid black"},children:"USUARIO"}),Object(u.jsx)(Fe.Text,{style:{width:"20%",border:"1px solid black"},children:"ENTRADA"})]}),n.map((function(e){return Object(u.jsxs)(Fe.View,{style:rt.row,wrap:!1,children:[Object(u.jsx)(Fe.Text,{style:{width:"20%"},children:e.dni}),Object(u.jsx)(Fe.Text,{style:{width:"20%"},children:e.nombre}),Object(u.jsx)(Fe.Text,{style:{width:"20%"},children:e.apellido}),Object(u.jsxs)(Fe.Text,{style:{width:"20%",fontSize:"15px",flexWrap:"wrap"},children:[e.usuario.nombre," ",e.usuario.apellido]}),Object(u.jsx)(Fe.Text,{style:{width:"20%",fontSize:"15px",flexWrap:"wrap"},children:e.tipo})]},e.dni)}))]})]})})})},st=function(e){for(var t=e.dataPerPage,n=e.totalData,r=e.data,a=e.setCurrentPage,o=Object(s.b)(),i=[],l=Object(c.useState)(5),j=Object(D.a)(l,2),d=j[0],b=(j[1],1);b<=Math.ceil(n/t);b++)i.push(b);var m=Object(s.c)((function(e){return e.eventos})).currentPage;return Object(u.jsx)("nav",{children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item first",children:Object(u.jsx)("span",{onClick:function(){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].innerText,e.toString();document.getElementsByClassName("first"),1!==e&&(a((function(e){return e-1})),o(fe(e-1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-left"})})}),function(){var e=Math.floor((m-1)/d)*d;return new Array(d).fill().map((function(t,n){return e+n+1}))}().map((function(e){return Object(u.jsx)("li",{onClick:function(e){return function(e){for(var t=document.getElementsByTagName("li"),n=0;n<t.length;n++)t[n].classList.remove("active");e.target.parentElement.classList.add("active")}(e)},className:1===e?"page-item active":"page-item",children:Object(u.jsx)("span",{onClick:function(){return n=e,Math.ceil(r.length/t),a(n),o(fe(n)),document.getElementsByClassName("last"),void document.getElementsByClassName("first");var n},className:"page-link",children:e})},e)})),Object(u.jsx)("li",{className:"page-item last",children:Object(u.jsx)("span",{onClick:function(){return function(e){console.log(e);for(var n=document.getElementsByTagName("li"),c=0;c<n.length;c++)n[c].innerText,e.toString();var s=Math.ceil(r.length/t);document.getElementsByClassName("last"),document.getElementsByClassName("first"),e!==s&&(a((function(e){return e+1})),o(fe(e+1)))}(m)},className:"page-link",children:Object(u.jsx)("i",{className:"fas fa-arrow-circle-right"})})})]})})},ot=function(){var e=Object(l.useHistory)(),t=Object(l.useLocation)(),n=Object(s.b)(),r=Object(s.c)((function(e){return e.auth})).uid,a=t.pathname.substring(t.pathname.lastIndexOf("/")+1),o=Object(c.useState)(!1),i=Object(D.a)(o,2),j=i[0],d=i[1],b=Object(c.useState)(0),m=Object(D.a)(b,2),f=m[0],x=m[1],O=Object(c.useState)(0),g=Object(D.a)(O,2),N=g[0],C=g[1],w=Object(c.useState)(0),E=Object(D.a)(w,2),S=E[0],A=E[1],k=Object(s.c)((function(e){return e.eventos})).activeEvent,P=Object(c.useState)(1),R=Object(D.a)(P,2),T=R[0],B=R[1],I=Object(c.useState)([]),L=Object(D.a)(I,2),U=L[0],V=L[1],H=Object(c.useState)(0),z=Object(D.a)(H,2),M=z[0],q=z[1],G=Object(c.useState)(0),W=Object(D.a)(G,2),J=W[0],Y=W[1],Q=Object(c.useState)(!1),Z=Object(D.a)(Q,2),X=Z[0],$=Z[1],_=Object(c.useState)(10),ee=Object(D.a)(_,2),te=ee[0],ne=(ee[1],T*te),ce=ne-te,re=U.slice(ce,ne),ae=Object(c.useState)(1),se=Object(D.a)(ae,2),oe=se[0],ie=se[1],le=Object(c.useState)([]),ue=Object(D.a)(le,2),je=ue[0],de=ue[1],be=Object(c.useState)(10),me=Object(D.a)(be,2),fe=me[0],pe=(me[1],oe*fe),he=pe-fe,Oe=je.slice(he,pe);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/rpps");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,V(n.rpps),Y(n.total);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/evento/".concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,de(n.clientes),d(!0),q(n.total);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $(!0),e.next=3,y("auth/eventos/deugan/".concat(a));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,x(n.deutotal),C(n.gantotal),A(n.ganpuerta),$(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n();var c=function(){var n=Object(h.a)(p.a.mark((function n(){return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $(!0),n.next=3,y("auth/rpps/deudad/".concat(r));case 3:e(),t(),$(!1);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();c()}),[a,r]);var ve=function(){var e;n((e=a,function(){var t=Object(h.a)(p.a.mark((function t(n){var c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y("eventos/finalizado",{evento:e},"POST");case 2:return c=t.sent,t.next=5,c.json();case 5:(r=t.sent).ok?v.a.fire("Exito","Evento cerrado con \xe9xito","success"):v.a.fire("Error",r.msg,"error");case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))};return Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:k&&Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:k.nombre})})}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-evenly align-items-center",children:[k&&Object(u.jsx)(Fe.PDFDownloadLink,{document:Object(u.jsx)(ct,{datos:{gan:N+S-f,deuTotal:f,ganTotal:N,ganPuerta:S,evento:k.nombre,fecha:K()(k.fecha).format("DD-MM-yyyy"),cantCli:je.length,cantRrpp:U.length}}),fileName:"detalle.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir detalle"]})})}),k&&j&&Object(u.jsx)(Fe.PDFDownloadLink,{document:Object(u.jsx)(at,{clientes:je,datos:{evento:k.nombre,fecha:K()(k.fecha).format("DD-MM-yyyy"),cantCli:je.length,cantRrpp:U.length}}),fileName:"planilla-clientes.pdf",className:"text-decoration-none",children:Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-outline-primary mt-2 mb-2",type:"submit",children:[Object(u.jsx)("i",{className:"fas fa-print"})," Imprimir planilla clientes"]})})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-danger mb-2",onClick:function(){ve()},children:[Object(u.jsx)("i",{className:"fas fa-lock"})," Cerrar Evento"]})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-2",onClick:function(){!function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/resetingresos");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.ok&&v.a.fire("Exito","Ingresos de clientes reseteados con exito","success");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}()},children:[Object(u.jsx)("i",{className:"fas fa-arrow-rotate-left"})," Resetear Ingresos"]})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-success mb-2",onClick:function(t){e.push("/listafree/".concat(a))},children:[Object(u.jsx)("i",{className:"fas fa-list"})," Lista FREE"]})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-warning mb-2",onClick:function(t){e.push("/editar/".concat(a))},children:[Object(u.jsx)("i",{className:"fas fa-edit"})," Editar"]})})]})]}),Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center mb-3",children:[Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Deuda a RRPPs"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:X?"Cargando...":"$ ".concat(f||0)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ingreso de anticipadas"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:X?"Cargando...":"$ ".concat(N)})]}),Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ingreso por puerta"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:X?"Cargando...":"$ ".concat(S)})]})]}),Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsxs)("div",{className:"form-group text-center me-2 w-25 form-group",children:[Object(u.jsx)("label",{children:Object(u.jsx)("b",{children:"Ganancia total"})}),Object(u.jsx)("input",{disabled:!0,className:"form-control",type:"text",value:X?"Cargando...":"$ ".concat(N+S-f)})]})}),F.isMobile?Object(u.jsxs)("div",{className:"form-group d-flex justify-content-between align-items-start flex-column mb-1",children:[Object(u.jsxs)("div",{className:"d-flex justify-content-start align-items-center flex-column pb-2",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"RRPPs"})}),Object(u.jsx)("h5",{children:J}),Object(u.jsx)(nt,{rpps:re,loading:X}),Object(u.jsx)(st,{dataPerPage:te,totalData:U.length,data:U,setCurrentPage:B})]}),Object(u.jsxs)("div",{className:"d-flex justify-content-end align-items-center flex-column",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"Clientes"})}),Object(u.jsx)("h4",{children:M}),Object(u.jsx)(tt,{clientes:Oe,loading:X}),Object(u.jsx)(xe,{dataPerPage:fe,totalData:je.length,data:je,setCurrentPage:ie})]})]}):Object(u.jsxs)("div",{className:"form-group d-flex justify-content-between align-items-start flex-row mb-1",children:[Object(u.jsxs)("div",{className:"col-3 d-flex justify-content-start align-items-center flex-column pe-2",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"RRPPs"})}),Object(u.jsx)("h5",{children:J}),Object(u.jsx)(nt,{rpps:re,loading:X}),Object(u.jsx)(st,{dataPerPage:te,totalData:U.length,data:U,setCurrentPage:B})]}),Object(u.jsxs)("div",{className:"col-9 d-flex justify-content-end align-items-center flex-column",children:[Object(u.jsx)("h3",{className:"text-dark",children:Object(u.jsx)("b",{children:"Clientes"})}),Object(u.jsx)("h4",{children:M}),Object(u.jsx)(tt,{clientes:Oe,loading:X}),Object(u.jsx)(xe,{dataPerPage:fe,totalData:je.length,data:je,setCurrentPage:ie})]})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/controlevento")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})},it=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.eventos})).activeEvent,r=Object(c.useState)(n.fecha),a=Object(D.a)(r,2),o=a[0],i=a[1],j=B({eUbicacion:n?n.ubicacion:"",eVip:n?n.vip:"",ePreferencial:n?n.preferencial:"",eGeneral:n?n.general:"",ePuerta:n?n.puerta:""}),d=Object(D.a)(j,2),b=d[0],m=d[1],f=b.eUbicacion,x=b.eVip,O=b.ePreferencial,g=b.eGeneral,N=b.ePuerta;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h3",children:Object(u.jsx)("b",{children:"Nombre del evento"})}),n&&Object(u.jsx)("h3",{className:"text-dark",children:n.nombre})]}),Object(u.jsxs)("form",{onSubmit:function(e){var c,r,a,s,i,l,u;e.preventDefault(),t((c=n.id,r=f,a=x,s=O,i=g,l=N,u=o,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("eventos/".concat(c),{ubicacion:r,vip:a,preferencial:s,general:i,fecha:u,puerta:l},"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:(o=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Ubicacion"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eUbicacion",type:"text",value:f,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Fecha"})}),Object(u.jsx)(Be.a,{onChange:function(e){i(e)},value:o,className:"border rounded-pill text-center form-control",format:"dd-MM-yyyy"})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("h4",{children:"Precios de las entradas"})}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"VIP"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eVip",type:"number",value:x,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Preferencial"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"ePreferencial",type:"number",value:O,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"General"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"eGeneral",type:"number",value:g,onChange:m})})]}),Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Puerta"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"ePuerta",type:"number",value:N,onChange:m})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Actualizar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/controlevento")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})})},lt=K()(),ut=function(){for(var e=Object(c.useState)(!1),t=Object(D.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(D.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(!1),d=Object(D.a)(j,2),b=d[0],m=d[1],f=document.querySelector("canvas"),x=f&&f.toDataURL("image/png",.3),O=Object(s.c)((function(e){return e.ui})).estadoWsp,g=Object(s.c)((function(e){return e.clientes})).body,N=Object(s.c)((function(e){return e.auth})).uid,C=Object(Ee.useHistory)(),w=Object(s.b)(),E=B({cNombre:"",cApellido:""}),S=Object(D.a)(E,4),A=S[0],k=S[1],P=S[2],R=S[3],T=Pe({cDni:""}),I=Object(D.a)(T,2),F=I[0],L=I[1],U=B({cCelular:""}),V=Object(D.a)(U,5),H=V[0],z=V[1],q=V[2],G=(V[3],V[4]),W=H.cCelular,K=A.cNombre,Y=A.cApellido,Z=F.cDni,X=Object(s.c)((function(e){return e.eventos})),$=X.eventos,_=X.precios,te=[],ne=0;ne<$.length;ne++){var ce={value:$[ne].id,label:$[ne].nombre};te.push(ce)}var re=[];_&&(re=[{value:_[0].vip,label:"$".concat(_[0].vip," - VIP")},{value:_[0].general,label:"$".concat(_[0].general," - General")},{value:_[0].preferencial,label:"$".concat(_[0].preferencial," - Preferencial")}]);var ae=Object(c.useState)(""),se=Object(D.a)(ae,2),oe=se[0],ie=se[1],le=Object(c.useState)(""),de=Object(D.a)(le,2),be=de[0],me=de[1];Object(c.useEffect)((function(){if(w(ue(N)),g)if("error"===g.status)v.a.fire("Error",g.message,"error"),P(),q(),w(ee());else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");R(t,g.cliente.apellido,e,g.cliente.nombre,n,g.cliente.celular),G(n,g.cliente.celular),r(!0),l(!0),v.a.fire("Exito","El cliente existe en la base de datos","success"),w(ee())}}),[w,N,g]),Object(c.useEffect)((function(){setTimeout((function(){w(M())}),1e3),setTimeout((function(){w(M())}),5e3)}),[w]);return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("span",{className:"bg-light rounded",children:["Estado ",Object(u.jsx)("i",{style:{fontSize:"1.1rem",color:"green",marginLeft:"-8px",marginRight:"-5px"},className:"py-3 px-2 fab fa-whatsapp fa-xs position-sticky"}),": ",Object(u.jsx)("b",{className:"Conectado"===O?"text-success":"text-danger",children:O})]})}),Object(u.jsx)("h3",{children:"Cargar cliente"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i?(w(Q(Z,W,lt.toDate(),N,oe,be,x)),m(!0),r(!1),l(!1),P()):(w(J(Z,K,Y,W,lt.toDate(),!0,N,oe,be,x)),m(!0),r(!1),l(!1),P())},children:[Object(u.jsx)("div",{className:"form-group mb-5",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:Z,autoComplete:"off",onChange:function(e){return L(e)}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:K,disabled:n,onChange:k})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:Y,disabled:n,onChange:k})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:W,onChange:z})}),Object(u.jsx)("h3",{children:"Elegir evento"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:te,value:oe,onChange:function(e){ie(e),w(je(e.value))}})}),Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),_&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(Oe.a,{options:re,value:be,onChange:function(e){me(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){C.push("/controlcliente")},children:"Volver"})}),Object(u.jsx)(ke,{uid:N,dni:Z}),b&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-success mt-2 d-flex justify-content-center align-items-center",onClick:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:"ok"===(r=e.sent).status?(v.a.fire({title:"Exito",text:r.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("wsp/chat/sendpdf/".concat(W),{dni:Z},"POST");case 2:return t=e.sent,e.next=5,t.json();case 5:"error"===(n=e.sent).status?(v.a.fire("Error",n.message,"error"),w(M())):(v.a.fire("Exito",n.message,"success"),w(M()));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"Conectado"===O?v.a.fire({title:"\xbfEstas seguro de enviar el PDF a este numero +54 9 "+W+"?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, enviar!"}).then((function(t){t.isConfirmed&&(e(),w(M()))})):v.a.fire("Error","Ningun celular esta conectado al servidor","error")}),2e3)):v.a.fire("Error",r.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e(Z,oe.value)},children:[Object(u.jsx)("i",{style:{fontSize:"1.5rem"},className:"py-0 px-2 fab fa-whatsapp fa-xs position-sticky"})," Enviar PDF por WSP"]})})]})},jt=function(){var e=Object(l.useHistory)(),t=Object(c.useState)(!1),n=Object(D.a)(t,2),r=n[0],a=n[1],o=Object(s.c)((function(e){return e.auth})),i=o.uid,j=o.rol,d=Object(c.useState)(1),b=Object(D.a)(d,2),m=b[0],x=b[1],O=Object(c.useState)([]),v=Object(D.a)(O,2),g=v[0],N=v[1],C=Object(c.useState)(!1),w=Object(D.a)(C,2),E=w[0],S=w[1],A=Object(c.useState)(10),k=Object(D.a)(A,2),P=k[0],R=(k[1],m*P),T=R-P,I=g.slice(T,R);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,y("clientes/".concat(i));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,N(n.clientes),S(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),"GENERAL"===j&&a(!0)}),[a,j,i]);var L=B({cSearch:""}),U=Object(D.a)(L,2),V=U[0],H=U[1],z=V.cSearch,M=function(e){e.preventDefault();var t=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/search/".concat(z,"/").concat(i));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,N(n.clientes);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()};return Object(u.jsxs)("div",{className:"container",children:[F.isMobile?Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-100",onSubmit:M,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:z,onChange:H}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none mb-2",to:"/addclientegeneral",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})})]}):Object(u.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-center",children:[Object(u.jsxs)("form",{className:"form-group d-flex justify-content-center align-items-center mb-2 w-25",onSubmit:M,children:[Object(u.jsx)("input",{className:"form-control me-2 text-center",title:"Busqueda por apellido",placeholder:"Ingrese el apellido...",type:"text",name:"cSearch",value:z,onChange:H}),Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:Object(u.jsx)("i",{className:"fas fa-search"})})]}),Object(u.jsx)(f.b,{className:"w-25 d-flex justify-content-end text-decoration-none",to:"/addclientegeneral",children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente"]})})]}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Clientes"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:g.length}),Object(u.jsx)(ae,{clientes:I,loading:E}),Object(u.jsx)(ge,{}),Object(u.jsx)(xe,{dataPerPage:P,totalData:g.length,data:g,setCurrentPage:x}),r&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},dt=K()(),bt=function(){var e=Object(Ee.useLocation)(),t=Object(c.useState)(0),n=Object(D.a)(t,2),r=n[0],a=(n[1],e.pathname.split("/")),o=(Object(s.c)((function(e){return e.auth})).uid,Object(c.useState)(dt.toDate())),i=Object(D.a)(o,2),l=i[0],j=i[1],d=Object(Ee.useHistory)(),b=Object(s.b)(),m=B({cDni:"",cNombre:"",cApellido:""}),f=Object(D.a)(m,2),x=f[0],O=f[1],v=x.cDni,g=(x.cCelular,x.cNombre),N=x.cApellido,C=Object(s.c)((function(e){return e.eventos})).precios,w=[];C&&(w=[{value:C[0].vip,label:"$".concat(C[0].vip," - VIP")},{value:C[0].general,label:"$".concat(C[0].general," - General")},{value:C[0].preferencial,label:"$".concat(C[0].preferencial," - Preferencial")}]);var E=Object(c.useState)(""),S=Object(D.a)(E,2),A=S[0],k=S[1];Object(c.useEffect)((function(){b(je(a[2]))}),[]);return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("h3",{children:"Cargar cliente por puerta"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a[2]&&b(function(e,t){return function(){var n=Object(h.a)(p.a.mark((function n(c){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y("clientes/puerta",{cantidad:e,evento:t},"POST");case 2:return r=n.sent,n.next=5,r.json();case 5:n.sent;case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(r,a[2]))},children:[Object(u.jsx)("div",{className:"form-group mb-2",children:Object(u.jsx)("input",{type:"text",title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:v,autoComplete:"off",onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:g,onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:N,onChange:O})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)(Be.a,{onChange:function(e){j(e)},value:l,className:"form-control mb-3 text-center",format:"dd-MM-yyyy HH:mm:ss"})}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),C&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(Oe.a,{options:w,value:A,onChange:function(e){k(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){d.push("/verificar/"+a[2])},children:"Volver"})})]})},mt=function(){var e=Object(l.useHistory)(),t=Object(l.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),r=Object(s.b)(),a=B({vDni:"",hash:""}),o=Object(D.a)(a,2),i=o[0],j=o[1],d=i.vDni,b=i.hash,m=Object(s.c)((function(e){return e.eventos})).activeEvent,f=Object(c.useRef)(null);return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-1",children:m&&Object(u.jsx)("span",{className:"h1",children:m.nombre})}),Object(u.jsx)("h2",{className:"d-flex justify-content-center",children:"Verificar QR entrada"}),Object(u.jsxs)("form",{className:"mb-5",onSubmit:function(e){if(e.preventDefault(),n){var t=b.replaceAll("/","-").replaceAll("$","@");r(function(e,t,n){return function(){var c=Object(h.a)(p.a.mark((function c(r){var a,s;return p.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y("clientes/hash/".concat(e,"/").concat(t,"/").concat(n));case 2:return a=c.sent,c.next=5,a.json();case 5:s=c.sent,200===a.status?v.a.fire("Verificado",s.msg,"success"):v.a.fire("Error",s.msg,"error");case 7:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t.trim(),d.trim(),n))}},children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("input",{ref:f,autoFocus:!0,autoComplete:"off",type:"text",className:"form-control mb-2 border border-primary text-center",placeholder:"Ingrese DNI...",name:"vDni",value:d,onChange:j}),Object(u.jsx)("input",{autoComplete:"off",type:"password",title:"Verificar el QR",className:"form-control mb-2 border border-primary text-center",placeholder:"Ingrese QR...",name:"hash",value:b,onChange:j})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-warning btn-lg px-5",value:"Verificar QR"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{className:"btn btn-primary",onClick:function(t){e.push("/verificar/".concat(n))},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})},ft=function(){var e=Object(l.useHistory)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.clientes})).clienteAsoc,c=B({cNombre:n?n.nombre:"",cApellido:n?n.apellido:"",cCelular:n?n.celular:""}),r=Object(D.a)(c,2),a=r[0],o=r[1],i=(a.cNombre,a.cApellido,a.cCelular);return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-1",children:[Object(u.jsx)("label",{className:"form-label h3",children:Object(u.jsx)("b",{children:"DNI"})}),n&&Object(u.jsx)("h3",{className:"text-dark",children:n.dni})]}),Object(u.jsxs)("form",{onSubmit:function(c){var r,a;c.preventDefault(),t((r=n.dni,a=i,function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/editt",{dni:r,celular:a},"PUT");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",c.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){e.goBack()}),500)},children:[Object(u.jsxs)("div",{className:"form-group d-flex justify-content-center align-items-center flex-column mb-3",children:[Object(u.jsx)("label",{className:"form-label h5",children:Object(u.jsx)("b",{children:"Celular"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"border rounded-pill text-center form-control",name:"cCelular",type:"text",value:i,onChange:o})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center mb-2",children:Object(u.jsxs)("button",{type:"submit",className:"btn btn-success",children:[Object(u.jsx)("i",{className:"fas fa-check"})," Actualizar"]})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/")},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})})},xt=K()(),pt=function(){for(var e=Object(c.useState)(!1),t=Object(D.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(D.a)(a,2),i=o[0],l=o[1],j=Object(c.useState)(!1),d=Object(D.a)(j,2),b=d[0],m=d[1],f=document.querySelector("canvas"),x=f&&f.toDataURL("image/jpg",.3),O=Object(s.c)((function(e){return e.auth})).uid,g=Object(s.c)((function(e){return e.ui})).estadoWsp,N=Object(s.c)((function(e){return e.clientes})).body,C=Object(Ee.useHistory)(),w=Object(s.b)(),E=B({cNombre:"",cApellido:""}),S=Object(D.a)(E,4),A=S[0],k=S[1],P=S[2],R=S[3],T=Pe({cDni:""}),I=Object(D.a)(T,2),F=I[0],L=I[1],U=B({cCelular:""}),V=Object(D.a)(U,5),H=V[0],z=V[1],q=V[2],G=(V[3],V[4]),W=H.cCelular,K=A.cNombre,J=A.cApellido,Q=F.cDni,X=Object(s.c)((function(e){return e.eventos})),$=X.eventos,_=X.precios,te=[],ne=0;ne<$.length;ne++){var ce={value:$[ne].id,label:$[ne].nombre};te.push(ce)}var re=[];_&&(re=[{value:0,label:"Free"}]);var ae=Object(c.useState)(""),se=Object(D.a)(ae,2),oe=se[0],ie=se[1],ue=Object(c.useState)(""),de=Object(D.a)(ue,2),be=de[0],me=de[1];Object(c.useEffect)((function(){if(w(le()),N)if("error"===N.status)P(),q(),w(ee()),r(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");R(t,N.cliente.apellido,e,N.cliente.nombre,n,N.cliente.celular),G(n,N.cliente.celular),r(!0),l(!0),w(ee())}}),[w,N]),Object(c.useEffect)((function(){setTimeout((function(){w(M())}),1e3),setTimeout((function(){w(M())}),5e3)}),[w]);var fe=Object(c.useState)(["e","E","+","-",".",","]),xe=Object(D.a)(fe,1)[0];return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("span",{className:"bg-light rounded",children:["Estado ",Object(u.jsx)("i",{style:{fontSize:"1.1rem",color:"green",marginLeft:"-8px",marginRight:"-5px"},className:"py-3 px-2 fab fa-whatsapp fa-xs position-sticky"}),": ",Object(u.jsx)("b",{className:"Conectado"===g?"text-success":"text-danger",children:g})]})}),Object(u.jsx)("h3",{children:"Cargar cliente"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===W||""===Q||""===J||""===K||""===oe||""===be)return v.a.fire("Error","Debes de rellenar todos los campos","error");i?(w(Z(Q,W,xt.toDate(),O,oe,be,x)),m(!0),r(!1),l(!1)):(w(Y(Q,K.trim(),J.trim(),W,xt.toDate(),!0,O,oe,be,x)),m(!0),r(!1),l(!1))},children:[Object(u.jsx)("div",{className:"form-group mb-5",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:Q,autoComplete:"off",onChange:function(e){return L(e)},onKeyDown:function(e){return xe.includes(e.key)&&e.preventDefault()}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:W,onChange:z})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:K,disabled:n,onChange:k})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:n?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:J,disabled:n,onChange:k})}),Object(u.jsx)("h3",{children:"Elegir evento"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Evento"})}),Object(u.jsx)("div",{className:"form-control mb-2",children:Object(u.jsx)(Oe.a,{options:te,value:oe,onChange:function(e){ie(e),w(je(e.value))}})}),Object(u.jsx)("label",{className:"form-label",style:{color:"white"},children:Object(u.jsx)("b",{children:"Entrada"})}),_&&Object(u.jsx)("div",{className:"form-control mb-5",children:Object(u.jsx)(Oe.a,{options:re,value:be,onChange:function(e){me(e)}})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){C.push("/")},children:"Volver"})}),Object(u.jsx)(ke,{uid:O,dni:Q}),b&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-success mt-2 d-flex justify-content-center align-items-center",onClick:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:"ok"===(r=e.sent).status?(v.a.fire({title:"Exito",text:r.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("wsp/chat/sendpdf/".concat(W),{dni:Q},"POST");case 2:return t=e.sent,e.next=5,t.json();case 5:"error"===(n=e.sent).status?(v.a.fire("Error",n.message,"error"),w(M())):(v.a.fire("Exito",n.message,"success"),w(M()));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"Conectado"===g?v.a.fire({title:"\xbfEstas seguro de enviar el PDF a este numero +54 9 "+W+"?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, enviar!"}).then((function(t){t.isConfirmed&&(e(),w(M()))})):v.a.fire("Error","Ningun celular esta conectado al servidor","error")}),2e3)):v.a.fire("Error",r.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e(Q,oe.value)},children:[Object(u.jsx)("i",{style:{fontSize:"1.5rem"},className:"py-0 px-2 fab fa-whatsapp fa-xs position-sticky"})," Enviar PDF por WSP"]})})]})},ht=function(){var e=Object(s.c)((function(e){return e.auth})).userAsoc,t=B({rNombre:e?e.nombre:"",rApellido:e?e.apellido:"",rEmail:e?e.email:"",rComision:e?e.comisionEnt:"",rComisionTarjetero:e?e.comisionRRPP:"",rCantidadFree:e?e.maxFree:""}),n=Object(D.a)(t,2),c=n[0],r=n[1],a=Object(s.b)(),o=Object(Ee.useHistory)(),i=c.rNombre,l=c.rApellido,j=c.rEmail,d=c.rComision,b=c.rComisionTarjetero,m=c.rCantidadFree;return Object(u.jsxs)("div",{className:"col-md-6 login-form-2",children:[Object(u.jsx)("h3",{children:" Actualizar RPP"}),e&&Object(u.jsxs)("h5",{className:"text-center",style:{color:"white"},children:[" DNI - ",e.dni]}),Object(u.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===i||""===l||""===j||""===d||""===m)return v.a.fire("Error","Debes de rellenar todos los campos","error");var n,c,r,s,u,f,x;a((n=e.dni,c=j,r=i,s=l,u=d,f=b,x=m,function(){var e=Object(h.a)(p.a.mark((function e(t){var a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/editt",{dni:n,email:c,nombre:r,apellido:s,comisionEnt:u,comisionRRPP:f,maxFree:x},"PUT");case 2:return a=e.sent,e.next=5,a.json();case 5:(o=e.sent).ok?v.a.fire("Exito","Actualizado con \xe9xito","success"):v.a.fire("Error",o.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),setTimeout((function(){o.goBack()}),500)},children:[Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Nombre"}),Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Nombre",name:"rNombre",value:i,onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Apellido"}),Object(u.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Apellido",name:"rApellido",value:l,onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Email"}),Object(u.jsx)("input",{type:"email",className:"form-control mb-2",placeholder:"Correo",name:"rEmail",value:j,autoComplete:"new-password",onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Comision"}),Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision de Entradas de cada RRPP o TARJETERO",name:"rComision",value:d,onChange:r})]}),Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Cantidad de FREE"}),Object(u.jsx)("input",{type:"number",title:"Cantidad Free",className:"form-control mb-2",placeholder:"Cantidad de clientes FREE de este usuario",name:"rCantidadFree",value:m,onChange:r})]}),"RRPP"===e.rol&&Object(u.jsxs)("div",{className:"form-group text-center",children:[Object(u.jsx)("label",{style:{color:"white"},children:"Comision de RRPP sobre Tarjeteros"}),Object(u.jsx)("input",{type:"number",title:"Comision",className:"form-control mb-2",placeholder:"Comision que cobra el RRPP a los TARJETEROS",name:"rComisionTarjetero",value:b,onChange:r})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Actualizar"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){o.push("/controlrpp")},children:"Volver"})})]})},Ot=function(e){var t=e.clientes,n=e.loading,c=Object(s.b)(),r=Object(l.useHistory)(),a=Object(l.useLocation)(),o=a.pathname.substring(a.pathname.lastIndexOf("/")+1),i=Object(s.c)((function(e){return e.auth})).uid;if(n)return Object(u.jsx)("h2",{children:"Cargando..."});return Object(u.jsx)(u.Fragment,{children:t&&Object(u.jsxs)("table",{className:F.isMobile?"d-block overflow-scroll table table-bordered table-striped":"table table-bordered table-striped",children:[Object(u.jsx)("thead",{className:"bg-dark text-light",children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"DNI"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Nombre"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Apellido"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Celular"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eventos"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Usuario"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Editar"}),Object(u.jsx)("th",{className:"text-center align-middle",scope:"col",children:"Eliminar"})]})}),Object(u.jsx)("tbody",{children:t.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{className:"text-center",children:e.dni}),Object(u.jsx)("td",{className:"text-center",children:e.nombre}),Object(u.jsx)("td",{className:"text-center",children:e.apellido}),Object(u.jsx)("td",{className:"text-center",children:e.celular}),Object(u.jsx)("td",{className:"text-center",children:e.entradas.map((function(t){return Object(u.jsxs)("pre",{children:[t.nombre," - $",t.importe," - ",t.tipo]},e.uid)}))}),Object(u.jsx)("td",{className:"text-center",children:e.usuario.nombre+" "+e.usuario.apellido}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-warning",onClick:function(){return function(e){c(X(e)),setTimeout((function(){r.push("/editarcliente/".concat(e))}),500)}(e.uid)},children:"Editar"})}),Object(u.jsx)("td",{className:"text-center",children:Object(u.jsx)("button",{className:"btn btn-danger",onClick:function(){return t=e.uid,c(re(t,i)),void setTimeout((function(){r.push("/listafree/".concat(o))}),500);var t},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})})]},e.uid)}))})]})})},vt=function(){Object(s.b)();var e=Object(l.useHistory)(),t=Object(Ee.useLocation)(),n=t.pathname.substring(t.pathname.lastIndexOf("/")+1),r=Object(c.useState)(1),a=Object(D.a)(r,2),o=a[0],i=a[1],j=Object(c.useState)([]),d=Object(D.a)(j,2),b=d[0],m=d[1],x=Object(c.useState)(!1),O=Object(D.a)(x,2),v=O[0],g=(O[1],Object(c.useState)(10)),N=Object(D.a)(g,2),C=N[0],w=(N[1],o*C),E=w-C,S=b.slice(E,w);Object(c.useEffect)((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/getfreeevento/".concat(n));case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,m(c.clientes);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]);return Object(u.jsxs)("div",{className:"container",children:[F.isMobile?Object(u.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/addclientefreelist/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente FREE"]})})}):Object(u.jsx)("div",{className:"d-flex flex-row justify-content-center  align-items-center mb-2",children:Object(u.jsx)(f.b,{className:"ms-1 d-flex justify-content-end text-decoration-none",to:"/addclientefreelist/".concat(n),children:Object(u.jsxs)("button",{className:"btn btn-success",title:"Cargar un nuevo Cliente",children:[Object(u.jsx)("i",{className:"fas fa-user-plus"})," Cliente FREE"]})})}),Object(u.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:[Object(u.jsx)("h4",{children:"Cantidad de Clientes FREE"}),Object(u.jsx)("h3",{className:"border p-2 mb-3 ",children:b.length}),Object(u.jsx)(Ot,{clientes:S,loading:v}),Object(u.jsx)(xe,{dataPerPage:C,totalData:b.length,data:b,setCurrentPage:i}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsxs)("button",{className:"btn btn-primary mb-5",onClick:function(t){e.push("/detalle/".concat(n))},children:[Object(u.jsx)("i",{className:"fas fa-caret-square-left"})," Volver"]})})]})]})},gt=K()(),Nt=function(){var e=Object(l.useLocation)(),t=e.pathname.substring(e.pathname.lastIndexOf("/")+1),n=Object(c.useState)(!1),r=Object(D.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(!1),j=Object(D.a)(i,2),d=j[0],b=j[1],m=Object(c.useState)(!1),f=Object(D.a)(m,2),x=f[0],O=f[1],g=document.querySelector("canvas"),N=g&&g.toDataURL("image/jpg",.3),C=Object(s.c)((function(e){return e.auth})).uid,w=Object(s.c)((function(e){return e.ui})).estadoWsp,E=Object(s.c)((function(e){return e.clientes})).body,S=Object(l.useHistory)(),A=Object(s.b)(),k=B({cNombre:"",cApellido:""}),P=Object(D.a)(k,4),R=P[0],T=P[1],I=P[2],F=P[3],L=Pe({cDni:""}),U=Object(D.a)(L,2),V=U[0],H=U[1],z=B({cCelular:""}),q=Object(D.a)(z,5),G=q[0],W=q[1],K=q[2],J=(q[3],q[4]),Q=G.cCelular,X=R.cNombre,$=R.cApellido,_=V.cDni,te=Object(s.c)((function(e){return e.eventos})).activeEvent,ne=Object(c.useState)({value:t,label:te.nombre}),ce=Object(D.a)(ne,2),re=ce[0],ae=(ce[1],Object(c.useState)({value:0,label:"Free"})),se=Object(D.a)(ae,2),oe=se[0];se[1];Object(c.useEffect)((function(){if(A(le()),E)if("error"===E.status)I(),K(),A(ee()),o(!1);else{var e=document.getElementById("cNombre"),t=document.getElementById("cApellido"),n=document.getElementById("cCelular");F(t,E.cliente.apellido,e,E.cliente.nombre,n,E.cliente.celular),J(n,E.cliente.celular),o(!0),b(!0),A(ee())}}),[A,E]),Object(c.useEffect)((function(){setTimeout((function(){A(M())}),1e3),setTimeout((function(){A(M())}),5e3)}),[A]);var ie=Object(c.useState)(["e","E","+","-",".",","]),ue=Object(D.a)(ie,1)[0];return Object(u.jsxs)("div",{className:"col-md-6 login-form-2 mb-4",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center mb-2",children:Object(u.jsxs)("span",{className:"bg-light rounded",children:["Estado ",Object(u.jsx)("i",{style:{fontSize:"1.1rem",color:"green",marginLeft:"-8px",marginRight:"-5px"},className:"py-3 px-2 fab fa-whatsapp fa-xs position-sticky"}),": ",Object(u.jsx)("b",{className:"Conectado"===w?"text-success":"text-danger",children:w})]})}),Object(u.jsx)("h3",{children:"Cargar cliente FREE"}),Object(u.jsx)("hr",{style:{color:"white"}}),Object(u.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===Q||""===_||""===$||""===X||""===re||""===oe)return v.a.fire("Error","Debes de rellenar todos los campos","error");d?(A(Z(_,Q,gt.toDate(),C,re,oe,N)),O(!0),o(!1),b(!1)):(A(Y(_,X.trim(),$.trim(),Q,gt.toDate(),!0,C,re,oe,N)),O(!0),o(!1),b(!1))},children:[Object(u.jsx)("div",{className:"form-group mb-4",children:Object(u.jsx)("input",{type:"number",maxLength:8,minLength:7,title:"Debe poner 7 digitos como minimo o 8 digitos como maximo",className:"form-control mb-2 border border-primary text-center",placeholder:"DNI",name:"cDni",value:_,autoComplete:"off",onChange:function(e){return H(e)},onKeyDown:function(e){return ue.includes(e.key)&&e.preventDefault()}})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"number",className:"form-control mb-2 text-center",placeholder:"Celular",name:"cCelular",id:"cCelular",value:Q,onChange:W})}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("input",{type:"text",className:a?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Nombre",name:"cNombre",id:"cNombre",value:X,disabled:a,onChange:T})}),Object(u.jsx)("div",{className:"form-group mb-4",children:Object(u.jsx)("input",{type:"text",className:a?"form-control mb-2 border border-primary text-center text-muted":"form-control mb-2 border border-primary text-center",placeholder:"Apellido",name:"cApellido",id:"cApellido",value:$,disabled:a,onChange:T})}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("input",{type:"submit",className:"btnSubmit",value:"Cargar cliente FREE"})})]}),Object(u.jsx)("div",{className:"form-group d-flex justify-content-center",children:Object(u.jsx)("button",{className:"btnSubmit mt-2",onClick:function(e){S.goBack()},children:"Volver"})}),Object(u.jsx)(ke,{uid:C,dni:_}),x&&"Desconectado"!==w&&Object(u.jsx)("div",{className:"form-group d-flex justify-content-center align-items-center",children:Object(u.jsxs)("button",{className:"btn btn-success mt-2 d-flex justify-content-center align-items-center",onClick:function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(t,n){var c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("clientes/fileupload",{dni:t,evento:n},"POST");case 2:return c=e.sent,e.next=5,c.json();case 5:"ok"===(r=e.sent).status?(v.a.fire({title:"Exito",text:r.msg,icon:"success",showConfirmButton:!1}),setTimeout((function(){var e=function(){var e=Object(h.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("wsp/chat/sendpdf/".concat(Q),{dni:_},"POST");case 2:return t=e.sent,e.next=5,t.json();case 5:"error"===(n=e.sent).status?(v.a.fire("Error",n.message,"error"),A(M())):(v.a.fire("Exito",n.message,"success"),A(M()));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"Conectado"===w?v.a.fire({title:"\xbfEstas seguro de enviar el PDF a este numero +54 9 "+Q+"?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, enviar!"}).then((function(t){t.isConfirmed&&(e(),A(M()))})):v.a.fire("Error","Ningun celular esta conectado al servidor","error")}),2e3)):v.a.fire("Error",r.msg,"error");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();e(_,re.value)},children:[Object(u.jsx)("i",{style:{fontSize:"1.5rem"},className:"py-0 px-2 fab fa-whatsapp fa-xs position-sticky"})," Enviar PDF por WSP"]})})]})},yt=function(){var e=Object(s.c)((function(e){return e.auth})).rol,t=Object(c.useState)(!1),n=Object(D.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(!1),i=Object(D.a)(o,2),j=(i[0],i[1]);return Object(c.useEffect)((function(){"ADMIN"===e&&a(!0),"RRPP"===e&&j(!0)}),[a,j,e]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(ze,{}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:Object(u.jsxs)(l.Switch,{children:[Object(u.jsx)(l.Route,{exact:!0,path:"/",component:we}),r?Object(u.jsx)(l.Route,{path:"/addrpp",component:He}):Object(u.jsx)(l.Route,{path:"/addcliente",component:De}),r&&Object(u.jsx)(l.Route,{path:"/addevento",component:Ve}),Object(u.jsx)(l.Route,{path:"/addclientefree",component:pt}),r&&Object(u.jsx)(l.Route,{exact:!0,path:"/verificar",component:Je}),r&&Object(u.jsx)(l.Route,{exact:!0,path:"/controlrpp",component:et}),r&&Object(u.jsx)(l.Route,{exact:!0,path:"/controlevento",component:Ye}),r&&Object(u.jsx)(l.Route,{exact:!0,path:"/verificar/:id",component:Ke}),r&&Object(u.jsx)(l.Route,{exact:!0,path:"/verificarqr/:id",component:mt}),r&&Object(u.jsx)(l.Route,{path:"/verificar/:id/addcliente",component:bt}),r&&Object(u.jsx)(l.Route,{path:"/editar/:idevento",component:it}),r&&Object(u.jsx)(l.Route,{path:"/editarrrpp/:idrrpp",component:ht}),r&&Object(u.jsx)(l.Route,{path:"/listafree/:idevento",component:vt}),r&&Object(u.jsx)(l.Route,{path:"/addclientefreelist/:idevento",component:Nt}),Object(u.jsx)(l.Route,{path:"/editarcliente/:idcliente",component:ft}),r&&Object(u.jsx)(l.Route,{path:"/detalle/:idevento",component:ot}),Object(u.jsx)(l.Route,{path:"/addclientegeneral",component:ut}),Object(u.jsx)(l.Route,{exact:!0,path:"/controlcliente",component:jt}),Object(u.jsx)(l.Route,{path:"*",component:Me}),Object(u.jsx)(l.Redirect,{to:"/"})]})})})]})},Ct=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.auth})),n=t.checking,r=t.uid;return Object(c.useEffect)((function(){e(function(){var e=Object(h.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("auth/renew");case 2:return n=e.sent,e.next=5,n.json();case 5:(c=e.sent).ok?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),t(k({uid:c.uid,nombre:c.nombre,rol:c.rol}))):t(A());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),n?Object(u.jsx)(R,{checking:n}):Object(u.jsx)(f.a,{children:Object(u.jsx)("div",{children:Object(u.jsx)("div",{children:Object(u.jsxs)(l.Switch,{children:[Object(u.jsx)(m,{exact:!0,isAuthenticated:!!r,path:"/login",component:L}),Object(u.jsx)(d,{isAuthenticated:!!r,path:"/",component:yt}),Object(u.jsx)(l.Redirect,{to:"/"})]})})})})},wt=n(69),Et=n(261),St={checking:!0,userAsoc:null},At={clienteAsoc:null,cargando:!1},kt=n(50),Pt={activeEvent:null,currentPage:1,eventos:[],precios:null,isFilter:!1},Rt={modalOpen:!1,modalOpenn:!1,estadoWsp:"Desconectado"},Dt=Object(wt.b)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.uiOpenModal:return Object(o.a)(Object(o.a)({},e),{},{modalOpen:!0});case C.uiOpenModall:return Object(o.a)(Object(o.a)({},e),{},{modalOpenn:!0});case C.uiCloseModal:return Object(o.a)(Object(o.a)({},e),{},{modalOpen:!1});case C.uiCloseModall:return Object(o.a)(Object(o.a)({},e),{},{modalOpenn:!1});case C.getEstadoWsp:return Object(o.a)(Object(o.a)({},e),{},{estadoWsp:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.authLogin:return Object(o.a)(Object(o.a)({},e),{},{checking:!1},t.payload);case C.userAsociar:case C.startClearUserAsoc:return Object(o.a)(Object(o.a)({},e),{},{userAsoc:t.payload});case C.authCheckingFinish:return Object(o.a)(Object(o.a)({},e),{},{checking:!1});case C.authLogout:return{checking:!1};default:return e}},eventos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.eventSetActive:return Object(o.a)(Object(o.a)({},e),{},{activeEvent:t.payload});case C.eventAddNew:return Object(o.a)(Object(o.a)({},e),{},{eventos:[].concat(Object(kt.a)(e.events),[t.payload])});case C.eventClearActiveEvent:return Object(o.a)(Object(o.a)({},e),{},{activeEvent:null});case C.eventUpdate:return Object(o.a)(Object(o.a)({},e),{},{eventos:e.events.map((function(e){return e.id===t.payload.id?t.payload:e}))});case C.eventDelete:return Object(o.a)(Object(o.a)({},e),{},{eventos:e.events.filter((function(t){return t.id!==e.activeEvent.id})),activeEvent:null});case C.eventosLoaded:return Object(o.a)(Object(o.a)({},e),{},{eventos:Object(kt.a)(t.payload.eventos)});case C.eventosByRppLoaded:return Object(o.a)(Object(o.a)({},e),{},{eventos:Object(kt.a)(t.payload.eventosRpp)});case C.setPrice:return Object(o.a)(Object(o.a)({},e),{},{precios:[t.payload]});case C.rppLoaded:return Object(o.a)(Object(o.a)({},e),{},{rpps:Object(kt.a)(t.payload.rpps),total:t.payload.total});case C.eventLogout:return Object(o.a)(Object(o.a)({},e),{},{eventos:[]});case C.currentPage:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.payload});case C.isFilter:return Object(o.a)(Object(o.a)({},e),{},{isFilter:!0});case C.ClearisFilter:return Object(o.a)(Object(o.a)({},e),{},{isFilter:!1});default:return e}},clientes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.clienteAsociar:case C.startClearClienteAsoc:return Object(o.a)(Object(o.a)({},e),{},{clienteAsoc:t.payload});case C.setLoading:return Object(o.a)(Object(o.a)({},e),{},{cargando:!0});case C.setClientes:return Object(o.a)(Object(o.a)({},e),{},{clientes:t.payload});case C.pasarBody:return Object(o.a)(Object(o.a)({},e),{},{body:t.payload});case C.borrarBody:return Object(o.a)(Object(o.a)({},e),{},{body:null});default:return e}}}),Tt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||wt.c,Bt=Object(wt.d)(Dt,Tt(Object(wt.a)(Et.a))),It=function(){return Object(u.jsx)(s.a,{store:Bt,children:Object(u.jsx)(Ct,{})})};n(604),n(605),n(606),n(607);a.a.render(Object(u.jsx)(It,{}),document.getElementById("root"))},71:function(e,t,n){},88:function(e,t,n){}},[[609,1,2]]]);
//# sourceMappingURL=main.53cb055a.chunk.js.map